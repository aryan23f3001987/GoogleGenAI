(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function $A(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nm={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function XA(){if(p_)return Il;p_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=t,Il.jsxs=t,Il}var g_;function WA(){return g_||(g_=1,nm.exports=XA()),nm.exports}var H=WA(),im={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function ZA(){if(y_)return Ce;y_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,L={};function O(V,ie,ce){this.props=V,this.context=ie,this.refs=L,this.updater=ce||R}O.prototype.isReactComponent={},O.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=O.prototype;function K(V,ie,ce){this.props=V,this.context=ie,this.refs=L,this.updater=ce||R}var X=K.prototype=new j;X.constructor=K,x(X,O.prototype),X.isPureReactComponent=!0;var se=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function D(V,ie,ce,ae,_e,xe){return ce=xe.ref,{$$typeof:n,type:V,key:ie,ref:ce!==void 0?ce:null,props:xe}}function S(V,ie){return D(V.type,ie,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function M(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return ie[ce]})}var P=/\/+/g;function U(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ie.toString(36)}function I(){}function pe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function qe(V,ie,ce,ae,_e){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case n:case e:be=!0;break;case _:return be=V._init,qe(be(V._payload),ie,ce,ae,_e)}}if(be)return _e=_e(V),be=ae===""?"."+U(V,0):ae,se(_e)?(ce="",be!=null&&(ce=be.replace(P,"$&/")+"/"),qe(_e,ie,ce,"",function(Kn){return Kn})):_e!=null&&(C(_e)&&(_e=S(_e,ce+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(P,"$&/")+"/")+be)),ie.push(_e)),1;be=0;var Dt=ae===""?".":ae+":";if(se(V))for(var et=0;et<V.length;et++)ae=V[et],xe=Dt+U(ae,et),be+=qe(ae,ie,ce,xe,_e);else if(et=A(V),typeof et=="function")for(V=et.call(V),et=0;!(ae=V.next()).done;)ae=ae.value,xe=Dt+U(ae,et++),be+=qe(ae,ie,ce,xe,_e);else if(xe==="object"){if(typeof V.then=="function")return qe(pe(V),ie,ce,ae,_e);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(V,ie,ce){if(V==null)return V;var ae=[],_e=0;return qe(V,ae,"","",function(xe){return ie.call(ce,xe,_e++)}),ae}function le(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var de=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Be(){}return Ce.Children={map:W,forEach:function(V,ie,ce){W(V,function(){ie.apply(this,arguments)},ce)},count:function(V){var ie=0;return W(V,function(){ie++}),ie},toArray:function(V){return W(V,function(ie){return ie})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=O,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=K,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return re.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,ie,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=x({},V.props),_e=V.key,xe=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!oe.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(ae[be]=ie[be]);var be=arguments.length-2;if(be===1)ae.children=ce;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];ae.children=Dt}return D(V.type,_e,void 0,void 0,xe,ae)},Ce.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ce.createElement=function(V,ie,ce){var ae,_e={},xe=null;if(ie!=null)for(ae in ie.key!==void 0&&(xe=""+ie.key),ie)oe.call(ie,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=ie[ae]);var be=arguments.length-2;if(be===1)_e.children=ce;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];_e.children=Dt}if(V&&V.defaultProps)for(ae in be=V.defaultProps,be)_e[ae]===void 0&&(_e[ae]=be[ae]);return D(V,xe,void 0,void 0,null,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:d,render:V}},Ce.isValidElement=C,Ce.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:le}},Ce.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ce.startTransition=function(V){var ie=re.T,ce={};re.T=ce;try{var ae=V(),_e=re.S;_e!==null&&_e(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Be,de)}catch(xe){de(xe)}finally{re.T=ie}},Ce.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ce.use=function(V){return re.H.use(V)},Ce.useActionState=function(V,ie,ce){return re.H.useActionState(V,ie,ce)},Ce.useCallback=function(V,ie){return re.H.useCallback(V,ie)},Ce.useContext=function(V){return re.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,ie){return re.H.useDeferredValue(V,ie)},Ce.useEffect=function(V,ie,ce){var ae=re.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,ie)},Ce.useId=function(){return re.H.useId()},Ce.useImperativeHandle=function(V,ie,ce){return re.H.useImperativeHandle(V,ie,ce)},Ce.useInsertionEffect=function(V,ie){return re.H.useInsertionEffect(V,ie)},Ce.useLayoutEffect=function(V,ie){return re.H.useLayoutEffect(V,ie)},Ce.useMemo=function(V,ie){return re.H.useMemo(V,ie)},Ce.useOptimistic=function(V,ie){return re.H.useOptimistic(V,ie)},Ce.useReducer=function(V,ie,ce){return re.H.useReducer(V,ie,ce)},Ce.useRef=function(V){return re.H.useRef(V)},Ce.useState=function(V){return re.H.useState(V)},Ce.useSyncExternalStore=function(V,ie,ce){return re.H.useSyncExternalStore(V,ie,ce)},Ce.useTransition=function(){return re.H.useTransition()},Ce.version="19.1.1",Ce}var __;function ip(){return __||(__=1,im.exports=ZA()),im.exports}var Q=ip();const js=$A(Q);var rm={exports:{}},xl={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function JA(){return v_||(v_=1,(function(n){function e(W,le){var de=W.length;W.push(le);e:for(;0<de;){var Be=de-1>>>1,V=W[Be];if(0<o(V,le))W[Be]=le,W[de]=V,de=Be;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],de=W.pop();if(de!==le){W[0]=de;e:for(var Be=0,V=W.length,ie=V>>>1;Be<ie;){var ce=2*(Be+1)-1,ae=W[ce],_e=ce+1,xe=W[_e];if(0>o(ae,de))_e<V&&0>o(xe,ae)?(W[Be]=xe,W[_e]=de,Be=_e):(W[Be]=ae,W[ce]=de,Be=ce);else if(_e<V&&0>o(xe,de))W[Be]=xe,W[_e]=de,Be=_e;else break e}}return le}function o(W,le){var de=W.sortIndex-le.sortIndex;return de!==0?de:W.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,T=null,A=3,R=!1,x=!1,L=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=W)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(g)}}function re(W){if(L=!1,se(W),!x)if(t(m)!==null)x=!0,oe||(oe=!0,U());else{var le=t(g);le!==null&&qe(re,le.startTime-W)}}var oe=!1,D=-1,S=5,C=-1;function M(){return O?!0:!(n.unstable_now()-C<S)}function P(){if(O=!1,oe){var W=n.unstable_now();C=W;var le=!0;try{e:{x=!1,L&&(L=!1,K(D),D=-1),R=!0;var de=A;try{t:{for(se(W),T=t(m);T!==null&&!(T.expirationTime>W&&M());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,A=T.priorityLevel;var V=Be(T.expirationTime<=W);if(W=n.unstable_now(),typeof V=="function"){T.callback=V,se(W),le=!0;break t}T===t(m)&&s(m),se(W)}else s(m);T=t(m)}if(T!==null)le=!0;else{var ie=t(g);ie!==null&&qe(re,ie.startTime-W),le=!1}}break e}finally{T=null,A=de,R=!1}le=void 0}}finally{le?U():oe=!1}}}var U;if(typeof X=="function")U=function(){X(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=P,U=function(){pe.postMessage(null)}}else U=function(){j(P,0)};function qe(W,le){D=j(function(){W(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(W){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var de=A;A=le;try{return W()}finally{A=de}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=A;A=W;try{return le()}finally{A=de}},n.unstable_scheduleCallback=function(W,le,de){var Be=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Be+de:Be):de=Be,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,W={id:_++,callback:le,priorityLevel:W,startTime:de,expirationTime:V,sortIndex:-1},de>Be?(W.sortIndex=de,e(g,W),t(m)===null&&W===t(g)&&(L?(K(D),D=-1):L=!0,qe(re,de-Be))):(W.sortIndex=V,e(m,W),x||R||(x=!0,oe||(oe=!0,U()))),W},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(W){var le=A;return function(){var de=A;A=le;try{return W.apply(this,arguments)}finally{A=de}}}})(am)),am}var E_;function ew(){return E_||(E_=1,sm.exports=JA()),sm.exports}var om={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function tw(){if(T_)return Kt;T_=1;var n=ip();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,_)},Kt.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},Kt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Kt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Kt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:R}):_==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Kt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Kt.requestFormReset=function(m){s.d.r(m)},Kt.unstable_batchedUpdates=function(m,g){return m(g)},Kt.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var A_;function nw(){if(A_)return om.exports;A_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),om.exports=tw(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function iw(){if(w_)return xl;w_=1;var n=ew(),e=ip(),t=nw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),i;if(p===l)return d(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,w=f.child;w;){if(w===a){E=!0,a=f,l=p;break}if(w===l){E=!0,l=f,a=p;break}w=w.sibling}if(!E){for(w=p.child;w;){if(w===a){E=!0,a=p,l=f;break}if(w===l){E=!0,l=p,a=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),X=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case O:return"Profiler";case L:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case X:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case se:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:pe(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return pe(i(r))}catch{}}return null}var qe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Be=[],V=-1;function ie(i){return{current:i}}function ce(i){0>V||(i.current=Be[V],Be[V]=null,V--)}function ae(i,r){V++,Be[V]=i.current,i.current=r}var _e=ie(null),xe=ie(null),be=ie(null),Dt=ie(null);function et(i,r){switch(ae(be,r),ae(xe,i),ae(_e,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?F0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=F0(r),i=H0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ce(_e),ae(_e,i)}function Kn(){ce(_e),ce(xe),ce(be)}function lr(i){i.memoizedState!==null&&ae(Dt,i);var r=_e.current,a=H0(r,i.type);r!==a&&(ae(xe,i),ae(_e,a))}function Ei(i){xe.current===i&&(ce(_e),ce(xe)),Dt.current===i&&(ce(Dt),wl._currentValue=de)}var ts=Object.prototype.hasOwnProperty,ns=n.unstable_scheduleCallback,is=n.unstable_cancelCallback,Eo=n.unstable_shouldYield,gu=n.unstable_requestPaint,En=n.unstable_now,tf=n.unstable_getCurrentPriorityLevel,To=n.unstable_ImmediatePriority,ea=n.unstable_UserBlockingPriority,rs=n.unstable_NormalPriority,nf=n.unstable_LowPriority,ta=n.unstable_IdlePriority,Ao=n.log,yu=n.unstable_setDisableYieldValue,ut=null,Ye=null;function un(i){if(typeof Ao=="function"&&yu(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ut,i)}catch{}}var Yt=Math.clz32?Math.clz32:ss,_u=Math.log,rf=Math.LN2;function ss(i){return i>>>=0,i===0?32:31-(_u(i)/rf|0)|0}var as=256,os=4194304;function kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function na(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=l&134217727;return w!==0?(l=w&~p,l!==0?f=kn(l):(E&=w,E!==0?f=kn(E):a||(a=w&~i,a!==0&&(f=kn(a))))):(w=l&~p,w!==0?f=kn(w):E!==0?f=kn(E):a||(a=l&~i,a!==0&&(f=kn(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function ls(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function wo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var i=as;return as<<=1,(as&4194048)===0&&(as=256),i}function So(){var i=os;return os<<=1,(os&62914560)===0&&(os=4194304),i}function Ti(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Ai(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ro(i,r,a,l,f,p){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,N=i.expirationTimes,F=i.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-Yt(a),te=1<<Z;w[Z]=0,N[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var Y=G[Z];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&$n(i,l,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~r))}function $n(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-Yt(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Co(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-Yt(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function ur(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ia(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function cr(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:u_(i.type))}function vu(i,r){var a=le.p;try{return le.p=i,r()}finally{le.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,yt="__reactProps$"+rt,Tn="__reactContainer$"+rt,Io="__reactEvents$"+rt,sf="__reactListeners$"+rt,hr="__reactHandles$"+rt,Eu="__reactResources$"+rt,us="__reactMarker$"+rt;function fr(i){delete i[bt],delete i[yt],delete i[Io],delete i[sf],delete i[hr]}function wi(i){var r=i[bt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Tn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=K0(i);i!==null;){if(a=i[bt])return a;i=K0(i)}return r}i=a,a=i.parentNode}return null}function Xn(i){if(i=i[bt]||i[Tn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Wn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Jt(i){var r=i[Eu];return r||(r=i[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(i){i[us]=!0}var xo=new Set,ra={};function Ln(i,r){bi(i,r),bi(i+"Capture",r)}function bi(i,r){for(ra[i]=r,i=0;i<r.length;i++)xo.add(r[i])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},cs={};function wu(i){return ts.call(cs,i)?!0:ts.call(Au,i)?!1:Tu.test(i)?cs[i]=!0:(Au[i]=!0,!1)}function dr(i,r,a){if(wu(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Zn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Ut(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var hs,bu;function Si(i){if(hs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);hs=r&&r[1]||"",bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+i+bu}var sa=!1;function aa(i,r){if(!i||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(i,[],te)}else{try{te.call()}catch(Y){G=Y}i.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],w=p[1];if(E&&w){var N=E.split(`
`),F=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var Z=`
`+N[l].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=l&&0<=f);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Si(a):""}function No(i){switch(i.tag){case 26:case 27:case 5:return Si(i.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return aa(i.type,!1);case 11:return aa(i.type.render,!1);case 1:return aa(i.type,!0);case 31:return Si("Activity");default:return""}}function oa(i){try{var r="";do r+=No(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Do(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function af(i){var r=Do(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function la(i){i._valueTracker||(i._valueTracker=af(i))}function Oo(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Do(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function fs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var of=/[\n"\\]/g;function _t(i){return i.replace(of,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function cn(i,r,a,l,f,p,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+en(r)):i.value!==""+en(r)&&(i.value=""+en(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?mr(i,E,en(r)):a!=null?mr(i,E,en(a)):l!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+en(w):i.removeAttribute("name")}function ds(i,r,a,l,f,p,E,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+en(a):"",r=r!=null?""+en(r):a,w||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=w?i.checked:!!l,i.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function mr(i,r,a){r==="number"&&fs(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ri(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+en(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function $e(i,r,a){if(r!=null&&(r=""+en(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+en(a):""}function ms(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=en(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function An(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||ps.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Mo(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Su(i,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Su(i,p,r[p])}function Vo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(i){return uf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ci=null;function wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ii=null,xi=null;function Po(i){var r=Xn(i);if(r&&(i=r.stateNode)){var a=i[yt]||null;e:switch(i=r.stateNode,r.type){case"input":if(cn(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[yt]||null;if(!f)throw Error(s(90));cn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&Oo(l)}break e;case"textarea":$e(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ri(i,!!a.multiple,r,!1)}}}var Jn=!1;function Ru(i,r,a){if(Jn)return i(r,a);Jn=!0;try{var l=i(r);return l}finally{if(Jn=!1,(Ii!==null||xi!==null)&&(vc(),Ii&&(r=Ii,i=xi,xi=Ii=null,Po(r),i)))for(r=0;r<i.length;r++)Po(i[r])}}function gs(i,r){var a=i.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Un)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{bn=!1}var ei=null,pr=null,Ni=null;function ko(){if(Ni)return Ni;var i,r=pr,a=r.length,l,f="value"in ei?ei.value:ei.textContent,p=f.length;for(i=0;i<a&&r[i]===f[i];i++);var E=a-i;for(l=1;l<=E&&r[a-l]===f[p-l];l++);return Ni=f.slice(i,1<l?1-l:void 0)}function ti(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ni(){return!0}function Lo(){return!1}function Ot(i){function r(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ni:Lo,this.isPropagationStopped=Lo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Ot(He),_s=_({},He,{view:0,detail:0}),Cu=Ot(_s),ha,fa,ii,vs=_({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ii&&(ii&&i.type==="mousemove"?(ha=i.screenX-ii.screenX,fa=i.screenY-ii.screenY):fa=ha=0,ii=i),ha)},movementY:function(i){return"movementY"in i?i.movementY:fa}}),Sn=Ot(vs),Iu=_({},vs,{dataTransfer:0}),cf=Ot(Iu),Es=_({},_s,{relatedTarget:0}),da=Ot(Es),Uo=_({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Ot(Uo),xu=_({},He,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pa=Ot(xu),hf=_({},He,{data:0}),zo=Ot(hf),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Du[i])?!!r[i]:!1}function As(){return Bo}var Ou=_({},_s,{key:function(i){if(i.key){var r=Ts[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ti(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(i){return i.type==="keypress"?ti(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ti(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ga=Ot(Ou),Mu=_({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Ot(Mu),Di=_({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Vu=Ot(Di),Pu=_({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Ot(Pu),Lu=_({},vs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=Ot(Lu),tn=_({},He,{newState:0,oldState:0}),Uu=Ot(tn),zu=[9,13,27,32],ri=Un&&"CompositionEvent"in window,h=null;Un&&"documentMode"in document&&(h=document.documentMode);var y=Un&&"TextEvent"in window&&!h,v=Un&&(!ri||h&&8<h&&11>=h),b=" ",B=!1;function $(i,r){switch(i){case"keyup":return zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ke=!1;function St(i,r){switch(i){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(B=!0,b);case"textInput":return i=r.data,i===b&&B?null:i;default:return null}}function Le(i,r){if(ke)return i==="compositionend"||!ri&&$(i,r)?(i=ko(),Ni=pr=ei=null,ke=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Mt[i.type]:r==="textarea"}function Oi(i,r,a,l){Ii?xi?xi.push(l):xi=[l]:Ii=l,r=Sc(r,"onChange"),0<r.length&&(a=new ca("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var zt=null,si=null;function qo(i){U0(i,0)}function Bu(i){var r=Wn(i);if(Oo(r))return i}function sg(i,r){if(i==="change")return r}var ag=!1;if(Un){var ff;if(Un){var df="oninput"in document;if(!df){var og=document.createElement("div");og.setAttribute("oninput","return;"),df=typeof og.oninput=="function"}ff=df}else ff=!1;ag=ff&&(!document.documentMode||9<document.documentMode)}function lg(){zt&&(zt.detachEvent("onpropertychange",ug),si=zt=null)}function ug(i){if(i.propertyName==="value"&&Bu(si)){var r=[];Oi(r,si,i,wn(i)),Ru(qo,r)}}function S2(i,r,a){i==="focusin"?(lg(),zt=r,si=a,zt.attachEvent("onpropertychange",ug)):i==="focusout"&&lg()}function R2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bu(si)}function C2(i,r){if(i==="click")return Bu(r)}function I2(i,r){if(i==="input"||i==="change")return Bu(r)}function x2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var hn=typeof Object.is=="function"?Object.is:x2;function Fo(i,r){if(hn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ts.call(r,f)||!hn(i[f],r[f]))return!1}return!0}function cg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hg(i,r){var a=cg(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?fg(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function dg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=fs(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=fs(i.document)}return r}function mf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var N2=Un&&"documentMode"in document&&11>=document.documentMode,_a=null,pf=null,Ho=null,gf=!1;function mg(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||_a==null||_a!==fs(l)||(l=_a,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&Fo(Ho,l)||(Ho=l,l=Sc(pf,"onSelect"),0<l.length&&(r=new ca("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=_a)))}function ws(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var va={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},yf={},pg={};Un&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function bs(i){if(yf[i])return yf[i];if(!va[i])return i;var r=va[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in pg)return yf[i]=r[a];return i}var gg=bs("animationend"),yg=bs("animationiteration"),_g=bs("animationstart"),D2=bs("transitionrun"),O2=bs("transitionstart"),M2=bs("transitioncancel"),vg=bs("transitionend"),Eg=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function zn(i,r){Eg.set(i,r),Ln(r,[i])}var Tg=new WeakMap;function Rn(i,r){if(typeof i=="object"&&i!==null){var a=Tg.get(i);return a!==void 0?a:(r={value:i,source:r,stack:oa(r)},Tg.set(i,r),r)}return{value:i,source:r,stack:oa(r)}}var Cn=[],Ea=0,vf=0;function ju(){for(var i=Ea,r=vf=Ea=0;r<i;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var f=Cn[r];Cn[r++]=null;var p=Cn[r];if(Cn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&Ag(a,f,p)}}function qu(i,r,a,l){Cn[Ea++]=i,Cn[Ea++]=r,Cn[Ea++]=a,Cn[Ea++]=l,vf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Ef(i,r,a,l){return qu(i,r,a,l),Fu(i)}function Ta(i,r){return qu(i,null,null,r),Fu(i)}function Ag(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=i.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Yt(a),i=p.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),p):null}function Fu(i){if(50<pl)throw pl=0,Rd=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Aa={};function V2(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(i,r,a,l){return new V2(i,r,a,l)}function Tf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Mi(i,r){var a=i.alternate;return a===null?(a=fn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function wg(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Hu(i,r,a,l,f,p){var E=0;if(l=i,typeof i=="function")Tf(i)&&(E=1);else if(typeof i=="string")E=kA(i,a,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=fn(31,a,r,f),i.elementType=C,i.lanes=p,i;case x:return Ss(a.children,f,p,r);case L:E=8,f|=24;break;case O:return i=fn(12,a,r,f|2),i.elementType=O,i.lanes=p,i;case re:return i=fn(13,a,r,f),i.elementType=re,i.lanes=p,i;case oe:return i=fn(19,a,r,f),i.elementType=oe,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case X:E=10;break e;case K:E=9;break e;case se:E=11;break e;case D:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=fn(E,a,r,f),r.elementType=i,r.type=l,r.lanes=p,r}function Ss(i,r,a,l){return i=fn(7,i,l,r),i.lanes=a,i}function Af(i,r,a){return i=fn(6,i,null,r),i.lanes=a,i}function wf(i,r,a){return r=fn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var wa=[],ba=0,Gu=null,Yu=0,In=[],xn=0,Rs=null,Vi=1,Pi="";function Cs(i,r){wa[ba++]=Yu,wa[ba++]=Gu,Gu=i,Yu=r}function bg(i,r,a){In[xn++]=Vi,In[xn++]=Pi,In[xn++]=Rs,Rs=i;var l=Vi;i=Pi;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var p=32-Yt(r)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Vi=1<<32-Yt(r)+f|a<<f|l,Pi=p+i}else Vi=1<<p|a<<f|l,Pi=i}function bf(i){i.return!==null&&(Cs(i,1),bg(i,1,0))}function Sf(i){for(;i===Gu;)Gu=wa[--ba],wa[ba]=null,Yu=wa[--ba],wa[ba]=null;for(;i===Rs;)Rs=In[--xn],In[xn]=null,Pi=In[--xn],In[xn]=null,Vi=In[--xn],In[xn]=null}var nn=null,ct=null,Fe=!1,Is=null,ai=!1,Rf=Error(s(519));function xs(i){var r=Error(s(418,""));throw Qo(Rn(r,i)),Rf}function Sg(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[bt]=i,r[yt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<yl.length;a++)Oe(yl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ds(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),la(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ms(r,l.value,l.defaultValue,l.children),la(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||q0(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Rc),r=!0):r=!1,r||xs(i)}function Rg(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:nn=nn.return}}function Go(i){if(i!==nn)return!1;if(!Fe)return Rg(i),Fe=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||qd(i.type,i.memoizedProps)),a=!a),a&&ct&&xs(i),Rg(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){ct=jn(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}ct=null}}else r===27?(r=ct,Dr(i.type)?(i=Yd,Yd=null,ct=i):ct=r):ct=nn?jn(i.stateNode.nextSibling):null;return!0}function Yo(){ct=nn=null,Fe=!1}function Cg(){var i=Is;return i!==null&&(an===null?an=i:an.push.apply(an,i),Is=null),i}function Qo(i){Is===null?Is=[i]:Is.push(i)}var Cf=ie(null),Ns=null,ki=null;function gr(i,r,a){ae(Cf,r._currentValue),r._currentValue=a}function Li(i){i._currentValue=Cf.current,ce(Cf)}function If(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function xf(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),If(p.return,a,i),l||(E=null);break e}p=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),If(E,a,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ko(i,r,a,l){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;hn(f.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(f===Dt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(wl):i=[wl])}f=f.return}i!==null&&xf(r,i,a,l),r.flags|=262144}function Qu(i){for(i=i.firstContext;i!==null;){if(!hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ds(i){Ns=i,ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qt(i){return Ig(Ns,i)}function Ku(i,r){return Ns===null&&Ds(i),Ig(i,r)}function Ig(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ki===null){if(i===null)throw Error(s(308));ki=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ki=ki.next=r;return a}var P2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},k2=n.unstable_scheduleCallback,L2=n.unstable_NormalPriority,Ct={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new P2,data:new Map,refCount:0}}function $o(i){i.refCount--,i.refCount===0&&k2(L2,function(){i.controller.abort()})}var Xo=null,Df=0,Sa=0,Ra=null;function U2(i,r){if(Xo===null){var a=Xo=[];Df=0,Sa=Md(),Ra={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,r.then(xg,xg),r}function xg(){if(--Df===0&&Xo!==null){Ra!==null&&(Ra.status="fulfilled");var i=Xo;Xo=null,Sa=0,Ra=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function z2(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ng=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&U2(i,r),Ng!==null&&Ng(i,r)};var Os=ie(null);function Of(){var i=Os.current;return i!==null?i:tt.pooledCache}function $u(i,r){r===null?ae(Os,Os.current):ae(Os,r.pool)}function Dg(){var i=Of();return i===null?null:{parent:Ct._currentValue,pool:i}}var Wo=Error(s(460)),Og=Error(s(474)),Xu=Error(s(542)),Mf={then:function(){}};function Mg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Wu(){}function Vg(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Wu,Wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,kg(i),i;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(i=tt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,kg(i),i}throw Zo=r,Wo}}var Zo=null;function Pg(){if(Zo===null)throw Error(s(459));var i=Zo;return Zo=null,i}function kg(i){if(i===Wo||i===Xu)throw Error(s(483))}var yr=!1;function Vf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vr(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Fu(i),Ag(i,null,a),r}return qu(i,l,r,a),Fu(i)}function Jo(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Co(i,a)}}function kf(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Lf=!1;function el(){if(Lf){var i=Ra;if(i!==null)throw i}}function tl(i,r,a,l){Lf=!1;var f=i.updateQueue;yr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,F=N.next;N.next=null,E===null?p=F:E.next=F,E=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=F:w.next=F,Z.lastBaseUpdate=N))}if(p!==null){var te=f.baseState;E=0,Z=F=N=null,w=p;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(Ue&G)===G:(l&G)===G){G!==0&&G===Sa&&(Lf=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=i,ve=w;G=r;var Ze=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){te=we.call(Ze,te,G);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,G=typeof we=="function"?we.call(Ze,te,G):we,G==null)break e;te=_({},te,G);break e;case 2:yr=!0}}G=w.callback,G!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(F=Z=Y,N=te):Z=Z.next=Y,E|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Z===null&&(N=te),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),Cr|=E,i.lanes=E,i.memoizedState=te}}function Lg(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Ug(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Lg(a[i],r)}var Ca=ie(null),Zu=ie(0);function zg(i,r){i=Hi,ae(Zu,i),ae(Ca,r),Hi=i|r.baseLanes}function Uf(){ae(Zu,Hi),ae(Ca,Ca.current)}function zf(){Hi=Zu.current,ce(Ca),ce(Zu)}var Er=0,Ie=null,Xe=null,vt=null,Ju=!1,Ia=!1,Ms=!1,ec=0,nl=0,xa=null,B2=0;function dt(){throw Error(s(321))}function Bf(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!hn(i[a],r[a]))return!1;return!0}function jf(i,r,a,l,f,p){return Er=p,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?Ay:wy,Ms=!1,p=a(l,f),Ms=!1,Ia&&(p=jg(r,a,l,f)),Bg(i),p}function Bg(i){W.H=ac;var r=Xe!==null&&Xe.next!==null;if(Er=0,vt=Xe=Ie=null,Ju=!1,nl=0,xa=null,r)throw Error(s(300));i===null||Vt||(i=i.dependencies,i!==null&&Qu(i)&&(Vt=!0))}function jg(i,r,a,l){Ie=i;var f=0;do{if(Ia&&(xa=null),nl=0,Ia=!1,25<=f)throw Error(s(301));if(f+=1,vt=Xe=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=Q2,p=r(a,l)}while(Ia);return p}function j2(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?il(r):r,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(Ie.flags|=1024),r}function qf(){var i=ec!==0;return ec=0,i}function Ff(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Hf(i){if(Ju){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ju=!1}Er=0,vt=Xe=Ie=null,Ia=!1,nl=ec=0,xa=null}function rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=i:vt=vt.next=i,vt}function Et(){if(Xe===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,Xe=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?Ie.memoizedState=vt=i:vt=vt.next=i}return vt}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(i){var r=nl;return nl+=1,xa===null&&(xa=[]),i=Vg(xa,i,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Ay:wy),i}function tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return il(i);if(i.$$typeof===X)return Qt(i)}throw Error(s(438,String(i)))}function Yf(i){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Gf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=M;return r.index++,a}function Ui(i,r){return typeof r=="function"?r(i):r}function nc(i){var r=Et();return Qf(r,Xe,i)}function Qf(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,l.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var w=E=null,N=null,F=r,Z=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ue&te)===te:(Er&te)===te){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Sa&&(Z=!0);else if((Er&G)===G){F=F.next,G===Sa&&(Z=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=te,E=p):N=N.next=te,Ie.lanes|=G,Cr|=G;te=F.action,Ms&&a(p,te),p=F.hasEagerState?F.eagerState:a(p,te)}else G={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=G,E=p):N=N.next=G,Ie.lanes|=te,Cr|=te;F=F.next}while(F!==null&&F!==r);if(N===null?E=p:N.next=w,!hn(p,i.memoizedState)&&(Vt=!0,Z&&(a=Ra,a!==null)))throw a;i.memoizedState=p,i.baseState=E,i.baseQueue=N,l.lastRenderedState=p}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Kf(i){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=i(p,E.action),E=E.next;while(E!==f);hn(p,r.memoizedState)||(Vt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function qg(i,r,a){var l=Ie,f=Et(),p=Fe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!hn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Vt=!0),f=f.queue;var w=Gg.bind(null,l,f,i);if(rl(2048,8,w,[i]),f.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Na(9,ic(),Hg.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));p||(Er&124)!==0||Fg(l,r,a)}return a}function Fg(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Gf(),Ie.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Hg(i,r,a,l){r.value=a,r.getSnapshot=l,Yg(r)&&Qg(i)}function Gg(i,r,a){return a(function(){Yg(r)&&Qg(i)})}function Yg(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!hn(i,a)}catch{return!0}}function Qg(i){var r=Ta(i,2);r!==null&&yn(r,i,2)}function $f(i){var r=rn();if(typeof i=="function"){var a=i;if(i=a(),Ms){un(!0);try{a()}finally{un(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:i},r}function Kg(i,r,a,l){return i.baseState=a,Qf(i,Xe,typeof l=="function"?l:Ui)}function q2(i,r,a,l,f){if(sc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,$g(r,p)):(p.next=a.next,r.pending=a.next=p)}}function $g(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var p=W.T,E={};W.T=E;try{var w=a(f,l),N=W.S;N!==null&&N(E,w),Xg(i,r,w)}catch(F){Xf(i,r,F)}finally{W.T=p}}else try{p=a(f,l),Xg(i,r,p)}catch(F){Xf(i,r,F)}}function Xg(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(i,r,l)},function(l){return Xf(i,r,l)}):Wg(i,r,a)}function Wg(i,r,a){r.status="fulfilled",r.value=a,Zg(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,$g(i,a)))}function Xf(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zg(r),r=r.next;while(r!==l)}i.action=null}function Zg(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Jg(i,r){return r}function ey(i,r){if(Fe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(Fe){if(ct){t:{for(var f=ct,p=ai;f.nodeType!==8;){if(!p){f=null;break t}if(f=jn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ct=jn(f.nextSibling),l=f.data==="F!";break e}}xs(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:r},a.queue=l,a=vy.bind(null,Ie,l),l.dispatch=a,l=$f(!1),p=td.bind(null,Ie,!1,l.queue),l=rn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=q2.bind(null,Ie,f,p,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function ty(i){var r=Et();return ny(r,Xe,i)}function ny(i,r,a){if(r=Qf(i,r,Jg)[0],i=nc(Ui)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=il(r)}catch(E){throw E===Wo?Xu:E}else l=r;r=Et();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Na(9,ic(),F2.bind(null,f,a),null)),[l,p,i]}function F2(i,r){i.action=r}function iy(i){var r=Et(),a=Xe;if(a!==null)return ny(r,a,i);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Na(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Gf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function ic(){return{destroy:void 0,resource:void 0}}function ry(){return Et().memoizedState}function rc(i,r,a,l){var f=rn();l=l===void 0?null:l,Ie.flags|=i,f.memoizedState=Na(1|r,ic(),a,l)}function rl(i,r,a,l){var f=Et();l=l===void 0?null:l;var p=f.memoizedState.inst;Xe!==null&&l!==null&&Bf(l,Xe.memoizedState.deps)?f.memoizedState=Na(r,p,a,l):(Ie.flags|=i,f.memoizedState=Na(1|r,p,a,l))}function sy(i,r){rc(8390656,8,i,r)}function ay(i,r){rl(2048,8,i,r)}function oy(i,r){return rl(4,2,i,r)}function ly(i,r){return rl(4,4,i,r)}function uy(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function cy(i,r,a){a=a!=null?a.concat([i]):null,rl(4,4,uy.bind(null,r,i),a)}function Wf(){}function hy(i,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Bf(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function fy(i,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Bf(r,l[1]))return l[0];if(l=i(),Ms){un(!0);try{i()}finally{un(!1)}}return a.memoizedState=[l,r],l}function Zf(i,r,a){return a===void 0||(Er&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=p0(),Ie.lanes|=i,Cr|=i,a)}function dy(i,r,a,l){return hn(a,r)?a:Ca.current!==null?(i=Zf(i,a,l),hn(i,r)||(Vt=!0),i):(Er&42)===0?(Vt=!0,i.memoizedState=a):(i=p0(),Ie.lanes|=i,Cr|=i,r)}function my(i,r,a,l,f){var p=le.p;le.p=p!==0&&8>p?p:8;var E=W.T,w={};W.T=w,td(i,!1,r,a);try{var N=f(),F=W.S;if(F!==null&&F(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=z2(N,l);sl(i,r,Z,gn(i))}else sl(i,r,l,gn(i))}catch(te){sl(i,r,{then:function(){},status:"rejected",reason:te},gn())}finally{le.p=p,W.T=E}}function H2(){}function Jf(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=py(i).queue;my(i,f,r,de,a===null?H2:function(){return gy(i),a(l)})}function py(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function gy(i){var r=py(i).next.queue;sl(i,r,{},gn())}function ed(){return Qt(wl)}function yy(){return Et().memoizedState}function _y(){return Et().memoizedState}function G2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();i=_r(a);var l=vr(r,i,a);l!==null&&(yn(l,r,a),Jo(l,r,a)),r={cache:Nf()},i.payload=r;return}r=r.return}}function Y2(i,r,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(i)?Ey(r,a):(a=Ef(i,r,a,l),a!==null&&(yn(a,i,l),Ty(a,r,l)))}function vy(i,r,a){var l=gn();sl(i,r,a,l)}function sl(i,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(i))Ey(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,w=p(E,a);if(f.hasEagerState=!0,f.eagerState=w,hn(w,E))return qu(i,r,f,0),tt===null&&ju(),!1}catch{}finally{}if(a=Ef(i,r,f,l),a!==null)return yn(a,i,l),Ty(a,r,l),!0}return!1}function td(i,r,a,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(i)){if(r)throw Error(s(479))}else r=Ef(i,a,l,2),r!==null&&yn(r,i,2)}function sc(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function Ey(i,r){Ia=Ju=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Ty(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Co(i,a)}}var ac={readContext:Qt,use:tc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Ay={readContext:Qt,use:tc,useCallback:function(i,r){return rn().memoizedState=[i,r===void 0?null:r],i},useContext:Qt,useEffect:sy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,rc(4194308,4,uy.bind(null,r,i),a)},useLayoutEffect:function(i,r){return rc(4194308,4,i,r)},useInsertionEffect:function(i,r){rc(4,2,i,r)},useMemo:function(i,r){var a=rn();r=r===void 0?null:r;var l=i();if(Ms){un(!0);try{i()}finally{un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=rn();if(a!==void 0){var f=a(r);if(Ms){un(!0);try{a(r)}finally{un(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=Y2.bind(null,Ie,i),[l.memoizedState,i]},useRef:function(i){var r=rn();return i={current:i},r.memoizedState=i},useState:function(i){i=$f(i);var r=i.queue,a=vy.bind(null,Ie,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(i,r){var a=rn();return Zf(a,i,r)},useTransition:function(){var i=$f(!1);return i=my.bind(null,Ie,i.queue,!0,!1),rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Ie,f=rn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Ue&124)!==0||Fg(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,sy(Gg.bind(null,l,p,i),[i]),l.flags|=2048,Na(9,ic(),Hg.bind(null,l,p,a,r),null),a},useId:function(){var i=rn(),r=tt.identifierPrefix;if(Fe){var a=Pi,l=Vi;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=ec++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=B2++,r="«"+r+"r"+a.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:ed,useFormState:ey,useActionState:ey,useOptimistic:function(i){var r=rn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=td.bind(null,Ie,!0,a),a.dispatch=r,[i,r]},useMemoCache:Yf,useCacheRefresh:function(){return rn().memoizedState=G2.bind(null,Ie)}},wy={readContext:Qt,use:tc,useCallback:hy,useContext:Qt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:nc,useRef:ry,useState:function(){return nc(Ui)},useDebugValue:Wf,useDeferredValue:function(i,r){var a=Et();return dy(a,Xe.memoizedState,i,r)},useTransition:function(){var i=nc(Ui)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:il(i),r]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:ed,useFormState:ty,useActionState:ty,useOptimistic:function(i,r){var a=Et();return Kg(a,Xe,i,r)},useMemoCache:Yf,useCacheRefresh:_y},Q2={readContext:Qt,use:tc,useCallback:hy,useContext:Qt,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:Kf,useRef:ry,useState:function(){return Kf(Ui)},useDebugValue:Wf,useDeferredValue:function(i,r){var a=Et();return Xe===null?Zf(a,i,r):dy(a,Xe.memoizedState,i,r)},useTransition:function(){var i=Kf(Ui)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:il(i),r]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:ed,useFormState:iy,useActionState:iy,useOptimistic:function(i,r){var a=Et();return Xe!==null?Kg(a,Xe,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:_y},Da=null,al=0;function oc(i){var r=al;return al+=1,Da===null&&(Da=[]),Vg(Da,i,r)}function ol(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function lc(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function by(i){var r=i._init;return r(i._payload)}function Sy(i){function r(z,k){if(i){var q=z.deletions;q===null?(z.deletions=[k],z.flags|=16):q.push(k)}}function a(z,k){if(!i)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Mi(z,k),z.index=0,z.sibling=null,z}function p(z,k,q){return z.index=q,i?(q=z.alternate,q!==null?(q=q.index,q<k?(z.flags|=67108866,k):q):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function E(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,k,q,J){return k===null||k.tag!==6?(k=Af(q,z.mode,J),k.return=z,k):(k=f(k,q),k.return=z,k)}function N(z,k,q,J){var me=q.type;return me===x?Z(z,k,q.props.children,J,q.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&by(me)===k.type)?(k=f(k,q.props),ol(k,q),k.return=z,k):(k=Hu(q.type,q.key,q.props,null,z.mode,J),ol(k,q),k.return=z,k)}function F(z,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=wf(q,z.mode,J),k.return=z,k):(k=f(k,q.children||[]),k.return=z,k)}function Z(z,k,q,J,me){return k===null||k.tag!==7?(k=Ss(q,z.mode,J,me),k.return=z,k):(k=f(k,q),k.return=z,k)}function te(z,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Af(""+k,z.mode,q),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return q=Hu(k.type,k.key,k.props,null,z.mode,q),ol(q,k),q.return=z,q;case R:return k=wf(k,z.mode,q),k.return=z,k;case S:var J=k._init;return k=J(k._payload),te(z,k,q)}if(qe(k)||U(k))return k=Ss(k,z.mode,q,null),k.return=z,k;if(typeof k.then=="function")return te(z,oc(k),q);if(k.$$typeof===X)return te(z,Ku(z,k),q);lc(z,k)}return null}function G(z,k,q,J){var me=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:w(z,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===me?N(z,k,q,J):null;case R:return q.key===me?F(z,k,q,J):null;case S:return me=q._init,q=me(q._payload),G(z,k,q,J)}if(qe(q)||U(q))return me!==null?null:Z(z,k,q,J,null);if(typeof q.then=="function")return G(z,k,oc(q),J);if(q.$$typeof===X)return G(z,k,Ku(z,q),J);lc(z,q)}return null}function Y(z,k,q,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(q)||null,w(k,z,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return z=z.get(J.key===null?q:J.key)||null,N(k,z,J,me);case R:return z=z.get(J.key===null?q:J.key)||null,F(k,z,J,me);case S:var Ne=J._init;return J=Ne(J._payload),Y(z,k,q,J,me)}if(qe(J)||U(J))return z=z.get(q)||null,Z(k,z,J,me,null);if(typeof J.then=="function")return Y(z,k,q,oc(J),me);if(J.$$typeof===X)return Y(z,k,q,Ku(k,J),me);lc(k,J)}return null}function we(z,k,q,J){for(var me=null,Ne=null,ge=k,Ee=k=0,kt=null;ge!==null&&Ee<q.length;Ee++){ge.index>Ee?(kt=ge,ge=null):kt=ge.sibling;var je=G(z,ge,q[Ee],J);if(je===null){ge===null&&(ge=kt);break}i&&ge&&je.alternate===null&&r(z,ge),k=p(je,k,Ee),Ne===null?me=je:Ne.sibling=je,Ne=je,ge=kt}if(Ee===q.length)return a(z,ge),Fe&&Cs(z,Ee),me;if(ge===null){for(;Ee<q.length;Ee++)ge=te(z,q[Ee],J),ge!==null&&(k=p(ge,k,Ee),Ne===null?me=ge:Ne.sibling=ge,Ne=ge);return Fe&&Cs(z,Ee),me}for(ge=l(ge);Ee<q.length;Ee++)kt=Y(ge,z,Ee,q[Ee],J),kt!==null&&(i&&kt.alternate!==null&&ge.delete(kt.key===null?Ee:kt.key),k=p(kt,k,Ee),Ne===null?me=kt:Ne.sibling=kt,Ne=kt);return i&&ge.forEach(function(kr){return r(z,kr)}),Fe&&Cs(z,Ee),me}function ve(z,k,q,J){if(q==null)throw Error(s(151));for(var me=null,Ne=null,ge=k,Ee=k=0,kt=null,je=q.next();ge!==null&&!je.done;Ee++,je=q.next()){ge.index>Ee?(kt=ge,ge=null):kt=ge.sibling;var kr=G(z,ge,je.value,J);if(kr===null){ge===null&&(ge=kt);break}i&&ge&&kr.alternate===null&&r(z,ge),k=p(kr,k,Ee),Ne===null?me=kr:Ne.sibling=kr,Ne=kr,ge=kt}if(je.done)return a(z,ge),Fe&&Cs(z,Ee),me;if(ge===null){for(;!je.done;Ee++,je=q.next())je=te(z,je.value,J),je!==null&&(k=p(je,k,Ee),Ne===null?me=je:Ne.sibling=je,Ne=je);return Fe&&Cs(z,Ee),me}for(ge=l(ge);!je.done;Ee++,je=q.next())je=Y(ge,z,Ee,je.value,J),je!==null&&(i&&je.alternate!==null&&ge.delete(je.key===null?Ee:je.key),k=p(je,k,Ee),Ne===null?me=je:Ne.sibling=je,Ne=je);return i&&ge.forEach(function(KA){return r(z,KA)}),Fe&&Cs(z,Ee),me}function Ze(z,k,q,J){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var me=q.key;k!==null;){if(k.key===me){if(me=q.type,me===x){if(k.tag===7){a(z,k.sibling),J=f(k,q.props.children),J.return=z,z=J;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&by(me)===k.type){a(z,k.sibling),J=f(k,q.props),ol(J,q),J.return=z,z=J;break e}a(z,k);break}else r(z,k);k=k.sibling}q.type===x?(J=Ss(q.props.children,z.mode,J,q.key),J.return=z,z=J):(J=Hu(q.type,q.key,q.props,null,z.mode,J),ol(J,q),J.return=z,z=J)}return E(z);case R:e:{for(me=q.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(z,k.sibling),J=f(k,q.children||[]),J.return=z,z=J;break e}else{a(z,k);break}else r(z,k);k=k.sibling}J=wf(q,z.mode,J),J.return=z,z=J}return E(z);case S:return me=q._init,q=me(q._payload),Ze(z,k,q,J)}if(qe(q))return we(z,k,q,J);if(U(q)){if(me=U(q),typeof me!="function")throw Error(s(150));return q=me.call(q),ve(z,k,q,J)}if(typeof q.then=="function")return Ze(z,k,oc(q),J);if(q.$$typeof===X)return Ze(z,k,Ku(z,q),J);lc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(z,k.sibling),J=f(k,q),J.return=z,z=J):(a(z,k),J=Af(q,z.mode,J),J.return=z,z=J),E(z)):a(z,k)}return function(z,k,q,J){try{al=0;var me=Ze(z,k,q,J);return Da=null,me}catch(ge){if(ge===Wo||ge===Xu)throw ge;var Ne=fn(29,ge,null,z.mode);return Ne.lanes=J,Ne.return=z,Ne}finally{}}}var Oa=Sy(!0),Ry=Sy(!1),Nn=ie(null),oi=null;function Tr(i){var r=i.alternate;ae(It,It.current&1),ae(Nn,i),oi===null&&(r===null||Ca.current!==null||r.memoizedState!==null)&&(oi=i)}function Cy(i){if(i.tag===22){if(ae(It,It.current),ae(Nn,i),oi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(oi=i)}}else Ar()}function Ar(){ae(It,It.current),ae(Nn,Nn.current)}function zi(i){ce(Nn),oi===i&&(oi=null),ce(It)}var It=ie(0);function uc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function nd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var id={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=gn(),f=_r(l);f.payload=r,a!=null&&(f.callback=a),r=vr(i,f,l),r!==null&&(yn(r,i,l),Jo(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=gn(),f=_r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=vr(i,f,l),r!==null&&(yn(r,i,l),Jo(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=gn(),l=_r(a);l.tag=2,r!=null&&(l.callback=r),r=vr(i,l,a),r!==null&&(yn(r,i,a),Jo(r,i,a))}};function Iy(i,r,a,l,f,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,p,E):r.prototype&&r.prototype.isPureReactComponent?!Fo(a,l)||!Fo(f,p):!0}function xy(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&id.enqueueReplaceState(r,r.state,null)}function Vs(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=_({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var cc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ny(i){cc(i)}function Dy(i){console.error(i)}function Oy(i){cc(i)}function hc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function My(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rd(i,r,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(i,r)},a}function Vy(i){return i=_r(i),i.tag=3,i}function Py(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;i.payload=function(){return f(p)},i.callback=function(){My(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){My(r,a,l),typeof f!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function K2(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ko(r,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return oi===null?Id():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Mf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(i,l,f)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(i,l,f)),!1}throw Error(s(435,a.tag))}return Nd(i,l,f),Id(),!1}if(Fe)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Rf&&(i=Error(s(422),{cause:l}),Qo(Rn(i,a)))):(l!==Rf&&(r=Error(s(423),{cause:l}),Qo(Rn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Rn(l,a),f=rd(i.stateNode,l,f),kf(i,f),ht!==4&&(ht=2)),!1;var p=Error(s(520),{cause:l});if(p=Rn(p,a),ml===null?ml=[p]:ml.push(p),ht!==4&&(ht=2),r===null)return!0;l=Rn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=rd(a.stateNode,l,i),kf(a,i),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ir===null||!Ir.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Vy(f),Py(f,i,a,l),kf(a,f),!1}a=a.return}while(a!==null);return!1}var ky=Error(s(461)),Vt=!1;function Bt(i,r,a,l){r.child=i===null?Ry(r,null,a,l):Oa(r,i.child,a,l)}function Ly(i,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ds(r),l=jf(i,r,a,E,p,f),w=qf(),i!==null&&!Vt?(Ff(i,r,f),Bi(i,r,f)):(Fe&&w&&bf(r),r.flags|=1,Bt(i,r,l,f),r.child)}function Uy(i,r,a,l,f){if(i===null){var p=a.type;return typeof p=="function"&&!Tf(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,zy(i,r,p,l,f)):(i=Hu(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!fd(i,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(E,l)&&i.ref===r.ref)return Bi(i,r,f)}return r.flags|=1,i=Mi(p,l),i.ref=r.ref,i.return=r,r.child=i}function zy(i,r,a,l,f){if(i!==null){var p=i.memoizedProps;if(Fo(p,l)&&i.ref===r.ref)if(Vt=!1,r.pendingProps=l=p,fd(i,f))(i.flags&131072)!==0&&(Vt=!0);else return r.lanes=i.lanes,Bi(i,r,f)}return sd(i,r,a,l,f)}function By(i,r,a){var l=r.pendingProps,f=l.children,p=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,i!==null){for(f=r.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return jy(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&$u(r,p!==null?p.cachePool:null),p!==null?zg(r,p):Uf(),Cy(r);else return r.lanes=r.childLanes=536870912,jy(i,r,p!==null?p.baseLanes|a:a,a)}else p!==null?($u(r,p.cachePool),zg(r,p),Ar(),r.memoizedState=null):(i!==null&&$u(r,null),Uf(),Ar());return Bt(i,r,f,a),r.child}function jy(i,r,a,l){var f=Of();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&$u(r,null),Uf(),Cy(r),i!==null&&Ko(i,r,l,!0),null}function fc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function sd(i,r,a,l,f){return Ds(r),a=jf(i,r,a,l,void 0,f),l=qf(),i!==null&&!Vt?(Ff(i,r,f),Bi(i,r,f)):(Fe&&l&&bf(r),r.flags|=1,Bt(i,r,a,f),r.child)}function qy(i,r,a,l,f,p){return Ds(r),r.updateQueue=null,a=jg(r,l,a,f),Bg(i),l=qf(),i!==null&&!Vt?(Ff(i,r,p),Bi(i,r,p)):(Fe&&l&&bf(r),r.flags|=1,Bt(i,r,a,p),r.child)}function Fy(i,r,a,l,f){if(Ds(r),r.stateNode===null){var p=Aa,E=a.contextType;typeof E=="object"&&E!==null&&(p=Qt(E)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=id,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Vf(r),E=a.contextType,p.context=typeof E=="object"&&E!==null?Qt(E):Aa,p.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(nd(r,a,E,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&id.enqueueReplaceState(p,p.state,null),tl(r,l,p,f),el(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){p=r.stateNode;var w=r.memoizedProps,N=Vs(a,w);p.props=N;var F=p.context,Z=a.contextType;E=Aa,typeof Z=="object"&&Z!==null&&(E=Qt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||F!==E)&&xy(r,p,l,E),yr=!1;var G=r.memoizedState;p.state=G,tl(r,l,p,f),el(),F=r.memoizedState,w||G!==F||yr?(typeof te=="function"&&(nd(r,a,te,l),F=r.memoizedState),(N=yr||Iy(r,a,N,l,G,F,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),p.props=l,p.state=F,p.context=E,l=N):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Pf(i,r),E=r.memoizedProps,Z=Vs(a,E),p.props=Z,te=r.pendingProps,G=p.context,F=a.contextType,N=Aa,typeof F=="object"&&F!==null&&(N=Qt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==te||G!==N)&&xy(r,p,l,N),yr=!1,G=r.memoizedState,p.state=G,tl(r,l,p,f),el();var Y=r.memoizedState;E!==te||G!==Y||yr||i!==null&&i.dependencies!==null&&Qu(i.dependencies)?(typeof w=="function"&&(nd(r,a,w,l),Y=r.memoizedState),(Z=yr||Iy(r,a,Z,l,G,Y,N)||i!==null&&i.dependencies!==null&&Qu(i.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Y,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Y,N)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),p.props=l,p.state=Y,p.context=N,l=Z):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),l=!1)}return p=l,fc(i,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&l?(r.child=Oa(r,i.child,null,f),r.child=Oa(r,null,a,f)):Bt(i,r,a,f),r.memoizedState=p.state,i=r.child):i=Bi(i,r,f),i}function Hy(i,r,a,l){return Yo(),r.flags|=256,Bt(i,r,a,l),r.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(i){return{baseLanes:i,cachePool:Dg()}}function ld(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Dn),i}function Gy(i,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(f?Tr(r):Ar(),Fe){var w=ct,N;if(N=w){e:{for(N=w,w=ai;N.nodeType!==8;){if(!w){w=null;break e}if(N=jn(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:Rs!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},N=fn(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,nn=r,ct=null,N=!0):N=!1}N||xs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Gd(w)?r.lanes=32:r.lanes=536870912,null;zi(r)}return w=l.children,l=l.fallback,f?(Ar(),f=r.mode,w=dc({mode:"hidden",children:w},f),l=Ss(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,f=r.child,f.memoizedState=od(a),f.childLanes=ld(i,E,a),r.memoizedState=ad,l):(Tr(r),ud(r,w))}if(N=i.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(p)r.flags&256?(Tr(r),r.flags&=-257,r=cd(i,r,a)):r.memoizedState!==null?(Ar(),r.child=i.child,r.flags|=128,r=null):(Ar(),f=l.fallback,w=r.mode,l=dc({mode:"visible",children:l.children},w),f=Ss(f,w,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Oa(r,i.child,null,a),l=r.child,l.memoizedState=od(a),l.childLanes=ld(i,E,a),r.memoizedState=ad,r=f);else if(Tr(r),Gd(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,Qo({value:l,source:null,stack:null}),r=cd(i,r,a)}else if(Vt||Ko(i,r,a,!1),E=(a&i.childLanes)!==0,Vt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ta(i,l),yn(E,i,l),ky;w.data==="$?"||Id(),r=cd(i,r,a)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,ct=jn(w.nextSibling),nn=r,Fe=!0,Is=null,ai=!1,i!==null&&(In[xn++]=Vi,In[xn++]=Pi,In[xn++]=Rs,Vi=i.id,Pi=i.overflow,Rs=r),r=ud(r,l.children),r.flags|=4096);return r}return f?(Ar(),f=l.fallback,w=r.mode,N=i.child,F=N.sibling,l=Mi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?f=Mi(F,f):(f=Ss(f,w,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,w=i.child.memoizedState,w===null?w=od(a):(N=w.cachePool,N!==null?(F=Ct._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Dg(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=ld(i,E,a),r.memoizedState=ad,l):(Tr(r),a=i.child,i=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=a,r.memoizedState=null,a)}function ud(i,r){return r=dc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function dc(i,r){return i=fn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function cd(i,r,a){return Oa(r,i.child,null,a),i=ud(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Yy(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),If(i.return,r,a)}function hd(i,r,a,l,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function Qy(i,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(Bt(i,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yy(i,a,r);else if(i.tag===19)Yy(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(ae(It,l),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&uc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),hd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&uc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}hd(r,!0,a,null,p);break;case"together":hd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Bi(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Ko(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Mi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Mi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function fd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Qu(i)))}function $2(i,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),gr(r,Ct,i.memoizedState.cache),Yo();break;case 27:case 5:lr(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Gy(i,r,a):(Tr(r),i=Bi(i,r,a),i!==null?i.sibling:null);Tr(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ko(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Qy(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,By(i,r,a);case 24:gr(r,Ct,i.memoizedState.cache)}return Bi(i,r,a)}function Ky(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Vt=!0;else{if(!fd(i,a)&&(r.flags&128)===0)return Vt=!1,$2(i,r,a);Vt=(i.flags&131072)!==0}else Vt=!1,Fe&&(r.flags&1048576)!==0&&bg(r,Yu,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Tf(l)?(i=Vs(l,i),r.tag=1,r=Fy(null,r,l,i,a)):(r.tag=0,r=sd(null,r,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===se){r.tag=11,r=Ly(null,r,l,i,a);break e}else if(f===D){r.tag=14,r=Uy(null,r,l,i,a);break e}}throw r=pe(l)||l,Error(s(306,r,""))}}return r;case 0:return sd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Vs(l,r.pendingProps),Fy(i,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,Pf(i,r),tl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,gr(r,Ct,l),l!==p.cache&&xf(r,[Ct],a,!0),el(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Hy(i,r,l,a);break e}else if(l!==f){f=Rn(Error(s(424)),r),Qo(f),r=Hy(i,r,l,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ct=jn(i.firstChild),nn=r,Fe=!0,Is=null,ai=!0,a=Ry(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===f){r=Bi(i,r,a);break e}Bt(i,r,l,a)}r=r.child}return r;case 26:return fc(i,r),i===null?(a=Z0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,i=r.pendingProps,l=Cc(be.current).createElement(a),l[bt]=r,l[yt]=i,qt(l,a,i),ft(l),r.stateNode=l):r.memoizedState=Z0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return lr(r),i===null&&Fe&&(l=r.stateNode=$0(r.type,r.pendingProps,be.current),nn=r,ai=!0,f=ct,Dr(r.type)?(Yd=f,ct=jn(l.firstChild)):ct=f),Bt(i,r,r.pendingProps.children,a),fc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((f=l=ct)&&(l=wA(l,r.type,r.pendingProps,ai),l!==null?(r.stateNode=l,nn=r,ct=jn(l.firstChild),ai=!1,f=!0):f=!1),f||xs(r)),lr(r),f=r.type,p=r.pendingProps,E=i!==null?i.memoizedProps:null,l=p.children,qd(f,p)?l=null:E!==null&&qd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=jf(i,r,j2,null,null,a),wl._currentValue=f),fc(i,r),Bt(i,r,l,a),r.child;case 6:return i===null&&Fe&&((i=a=ct)&&(a=bA(a,r.pendingProps,ai),a!==null?(r.stateNode=a,nn=r,ct=null,i=!0):i=!1),i||xs(r)),null;case 13:return Gy(i,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Oa(r,null,l,a):Bt(i,r,l,a),r.child;case 11:return Ly(i,r,r.type,r.pendingProps,a);case 7:return Bt(i,r,r.pendingProps,a),r.child;case 8:return Bt(i,r,r.pendingProps.children,a),r.child;case 12:return Bt(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gr(r,r.type,l.value),Bt(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ds(r),f=Qt(f),l=l(f),r.flags|=1,Bt(i,r,l,a),r.child;case 14:return Uy(i,r,r.type,r.pendingProps,a);case 15:return zy(i,r,r.type,r.pendingProps,a);case 19:return Qy(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Mi(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return By(i,r,a);case 24:return Ds(r),l=Qt(Ct),i===null?(f=Of(),f===null&&(f=tt,p=Nf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},Vf(r),gr(r,Ct,f)):((i.lanes&a)!==0&&(Pf(i,r),tl(r,null,null,a),el()),f=i.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,Ct,l)):(l=p.cache,gr(r,Ct,l),l!==f.cache&&xf(r,[Ct],a,!0))),Bt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ji(i){i.flags|=4}function $y(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!i_(r)){if(r=Nn.current,r!==null&&((Ue&4194048)===Ue?oi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==oi))throw Zo=Mf,Og;i.flags|=8192}}function mc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?So():536870912,i.lanes|=r,ka|=r)}function ll(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ot(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function X2(i,r,a){var l=r.pendingProps;switch(Sf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Li(Ct),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Go(r)?ji(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cg())),ot(r),null;case 26:return a=r.memoizedState,i===null?(ji(r),a!==null?(ot(r),$y(r,a)):(ot(r),r.flags&=-16777217)):a?a!==i.memoizedState?(ji(r),ot(r),$y(r,a)):(ot(r),r.flags&=-16777217):(i.memoizedProps!==l&&ji(r),ot(r),r.flags&=-16777217),null;case 27:Ei(r),a=be.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}i=_e.current,Go(r)?Sg(r):(i=$0(f,l,a),r.stateNode=i,ji(r))}return ot(r),null;case 5:if(Ei(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(i=_e.current,Go(r))Sg(r);else{switch(f=Cc(be.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[bt]=r,i[yt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(qt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ji(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=be.current,Go(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[bt]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q0(i.nodeValue,a)),i||xs(r)}else i=Cc(i).createTextNode(l),i[bt]=r,r.stateNode=i}return ot(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Go(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=Cg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(zi(r),r):(zi(r),null)}if(zi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),mc(r,r.updateQueue),ot(r),null;case 4:return Kn(),i===null&&Ld(r.stateNode.containerInfo),ot(r),null;case 10:return Li(r.type),ot(r),null;case 19:if(ce(It),f=r.memoizedState,f===null)return ot(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)ll(f,!1);else{if(ht!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=uc(i),p!==null){for(r.flags|=128,ll(f,!1),i=p.updateQueue,r.updateQueue=i,mc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)wg(a,i),a=a.sibling;return ae(It,It.current&1|2),r.child}i=i.sibling}f.tail!==null&&En()>yc&&(r.flags|=128,l=!0,ll(f,!1),r.lanes=4194304)}else{if(!l)if(i=uc(p),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,mc(r,i),ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Fe)return ot(r),null}else 2*En()-f.renderingStartTime>yc&&a!==536870912&&(r.flags|=128,l=!0,ll(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(i=f.last,i!==null?i.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=En(),r.sibling=null,i=It.current,ae(It,l?i&1|2:i&1),r):(ot(r),null);case 22:case 23:return zi(r),zf(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&mc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&ce(Os),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Li(Ct),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function W2(i,r){switch(Sf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Li(Ct),Kn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ei(r),null;case 13:if(zi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ce(It),null;case 4:return Kn(),null;case 10:return Li(r.type),null;case 22:case 23:return zi(r),zf(),i!==null&&ce(Os),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Li(Ct),null;case 25:return null;default:return null}}function Xy(i,r){switch(Sf(r),r.tag){case 3:Li(Ct),Kn();break;case 26:case 27:case 5:Ei(r);break;case 4:Kn();break;case 13:zi(r);break;case 19:ce(It);break;case 10:Li(r.type);break;case 22:case 23:zi(r),zf(),i!==null&&ce(Os);break;case 24:Li(Ct)}}function ul(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(w){Je(r,r.return,w)}}function wr(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&i)===i){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=r;var N=a,F=w;try{F()}catch(Z){Je(f,N,Z)}}}l=l.next}while(l!==p)}}catch(Z){Je(r,r.return,Z)}}function Wy(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Ug(r,a)}catch(l){Je(i,i.return,l)}}}function Zy(i,r,a){a.props=Vs(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Je(i,r,l)}}function cl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Je(i,r,f)}}function li(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(i,r,f)}else a.current=null}function Jy(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(i,i.return,f)}}function dd(i,r,a){try{var l=i.stateNode;_A(l,i.type,a,r),l[yt]=r}catch(f){Je(i,i.return,f)}}function e0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Dr(i.type)||i.tag===4}function md(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||e0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Dr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pd(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Rc));else if(l!==4&&(l===27&&Dr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(pd(i,r,a),i=i.sibling;i!==null;)pd(i,r,a),i=i.sibling}function pc(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&Dr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(pc(i,r,a),i=i.sibling;i!==null;)pc(i,r,a),i=i.sibling}function t0(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[bt]=i,r[yt]=a}catch(p){Je(i,i.return,p)}}var qi=!1,mt=!1,gd=!1,n0=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Z2(i,r){if(i=i.containerInfo,Bd=Mc,i=dg(i),mf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,w=-1,N=-1,F=0,Z=0,te=i,G=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(w=E+f),te!==p||l!==0&&te.nodeType!==3||(N=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===i)break t;if(G===a&&++F===f&&(w=E),G===p&&++Z===l&&(N=E),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:i,selectionRange:a},Mc=!1,Pt=r;Pt!==null;)if(r=Pt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Pt=i;else for(;Pt!==null;){switch(r=Pt,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var we=Vs(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(we,p),l.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Je(a,a.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Hd(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Pt=i;break}Pt=r.return}}function i0(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(i,a),l&4&&ul(5,a);break;case 1:if(br(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(E){Je(a,a.return,E)}else{var f=Vs(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&Wy(a),l&512&&cl(a,a.return);break;case 3:if(br(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ug(i,r)}catch(E){Je(a,a.return,E)}}break;case 27:r===null&&l&4&&t0(a);case 26:case 5:br(i,a),r===null&&l&4&&Jy(a),l&512&&cl(a,a.return);break;case 12:br(i,a);break;case 13:br(i,a),l&4&&a0(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=oA.bind(null,a),SA(i,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){r=r!==null&&r.memoizedState!==null||mt,f=qi;var p=mt;qi=l,(mt=r)&&!p?Sr(i,a,(a.subtreeFlags&8772)!==0):br(i,a),qi=f,mt=p}break;case 30:break;default:br(i,a)}}function r0(i){var r=i.alternate;r!==null&&(i.alternate=null,r0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&fr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,sn=!1;function Fi(i,r,a){for(a=a.child;a!==null;)s0(i,r,a),a=a.sibling}function s0(i,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||li(a,r),Fi(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||li(a,r);var l=st,f=sn;Dr(a.type)&&(st=a.stateNode,sn=!1),Fi(i,r,a),vl(a.stateNode),st=l,sn=f;break;case 5:mt||li(a,r);case 6:if(l=st,f=sn,st=null,Fi(i,r,a),st=l,sn=f,st!==null)if(sn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(p){Je(a,r,p)}else try{st.removeChild(a.stateNode)}catch(p){Je(a,r,p)}break;case 18:st!==null&&(sn?(i=st,Q0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Cl(i)):Q0(st,a.stateNode));break;case 4:l=st,f=sn,st=a.stateNode.containerInfo,sn=!0,Fi(i,r,a),st=l,sn=f;break;case 0:case 11:case 14:case 15:mt||wr(2,a,r),mt||wr(4,a,r),Fi(i,r,a);break;case 1:mt||(li(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,r,l)),Fi(i,r,a);break;case 21:Fi(i,r,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Fi(i,r,a),mt=l;break;default:Fi(i,r,a)}}function a0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cl(i)}catch(a){Je(r,r.return,a)}}function J2(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new n0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new n0),r;default:throw Error(s(435,i.tag))}}function yd(i,r){var a=J2(i);r.forEach(function(l){var f=lA.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function dn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=i,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Dr(w.type)){st=w.stateNode,sn=!1;break e}break;case 5:st=w.stateNode,sn=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,sn=!0;break e}w=w.return}if(st===null)throw Error(s(160));s0(p,E,f),st=null,sn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)o0(r,i),r=r.sibling}var Bn=null;function o0(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(r,i),mn(i),l&4&&(wr(3,i,i.return),ul(3,i),wr(5,i,i.return));break;case 1:dn(r,i),mn(i),l&512&&(mt||a===null||li(a,a.return)),l&64&&qi&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Bn;if(dn(r,i),mn(i),l&512&&(mt||a===null||li(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[us]||p[bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),qt(p,l,a),p[bt]=i,ft(p),l=p;break e;case"link":var E=t_("link","href",f).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(p=E[w],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}p=f.createElement(l),qt(p,l,a),f.head.appendChild(p);break;case"meta":if(E=t_("meta","content",f).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(p=E[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}p=f.createElement(l),qt(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[bt]=i,ft(p),l=p}i.stateNode=l}else n_(f,i.type,i.stateNode);else i.stateNode=e_(f,l,i.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?n_(f,i.type,i.stateNode):e_(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&dd(i,i.memoizedProps,a.memoizedProps)}break;case 27:dn(r,i),mn(i),l&512&&(mt||a===null||li(a,a.return)),a!==null&&l&4&&dd(i,i.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,i),mn(i),l&512&&(mt||a===null||li(a,a.return)),i.flags&32){f=i.stateNode;try{An(f,"")}catch(Y){Je(i,i.return,Y)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,dd(i,f,a!==null?a.memoizedProps:f)),l&1024&&(gd=!0);break;case 6:if(dn(r,i),mn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(Y){Je(i,i.return,Y)}}break;case 3:if(Nc=null,f=Bn,Bn=Ic(r.containerInfo),dn(r,i),Bn=f,mn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(Y){Je(i,i.return,Y)}gd&&(gd=!1,l0(i));break;case 4:l=Bn,Bn=Ic(i.stateNode.containerInfo),dn(r,i),mn(i),Bn=l;break;case 12:dn(r,i),mn(i);break;case 13:dn(r,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wd=En()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,yd(i,l)));break;case 22:f=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=qi,Z=mt;if(qi=F||f,mt=Z||N,dn(r,i),mt=Z,qi=F,mn(i),l&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||qi||mt||Ps(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(p=N.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){Je(N,N.return,Y)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(Y){Je(N,N.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(i,a))));break;case 19:dn(r,i),mn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,yd(i,l)));break;case 30:break;case 21:break;default:dn(r,i),mn(i)}}function mn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(e0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=md(i);pc(i,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(An(E,""),a.flags&=-33);var w=md(i);pc(i,w,E);break;case 3:case 4:var N=a.stateNode.containerInfo,F=md(i);pd(i,F,N);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function l0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;l0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function br(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)i0(i,r.alternate,r),r=r.sibling}function Ps(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Ps(r);break;case 1:li(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Zy(r,r.return,a),Ps(r);break;case 27:vl(r.stateNode);case 26:case 5:li(r,r.return),Ps(r);break;case 22:r.memoizedState===null&&Ps(r);break;case 30:Ps(r);break;default:Ps(r)}i=i.sibling}}function Sr(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Sr(f,p,a),ul(4,p);break;case 1:if(Sr(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=p,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Lg(N[f],w)}catch(F){Je(l,l.return,F)}}a&&E&64&&Wy(p),cl(p,p.return);break;case 27:t0(p);case 26:case 5:Sr(f,p,a),a&&l===null&&E&4&&Jy(p),cl(p,p.return);break;case 12:Sr(f,p,a);break;case 13:Sr(f,p,a),a&&E&4&&a0(f,p);break;case 22:p.memoizedState===null&&Sr(f,p,a),cl(p,p.return);break;case 30:break;default:Sr(f,p,a)}r=r.sibling}}function _d(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&$o(a))}function vd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$o(i))}function ui(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u0(i,r,a,l),r=r.sibling}function u0(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ui(i,r,a,l),f&2048&&ul(9,r);break;case 1:ui(i,r,a,l);break;case 3:ui(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$o(i)));break;case 12:if(f&2048){ui(i,r,a,l),i=r.stateNode;try{var p=r.memoizedProps,E=p.id,w=p.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Je(r,r.return,N)}}else ui(i,r,a,l);break;case 13:ui(i,r,a,l);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?ui(i,r,a,l):hl(i,r):p._visibility&2?ui(i,r,a,l):(p._visibility|=2,Ma(i,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&_d(E,r);break;case 24:ui(i,r,a,l),f&2048&&vd(r.alternate,r);break;default:ui(i,r,a,l)}}function Ma(i,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,E=r,w=a,N=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ma(p,E,w,N,f),ul(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Ma(p,E,w,N,f):hl(p,E):(Z._visibility|=2,Ma(p,E,w,N,f)),f&&F&2048&&_d(E.alternate,E);break;case 24:Ma(p,E,w,N,f),f&&F&2048&&vd(E.alternate,E);break;default:Ma(p,E,w,N,f)}r=r.sibling}}function hl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:hl(a,l),f&2048&&_d(l.alternate,l);break;case 24:hl(a,l),f&2048&&vd(l.alternate,l);break;default:hl(a,l)}r=r.sibling}}var fl=8192;function Va(i){if(i.subtreeFlags&fl)for(i=i.child;i!==null;)c0(i),i=i.sibling}function c0(i){switch(i.tag){case 26:Va(i),i.flags&fl&&i.memoizedState!==null&&UA(Bn,i.memoizedState,i.memoizedProps);break;case 5:Va(i);break;case 3:case 4:var r=Bn;Bn=Ic(i.stateNode.containerInfo),Va(i),Bn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=fl,fl=16777216,Va(i),fl=r):Va(i));break;default:Va(i)}}function h0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function dl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,d0(l,i)}h0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f0(i),i=i.sibling}function f0(i){switch(i.tag){case 0:case 11:case 15:dl(i),i.flags&2048&&wr(9,i,i.return);break;case 3:dl(i);break;case 12:dl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,gc(i)):dl(i);break;default:dl(i)}}function gc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,d0(l,i)}h0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wr(8,r,r.return),gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,gc(r));break;default:gc(r)}i=i.sibling}}function d0(i,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=i;Pt!==null;){l=Pt;var f=l.sibling,p=l.return;if(r0(l),l===a){Pt=null;break e}if(f!==null){f.return=p,Pt=f;break e}Pt=p}}}var eA={getCacheForType:function(i){var r=Qt(Ct),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},tA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,De=null,Ue=0,Ke=0,pn=null,Rr=!1,Pa=!1,Ed=!1,Hi=0,ht=0,Cr=0,ks=0,Td=0,Dn=0,ka=0,ml=null,an=null,Ad=!1,wd=0,yc=1/0,_c=null,Ir=null,jt=0,xr=null,La=null,Ua=0,bd=0,Sd=null,m0=null,pl=0,Rd=null;function gn(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if(W.T!==null){var i=Sa;return i!==0?i:Md()}return cr()}function p0(){Dn===0&&(Dn=(Ue&536870912)===0||Fe?bo():536870912);var i=Nn.current;return i!==null&&(i.flags|=32),Dn}function yn(i,r,a){(i===tt&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)&&(za(i,0),Nr(i,Ue,Dn,!1)),Ai(i,a),((Qe&2)===0||i!==tt)&&(i===tt&&((Qe&2)===0&&(ks|=a),ht===4&&Nr(i,Ue,Dn,!1)),ci(i))}function g0(i,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||ls(i,r),f=l?rA(i,r):xd(i,r,!0),p=l;do{if(f===0){Pa&&!l&&Nr(i,r,0,!1);break}else{if(a=i.current.alternate,p&&!nA(a)){f=xd(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=i;f=ml;var N=w.current.memoizedState.isDehydrated;if(N&&(za(w,E).flags|=256),E=xd(w,E,!1),E!==2){if(Ed&&!N){w.errorRecoveryDisabledLanes|=p,ks|=p,f=4;break e}p=an,an=f,p!==null&&(an===null?an=p:an.push.apply(an,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){za(i,0),Nr(i,r,0,!0);break}e:{switch(l=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Nr(l,r,Dn,!Rr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wd+300-En(),10<f)){if(Nr(l,r,Dn,!Rr),na(l,0,!0)!==0)break e;l.timeoutHandle=G0(y0.bind(null,l,a,an,_c,Ad,r,Dn,ks,ka,Rr,p,2,-0,0),f);break e}y0(l,a,an,_c,Ad,r,Dn,ks,ka,Rr,p,0,-0,0)}}break}while(!0);ci(i)}function y0(i,r,a,l,f,p,E,w,N,F,Z,te,G,Y){if(i.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:LA},c0(r),te=zA(),te!==null)){i.cancelPendingCommit=te(b0.bind(null,i,r,p,a,l,f,E,w,N,Z,1,G,Y)),Nr(i,p,E,!F);return}b0(i,r,p,a,l,f,E,w,N)}function nA(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!hn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(i,r,a,l){r&=~Td,r&=~ks,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var p=31-Yt(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&$n(i,a,r)}function vc(){return(Qe&6)===0?(gl(0),!1):!0}function Cd(){if(De!==null){if(Ke===0)var i=De.return;else i=De,ki=Ns=null,Hf(i),Da=null,al=0,i=De;for(;i!==null;)Xy(i.alternate,i),i=i.return;De=null}}function za(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,EA(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Cd(),tt=i,De=a=Mi(i.current,null),Ue=r,Ke=0,pn=null,Rr=!1,Pa=ls(i,r),Ed=!1,ka=Dn=Td=ks=Cr=ht=0,an=ml=null,Ad=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-Yt(l),p=1<<f;r|=i[f],l&=~p}return Hi=r,ju(),a}function _0(i,r){Ie=null,W.H=ac,r===Wo||r===Xu?(r=Pg(),Ke=3):r===Og?(r=Pg(),Ke=4):Ke=r===ky?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,De===null&&(ht=1,hc(i,Rn(r,i.current)))}function v0(){var i=W.H;return W.H=ac,i===null?ac:i}function E0(){var i=W.A;return W.A=eA,i}function Id(){ht=4,Rr||(Ue&4194048)!==Ue&&Nn.current!==null||(Pa=!0),(Cr&134217727)===0&&(ks&134217727)===0||tt===null||Nr(tt,Ue,Dn,!1)}function xd(i,r,a){var l=Qe;Qe|=2;var f=v0(),p=E0();(tt!==i||Ue!==r)&&(_c=null,za(i,r)),r=!1;var E=ht;e:do try{if(Ke!==0&&De!==null){var w=De,N=pn;switch(Ke){case 8:Cd(),E=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var F=Ke;if(Ke=0,pn=null,Ba(i,w,N,F),a&&Pa){E=0;break e}break;default:F=Ke,Ke=0,pn=null,Ba(i,w,N,F)}}iA(),E=ht;break}catch(Z){_0(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ki=Ns=null,Qe=l,W.H=f,W.A=p,De===null&&(tt=null,Ue=0,ju()),E}function iA(){for(;De!==null;)T0(De)}function rA(i,r){var a=Qe;Qe|=2;var l=v0(),f=E0();tt!==i||Ue!==r?(_c=null,yc=En()+500,za(i,r)):Pa=ls(i,r);e:do try{if(Ke!==0&&De!==null){r=De;var p=pn;t:switch(Ke){case 1:Ke=0,pn=null,Ba(i,r,p,1);break;case 2:case 9:if(Mg(p)){Ke=0,pn=null,A0(r);break}r=function(){Ke!==2&&Ke!==9||tt!==i||(Ke=7),ci(i)},p.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Mg(p)?(Ke=0,pn=null,A0(r)):(Ke=0,pn=null,Ba(i,r,p,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||i_(E)){Ke=0,pn=null;var N=w.sibling;if(N!==null)De=N;else{var F=w.return;F!==null?(De=F,Ec(F)):De=null}break t}}Ke=0,pn=null,Ba(i,r,p,5);break;case 6:Ke=0,pn=null,Ba(i,r,p,6);break;case 8:Cd(),ht=6;break e;default:throw Error(s(462))}}sA();break}catch(Z){_0(i,Z)}while(!0);return ki=Ns=null,W.H=l,W.A=f,Qe=a,De!==null?0:(tt=null,Ue=0,ju(),ht)}function sA(){for(;De!==null&&!Eo();)T0(De)}function T0(i){var r=Ky(i.alternate,i,Hi);i.memoizedProps=i.pendingProps,r===null?Ec(i):De=r}function A0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=qy(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=qy(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Hf(r);default:Xy(a,r),r=De=wg(r,Hi),r=Ky(a,r,Hi)}i.memoizedProps=i.pendingProps,r===null?Ec(i):De=r}function Ba(i,r,a,l){ki=Ns=null,Hf(r),Da=null,al=0;var f=r.return;try{if(K2(i,f,r,a,Ue)){ht=1,hc(i,Rn(a,i.current)),De=null;return}}catch(p){if(f!==null)throw De=f,p;ht=1,hc(i,Rn(a,i.current)),De=null;return}r.flags&32768?(Fe||l===1?i=!0:Pa||(Ue&536870912)!==0?i=!1:(Rr=i=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w0(r,i)):Ec(r)}function Ec(i){var r=i;do{if((r.flags&32768)!==0){w0(r,Rr);return}i=r.return;var a=X2(r.alternate,r,Hi);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=i}while(r!==null);ht===0&&(ht=5)}function w0(i,r){do{var a=W2(i.alternate,i);if(a!==null){a.flags&=32767,De=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){De=i;return}De=i=a}while(i!==null);ht=6,De=null}function b0(i,r,a,l,f,p,E,w,N){i.cancelPendingCommit=null;do Tc();while(jt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=vf,Ro(i,a,p,E,w,N),i===tt&&(De=tt=null,Ue=0),La=r,xr=i,Ua=a,bd=p,Sd=f,m0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,uA(rs,function(){return x0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=le.p,le.p=2,E=Qe,Qe|=4;try{Z2(i,r,a)}finally{Qe=E,le.p=f,W.T=l}}jt=1,S0(),R0(),C0()}}function S0(){if(jt===1){jt=0;var i=xr,r=La,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{o0(r,i);var p=jd,E=dg(i.containerInfo),w=p.focusedElem,N=p.selectionRange;if(E!==w&&w&&w.ownerDocument&&fg(w.ownerDocument.documentElement,w)){if(N!==null&&mf(w)){var F=N.start,Z=N.end;if(Z===void 0&&(Z=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(Z,w.value.length);else{var te=w.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Y=G.getSelection(),we=w.textContent.length,ve=Math.min(N.start,we),Ze=N.end===void 0?ve:Math.min(N.end,we);!Y.extend&&ve>Ze&&(E=Ze,Ze=ve,ve=E);var z=hg(w,ve),k=hg(w,Ze);if(z&&k&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var q=te.createRange();q.setStart(z.node,z.offset),Y.removeAllRanges(),ve>Ze?(Y.addRange(q),Y.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Y.addRange(q))}}}}for(te=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mc=!!Bd,jd=Bd=null}finally{Qe=f,le.p=l,W.T=a}}i.current=r,jt=2}}function R0(){if(jt===2){jt=0;var i=xr,r=La,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{i0(i,r.alternate,r)}finally{Qe=f,le.p=l,W.T=a}}jt=3}}function C0(){if(jt===4||jt===3){jt=0,gu();var i=xr,r=La,a=Ua,l=m0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,La=xr=null,I0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ir=null),ia(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=le.p,le.p=2,W.T=null;try{for(var p=i.onRecoverableError,E=0;E<l.length;E++){var w=l[E];p(w.value,{componentStack:w.stack})}}finally{W.T=r,le.p=f}}(Ua&3)!==0&&Tc(),ci(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===Rd?pl++:(pl=0,Rd=i):pl=0,gl(0)}}function I0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$o(r)))}function Tc(i){return S0(),R0(),C0(),x0()}function x0(){if(jt!==5)return!1;var i=xr,r=bd;bd=0;var a=ia(Ua),l=W.T,f=le.p;try{le.p=32>a?32:a,W.T=null,a=Sd,Sd=null;var p=xr,E=Ua;if(jt=0,La=xr=null,Ua=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,f0(p.current),u0(p,p.current,E,a),Qe=w,gl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ut,p)}catch{}return!0}finally{le.p=f,W.T=l,I0(i,r)}}function N0(i,r,a){r=Rn(a,r),r=rd(i.stateNode,r,2),i=vr(i,r,2),i!==null&&(Ai(i,2),ci(i))}function Je(i,r,a){if(i.tag===3)N0(i,i,a);else for(;r!==null;){if(r.tag===3){N0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){i=Rn(a,i),a=Vy(2),l=vr(r,a,2),l!==null&&(Py(a,l,r,i),Ai(l,2),ci(l));break}}r=r.return}}function Nd(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new tA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ed=!0,f.add(a),i=aA.bind(null,i,r,a),r.then(i,i))}function aA(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,tt===i&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>En()-wd?(Qe&2)===0&&za(i,0):Td|=a,ka===Ue&&(ka=0)),ci(i)}function D0(i,r){r===0&&(r=So()),i=Ta(i,r),i!==null&&(Ai(i,r),ci(i))}function oA(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),D0(i,a)}function lA(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),D0(i,a)}function uA(i,r){return ns(i,r)}var Ac=null,ja=null,Dd=!1,wc=!1,Od=!1,Ls=0;function ci(i){i!==ja&&i.next===null&&(ja===null?Ac=ja=i:ja=ja.next=i),wc=!0,Dd||(Dd=!0,hA())}function gl(i,r){if(!Od&&wc){Od=!0;do for(var a=!1,l=Ac;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,w=l.pingedLanes;p=(1<<31-Yt(42|i)+1)-1,p&=f&~(E&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,P0(l,p))}else p=Ue,p=na(l,l===tt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||ls(l,p)||(a=!0,P0(l,p));l=l.next}while(a);Od=!1}}function cA(){O0()}function O0(){wc=Dd=!1;var i=0;Ls!==0&&(vA()&&(i=Ls),Ls=0);for(var r=En(),a=null,l=Ac;l!==null;){var f=l.next,p=M0(l,r);p===0?(l.next=null,a===null?Ac=f:a.next=f,f===null&&(ja=a)):(a=l,(i!==0||(p&3)!==0)&&(wc=!0)),l=f}gl(i)}function M0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-Yt(p),w=1<<E,N=f[E];N===-1?((w&a)===0||(w&l)!==0)&&(f[E]=wo(w,r)):N<=r&&(i.expiredLanes|=w),p&=~w}if(r=tt,a=Ue,a=na(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Ke===2||Ke===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&is(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ls(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&is(l),ia(a)){case 2:case 8:a=ea;break;case 32:a=rs;break;case 268435456:a=ta;break;default:a=rs}return l=V0.bind(null,i),a=ns(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&is(l),i.callbackPriority=2,i.callbackNode=null,2}function V0(i,r){if(jt!==0&&jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Tc()&&i.callbackNode!==a)return null;var l=Ue;return l=na(i,i===tt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(g0(i,l,r),M0(i,En()),i.callbackNode!=null&&i.callbackNode===a?V0.bind(null,i):null)}function P0(i,r){if(Tc())return null;g0(i,r,!0)}function hA(){TA(function(){(Qe&6)!==0?ns(To,cA):O0()})}function Md(){return Ls===0&&(Ls=bo()),Ls}function k0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ua(""+i)}function L0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function fA(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=k0((f[yt]||null).action),E=l.submitter;E&&(r=(r=E[yt]||null)?k0(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var w=new ca("action","action",null,l,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var N=E?L0(f,E):new FormData(f);Jf(a,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(w.preventDefault(),N=E?L0(f,E):new FormData(f),Jf(a,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var Vd=0;Vd<_f.length;Vd++){var Pd=_f[Vd],dA=Pd.toLowerCase(),mA=Pd[0].toUpperCase()+Pd.slice(1);zn(dA,"on"+mA)}zn(gg,"onAnimationEnd"),zn(yg,"onAnimationIteration"),zn(_g,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(D2,"onTransitionRun"),zn(O2,"onTransitionStart"),zn(M2,"onTransitionCancel"),zn(vg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function U0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],N=w.instance,F=w.currentTarget;if(w=w.listener,N!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=F;try{p(f)}catch(Z){cc(Z)}f.currentTarget=null,p=N}else for(E=0;E<l.length;E++){if(w=l[E],N=w.instance,F=w.currentTarget,w=w.listener,N!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=F;try{p(f)}catch(Z){cc(Z)}f.currentTarget=null,p=N}}}}function Oe(i,r){var a=r[Io];a===void 0&&(a=r[Io]=new Set);var l=i+"__bubble";a.has(l)||(z0(r,i,2,!1),a.add(l))}function kd(i,r,a){var l=0;r&&(l|=4),z0(a,i,l,r)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Ld(i){if(!i[bc]){i[bc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||kd(a,!1,i),kd(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[bc]||(r[bc]=!0,kd("selectionchange",!1,r))}}function z0(i,r,a,l){switch(u_(r)){case 2:var f=qA;break;case 8:f=FA;break;default:f=Wd}a=f.bind(null,r,a,i),f=void 0,!bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Ud(i,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=wi(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=p=E;continue e}w=w.parentNode}}l=l.return}Ru(function(){var F=p,Z=wn(a),te=[];e:{var G=Eg.get(i);if(G!==void 0){var Y=ca,we=i;switch(i){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":Y=ga;break;case"focusin":we="focus",Y=da;break;case"focusout":we="blur",Y=da;break;case"beforeblur":case"afterblur":Y=da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Vu;break;case gg:case yg:case _g:Y=ma;break;case vg:Y=ku;break;case"scroll":case"scrollend":Y=Cu;break;case"wheel":Y=ya;break;case"copy":case"cut":case"paste":Y=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=jo;break;case"toggle":case"beforetoggle":Y=Uu}var ve=(r&4)!==0,Ze=!ve&&(i==="scroll"||i==="scrollend"),z=ve?G!==null?G+"Capture":null:G;ve=[];for(var k=F,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||z===null||(J=gs(k,z),J!=null&&ve.push(_l(k,J,q))),Ze)break;k=k.return}0<ve.length&&(G=new Y(G,we,null,a,Z),te.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",G&&a!==Ci&&(we=a.relatedTarget||a.fromElement)&&(wi(we)||we[Tn]))break e;if((Y||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(we=a.relatedTarget||a.toElement,Y=F,we=we?wi(we):null,we!==null&&(Ze=u(we),ve=we.tag,we!==Ze||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(Y=null,we=F),Y!==we)){if(ve=Sn,J="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(ve=jo,J="onPointerLeave",z="onPointerEnter",k="pointer"),Ze=Y==null?G:Wn(Y),q=we==null?G:Wn(we),G=new ve(J,k+"leave",Y,a,Z),G.target=Ze,G.relatedTarget=q,J=null,wi(Z)===F&&(ve=new ve(z,k+"enter",we,a,Z),ve.target=q,ve.relatedTarget=Ze,J=ve),Ze=J,Y&&we)t:{for(ve=Y,z=we,k=0,q=ve;q;q=qa(q))k++;for(q=0,J=z;J;J=qa(J))q++;for(;0<k-q;)ve=qa(ve),k--;for(;0<q-k;)z=qa(z),q--;for(;k--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=qa(ve),z=qa(z)}ve=null}else ve=null;Y!==null&&B0(te,G,Y,ve,!1),we!==null&&Ze!==null&&B0(te,Ze,we,ve,!0)}}e:{if(G=F?Wn(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var me=sg;else if(Rt(G))if(ag)me=I2;else{me=R2;var Ne=S2}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Vo(F.elementType)&&(me=sg):me=C2;if(me&&(me=me(i,F))){Oi(te,me,a,Z);break e}Ne&&Ne(i,G,F),i==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&mr(G,"number",G.value)}switch(Ne=F?Wn(F):window,i){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(_a=Ne,pf=F,Ho=null);break;case"focusout":Ho=pf=_a=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,mg(te,a,Z);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":mg(te,a,Z)}var ge;if(ri)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ke?$(i,a)&&(Ee="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(ke||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ke&&(ge=ko()):(ei=Z,pr="value"in ei?ei.value:ei.textContent,ke=!0)),Ne=Sc(F,Ee),0<Ne.length&&(Ee=new zo(Ee,i,null,a,Z),te.push({event:Ee,listeners:Ne}),ge?Ee.data=ge:(ge=ue(a),ge!==null&&(Ee.data=ge)))),(ge=y?St(i,a):Le(i,a))&&(Ee=Sc(F,"onBeforeInput"),0<Ee.length&&(Ne=new zo("onBeforeInput","beforeinput",null,a,Z),te.push({event:Ne,listeners:Ee}),Ne.data=ge)),fA(te,i,F,a,Z)}U0(te,r)})}function _l(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Sc(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=gs(i,a),f!=null&&l.unshift(_l(i,f,p)),f=gs(i,r),f!=null&&l.push(_l(i,f,p))),i.tag===3)return l;i=i.return}return[]}function qa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function B0(i,r,a,l,f){for(var p=r._reactName,E=[];a!==null&&a!==l;){var w=a,N=w.alternate,F=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||F===null||(N=F,f?(F=gs(a,p),F!=null&&E.unshift(_l(a,F,N))):f||(F=gs(a,p),F!=null&&E.push(_l(a,F,N)))),a=a.return}E.length!==0&&i.push({event:r,listeners:E})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function j0(i){return(typeof i=="string"?i:""+i).replace(gA,`
`).replace(yA,"")}function q0(i,r){return r=j0(r),j0(i)===r}function Rc(){}function We(i,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(i,""+l);break;case"className":Zn(i,"class",l);break;case"tabIndex":Zn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(i,a,l);break;case"style":Mo(i,l,p);break;case"data":if(r!=="object"){Zn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=ua(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&We(i,r,"name",f.name,f,null),We(i,r,"formEncType",f.formEncType,f,null),We(i,r,"formMethod",f.formMethod,f,null),We(i,r,"formTarget",f.formTarget,f,null)):(We(i,r,"encType",f.encType,f,null),We(i,r,"method",f.method,f,null),We(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=ua(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Rc);break;case"onScroll":l!=null&&Oe("scroll",i);break;case"onScrollEnd":l!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=ua(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),dr(i,"popover",l);break;case"xlinkActuate":Ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,dr(i,a,l))}}function zd(i,r,a,l,f,p){switch(a){case"style":Mo(i,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?An(i,l):(typeof l=="number"||typeof l=="bigint")&&An(i,""+l);break;case"onScroll":l!=null&&Oe("scroll",i);break;case"onScrollEnd":l!=null&&Oe("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=i[yt]||null,p=p!=null?p[a]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):dr(i,a,l)}}}function qt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(i,r,p,E,a,null)}}f&&We(i,r,"srcSet",a.srcSet,a,null),l&&We(i,r,"src",a.src,a,null);return;case"input":Oe("invalid",i);var w=p=E=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":E=Z;break;case"checked":N=Z;break;case"defaultChecked":F=Z;break;case"value":p=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:We(i,r,l,Z,a,null)}}ds(i,p,w,N,F,E,f,!1),la(i);return;case"select":Oe("invalid",i),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(i,r,f,w,a,null)}r=p,a=E,i.multiple=!!l,r!=null?Ri(i,!!l,r,!1):a!=null&&Ri(i,!!l,a,!0);return;case"textarea":Oe("invalid",i),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(i,r,E,w,a,null)}ms(i,l,f,p),la(i);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(i,r,N,l,a,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(l=0;l<yl.length;l++)Oe(yl[l],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(i,r,F,l,a,null)}return;default:if(Vo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&zd(i,r,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(i,r,w,l,a,null))}function _A(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,w=null,N=null,F=null,Z=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Y)||We(i,r,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":p=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":Z=Y;break;case"value":E=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&We(i,r,G,Y,l,te)}}cn(i,E,w,N,F,Z,p,f);return;case"select":Y=E=w=G=null;for(p in a)if(N=a[p],a.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(p)||We(i,r,p,null,l,N)}for(f in l)if(p=l[f],N=a[f],l.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":G=p;break;case"defaultValue":w=p;break;case"multiple":E=p;default:p!==N&&We(i,r,f,p,l,N)}r=w,a=E,l=Y,G!=null?Ri(i,!!a,G,!1):!!l!=!!a&&(r!=null?Ri(i,!!a,r,!0):Ri(i,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(i,r,w,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&We(i,r,E,f,l,p)}$e(i,G,Y);return;case"option":for(var we in a)if(G=a[we],a.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:We(i,r,we,null,l,G)}for(N in l)if(G=l[N],Y=a[N],l.hasOwnProperty(N)&&G!==Y&&(G!=null||Y!=null))switch(N){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(i,r,N,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(i,r,ve,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:We(i,r,F,G,l,Y)}return;default:if(Vo(r)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&zd(i,r,Ze,void 0,l,G);for(Z in l)G=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||G===Y||G===void 0&&Y===void 0||zd(i,r,Z,G,l,Y);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&We(i,r,z,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||We(i,r,te,G,l,Y)}var Bd=null,jd=null;function Cc(i){return i.nodeType===9?i:i.ownerDocument}function F0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function qd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function vA(){var i=window.event;return i&&i.type==="popstate"?i===Fd?!1:(Fd=i,!0):(Fd=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(i){return Y0.resolve(null).then(i).catch(AA)}:G0;function AA(i){setTimeout(function(){throw i})}function Dr(i){return i==="head"}function Q0(i,r){var a=r,l=0,f=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var E=i.ownerDocument;if(a&1&&vl(E.documentElement),a&2&&vl(E.body),a&4)for(a=E.head,vl(a),E=a.firstChild;E;){var w=E.nextSibling,N=E.nodeName;E[us]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(f===0){i.removeChild(p),Cl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);Cl(r)}function Hd(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function wA(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[us])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function bA(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=jn(i.nextSibling),i===null))return null;return i}function Gd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function SA(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function jn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Yd=null;function K0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function $0(i,r,a){switch(r=Cc(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function vl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);fr(i)}var On=new Map,X0=new Set;function Ic(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gi=le.d;le.d={f:RA,r:CA,D:IA,C:xA,L:NA,m:DA,X:MA,S:OA,M:VA};function RA(){var i=Gi.f(),r=vc();return i||r}function CA(i){var r=Xn(i);r!==null&&r.tag===5&&r.type==="form"?gy(r):Gi.r(i)}var Fa=typeof document>"u"?null:document;function W0(i,r,a){var l=Fa;if(l&&typeof r=="string"&&r){var f=_t(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),X0.has(f)||(X0.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",i),ft(r),l.head.appendChild(r)))}}function IA(i){Gi.D(i),W0("dns-prefetch",i,null)}function xA(i,r){Gi.C(i,r),W0("preconnect",i,r)}function NA(i,r,a){Gi.L(i,r,a);var l=Fa;if(l&&i&&r){var f='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(i)+'"]';var p=f;switch(r){case"style":p=Ha(i);break;case"script":p=Ga(i)}On.has(p)||(i=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),On.set(p,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(El(p))||r==="script"&&l.querySelector(Tl(p))||(r=l.createElement("link"),qt(r,"link",i),ft(r),l.head.appendChild(r)))}}function DA(i,r){Gi.m(i,r);var a=Fa;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(i)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ga(i)}if(!On.has(p)&&(i=_({rel:"modulepreload",href:i},r),On.set(p,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(p)))return}l=a.createElement("link"),qt(l,"link",i),ft(l),a.head.appendChild(l)}}}function OA(i,r,a){Gi.S(i,r,a);var l=Fa;if(l&&i){var f=Jt(l).hoistableStyles,p=Ha(i);r=r||"default";var E=f.get(p);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(El(p)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},a),(a=On.get(p))&&Qd(i,a);var N=E=l.createElement("link");ft(N),qt(N,"link",i),N._p=new Promise(function(F,Z){N.onload=F,N.onerror=Z}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,xc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(p,E)}}}function MA(i,r){Gi.X(i,r);var a=Fa;if(a&&i){var l=Jt(a).hoistableScripts,f=Ga(i),p=l.get(f);p||(p=a.querySelector(Tl(f)),p||(i=_({src:i,async:!0},r),(r=On.get(f))&&Kd(i,r),p=a.createElement("script"),ft(p),qt(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function VA(i,r){Gi.M(i,r);var a=Fa;if(a&&i){var l=Jt(a).hoistableScripts,f=Ga(i),p=l.get(f);p||(p=a.querySelector(Tl(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=On.get(f))&&Kd(i,r),p=a.createElement("script"),ft(p),qt(p,"link",i),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Z0(i,r,a,l){var f=(f=be.current)?Ic(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ha(a.href),a=Jt(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ha(a.href);var p=Jt(f).hoistableStyles,E=p.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=f.querySelector(El(i)))&&!p._p&&(E.instance=p,E.state.loading=5),On.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(i,a),p||PA(f,i,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ga(a),a=Jt(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ha(i){return'href="'+_t(i)+'"'}function El(i){return'link[rel="stylesheet"]['+i+"]"}function J0(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function PA(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),ft(r),i.head.appendChild(r))}function Ga(i){return'[src="'+_t(i)+'"]'}function Tl(i){return"script[async]"+i}function e_(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,ft(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),ft(l),qt(l,"style",f),xc(l,a.precedence,i),r.instance=l;case"stylesheet":f=Ha(a.href);var p=i.querySelector(El(f));if(p)return r.state.loading|=4,r.instance=p,ft(p),p;l=J0(a),(f=On.get(f))&&Qd(l,f),p=(i.ownerDocument||i).createElement("link"),ft(p);var E=p;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),qt(p,"link",l),r.state.loading|=4,xc(p,a.precedence,i),r.instance=p;case"script":return p=Ga(a.src),(f=i.querySelector(Tl(p)))?(r.instance=f,ft(f),f):(l=a,(f=On.get(p))&&(l=_({},a),Kd(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),ft(f),qt(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xc(l,a.precedence,i));return r.instance}function xc(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Qd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Kd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Nc=null;function t_(i,r,a){if(Nc===null){var l=new Map,f=Nc=new Map;f.set(a,l)}else f=Nc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var p=a[f];if(!(p[us]||p[bt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=i+E;var w=l.get(E);w?w.push(p):l.set(E,[p])}}return l}function n_(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function kA(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Al=null;function LA(){}function UA(i,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ha(a.href),p=i.querySelector(El(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Dc.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=p,ft(p);return}p=i.ownerDocument||i,a=J0(a),(f=On.get(f))&&Qd(a,f),p=p.createElement("link"),ft(p);var E=p;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),qt(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function zA(){if(Al===null)throw Error(s(475));var i=Al;return i.stylesheets&&i.count===0&&$d(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&$d(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Oc=null;function $d(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Oc=new Map,r.forEach(BA,i),Oc=null,Dc.call(i))}function BA(i,r){if(!(r.state.loading&4)){var a=Oc.get(i);if(a)var l=a.get(null);else{a=new Map,Oc.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=Dc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var wl={$$typeof:X,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jA(i,r,a,l,f,p,E,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function r_(i,r,a,l,f,p,E,w,N,F,Z,te){return i=new jA(i,r,a,E,w,N,F,te),r=1,p===!0&&(r|=24),p=fn(3,null,null,r),i.current=p,p.stateNode=i,r=Nf(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},Vf(p),i}function s_(i){return i?(i=Aa,i):Aa}function a_(i,r,a,l,f,p){f=s_(f),l.context===null?l.context=f:l.pendingContext=f,l=_r(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=vr(i,l,r),a!==null&&(yn(a,i,r),Jo(a,i,r))}function o_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Xd(i,r){o_(i,r),(i=i.alternate)&&o_(i,r)}function l_(i){if(i.tag===13){var r=Ta(i,67108864);r!==null&&yn(r,i,67108864),Xd(i,67108864)}}var Mc=!0;function qA(i,r,a,l){var f=W.T;W.T=null;var p=le.p;try{le.p=2,Wd(i,r,a,l)}finally{le.p=p,W.T=f}}function FA(i,r,a,l){var f=W.T;W.T=null;var p=le.p;try{le.p=8,Wd(i,r,a,l)}finally{le.p=p,W.T=f}}function Wd(i,r,a,l){if(Mc){var f=Zd(l);if(f===null)Ud(i,r,l,Vc,a),c_(i,l);else if(GA(f,i,r,a,l))l.stopPropagation();else if(c_(i,l),r&4&&-1<HA.indexOf(i)){for(;f!==null;){var p=Xn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=kn(p.pendingLanes);if(E!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-Yt(E);w.entanglements[1]|=N,E&=~N}ci(p),(Qe&6)===0&&(yc=En()+500,gl(0))}}break;case 13:w=Ta(p,2),w!==null&&yn(w,p,2),vc(),Xd(p,2)}if(p=Zd(l),p===null&&Ud(i,r,l,Vc,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Ud(i,r,l,null,a)}}function Zd(i){return i=wn(i),Jd(i)}var Vc=null;function Jd(i){if(Vc=null,i=wi(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Vc=i,null}function u_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tf()){case To:return 2;case ea:return 8;case rs:case nf:return 32;case ta:return 268435456;default:return 32}default:return 32}}var em=!1,Or=null,Mr=null,Vr=null,bl=new Map,Sl=new Map,Pr=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(i,r){switch(i){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(r.pointerId)}}function Rl(i,r,a,l,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Xn(r),r!==null&&l_(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function GA(i,r,a,l,f){switch(r){case"focusin":return Or=Rl(Or,i,r,a,l,f),!0;case"dragenter":return Mr=Rl(Mr,i,r,a,l,f),!0;case"mouseover":return Vr=Rl(Vr,i,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return bl.set(p,Rl(bl.get(p)||null,i,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Sl.set(p,Rl(Sl.get(p)||null,i,r,a,l,f)),!0}return!1}function h_(i){var r=wi(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,vu(i.priority,function(){if(a.tag===13){var l=gn();l=ur(l);var f=Ta(a,l);f!==null&&yn(f,a,l),Xd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Zd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return r=Xn(a),r!==null&&l_(r),i.blockedOn=a,!1;r.shift()}return!0}function f_(i,r,a){Pc(i)&&a.delete(r)}function YA(){em=!1,Or!==null&&Pc(Or)&&(Or=null),Mr!==null&&Pc(Mr)&&(Mr=null),Vr!==null&&Pc(Vr)&&(Vr=null),bl.forEach(f_),Sl.forEach(f_)}function kc(i,r){i.blockedOn===r&&(i.blockedOn=null,em||(em=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YA)))}var Lc=null;function d_(i){Lc!==i&&(Lc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lc===i&&(Lc=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var p=Xn(a);p!==null&&(i.splice(r,3),r-=3,Jf(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Cl(i){function r(N){return kc(N,i)}Or!==null&&kc(Or,i),Mr!==null&&kc(Mr,i),Vr!==null&&kc(Vr,i),bl.forEach(r),Sl.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)h_(a),a.blockedOn===null&&Pr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[yt]||null;if(typeof p=="function")E||d_(a);else if(E){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[yt]||null)w=E.formAction;else if(Jd(f)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),d_(a)}}}function tm(i){this._internalRoot=i}Uc.prototype.render=tm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=gn();a_(a,l,i,r,null,null)},Uc.prototype.unmount=tm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;a_(i.current,2,null,i,null,null),vc(),r[Tn]=null}};function Uc(i){this._internalRoot=i}Uc.prototype.unstable_scheduleHydration=function(i){if(i){var r=cr();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,i),a===0&&h_(i)}};var m_=e.version;if(m_!=="19.1.1")throw Error(s(527,m_,"19.1.1"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var QA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{ut=zc.inject(QA),Ye=zc}catch{}}return xl.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Ny,p=Dy,E=Oy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=r_(i,1,!1,null,null,a,l,f,p,E,w,null),i[Tn]=r.current,Ld(i),new tm(r)},xl.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",p=Ny,E=Dy,w=Oy,N=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=r_(i,1,!0,r,a??null,l,f,p,E,w,N,F),r.context=s_(null),a=r.current,l=gn(),l=ur(l),f=_r(l),f.callback=null,vr(a,f,l),a=l,r.current.lanes=a,Ai(r,a),ci(r),i[Tn]=r.current,Ld(i),new Uc(r)},xl.version="19.1.1",xl}var b_;function rw(){if(b_)return rm.exports;b_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rm.exports=iw(),rm.exports}var sw=rw();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S_="popstate";function aw(n={}){function e(s,o){let{pathname:u,search:c,hash:d}=s.location;return Cm("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Gl(o)}return lw(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ow(){return Math.random().toString(36).substring(2,10)}function R_(n,e){return{usr:n.state,key:n.key,idx:e}}function Cm(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:t,key:e&&e.key||s||ow()}}function Gl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function lo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function lw(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let O=_(),j=O==null?null:O-g;g=O,m&&m({action:d,location:L.location,delta:j})}function A(O,j){d="PUSH";let K=Cm(L.location,O,j);g=_()+1;let X=R_(K,g),se=L.createHref(K);try{c.pushState(X,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(se)}u&&m&&m({action:d,location:L.location,delta:1})}function R(O,j){d="REPLACE";let K=Cm(L.location,O,j);g=_();let X=R_(K,g),se=L.createHref(K);c.replaceState(X,"",se),u&&m&&m({action:d,location:L.location,delta:0})}function x(O){return uw(O)}let L={get action(){return d},get location(){return n(o,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(S_,T),m=O,()=>{o.removeEventListener(S_,T),m=null}},createHref(O){return e(o,O)},createURL:x,encodeLocation(O){let j=x(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:R,go(O){return c.go(O)}};return L}function uw(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Gl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function M1(n,e,t="/"){return cw(n,e,t,!1)}function cw(n,e,t,s){let o=typeof e=="string"?lo(e):e,u=Zi(o.pathname||"/",t);if(u==null)return null;let c=V1(n);hw(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Aw(u);d=Ew(c[m],g,s)}return d}function V1(n,e=[],t=[],s="",o=!1){let u=(c,d,m=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&m)return;at(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Xi([s,_.relativePath]),A=t.concat(_);c.children&&c.children.length>0&&(at(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),V1(c.children,e,A,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:_w(T,c.index),routesMeta:A})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let m of P1(c.path))u(c,d,!0,m)}),e}function P1(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=P1(s.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function hw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var fw=/^:[\w-]+$/,dw=3,mw=2,pw=1,gw=10,yw=-2,C_=n=>n==="*";function _w(n,e){let t=n.split("/"),s=t.length;return t.some(C_)&&(s+=yw),e&&(s+=mw),t.filter(o=>!C_(o)).reduce((o,u)=>o+(fw.test(u)?dw:u===""?pw:gw),s)}function vw(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function Ew(n,e,t=!1){let{routesMeta:s}=n,o={},u="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),A=m.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Xi([u,T.pathname]),pathnameBase:Rw(Xi([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Xi([u,T.pathnameBase]))}return c}function sh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Tw(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},A)=>{if(_==="*"){let x=d[A]||"";c=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const R=d[A];return T&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:n}}function Tw(n,e=!1,t=!0){Gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Aw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function ww(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?lo(n):n;return{pathname:t?t.startsWith("/")?t:bw(t,e):e,search:Cw(s),hash:Iw(o)}}function bw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function lm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rp(n){let e=Sw(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function sp(n,e,t,s=!1){let o;typeof n=="string"?o=lo(n):(o={...n},at(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}d=T>=0?e[T]:"/"}let m=ww(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var Xi=n=>n.join("/").replace(/\/\/+/g,"/"),Rw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Cw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var k1=["POST","PUT","PATCH","DELETE"];new Set(k1);var Nw=["GET",...k1];new Set(Nw);var uo=Q.createContext(null);uo.displayName="DataRouter";var Nh=Q.createContext(null);Nh.displayName="DataRouterState";Q.createContext(!1);var L1=Q.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var Dw=Q.createContext(new Map);Dw.displayName="Fetchers";var Ow=Q.createContext(null);Ow.displayName="Await";var Qn=Q.createContext(null);Qn.displayName="Navigation";var nu=Q.createContext(null);nu.displayName="Location";var vi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var ap=Q.createContext(null);ap.displayName="RouteError";function Mw(n,{relative:e}={}){at(co(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Q.useContext(Qn),{hash:o,pathname:u,search:c}=iu(n,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Xi([t,u])),s.createHref({pathname:d,search:c,hash:o})}function co(){return Q.useContext(nu)!=null}function ir(){return at(co(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(nu).location}var U1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z1(n){Q.useContext(Qn).static||Q.useLayoutEffect(n)}function B1(){let{isDataRoute:n}=Q.useContext(vi);return n?Yw():Vw()}function Vw(){at(co(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(uo),{basename:e,navigator:t}=Q.useContext(Qn),{matches:s}=Q.useContext(vi),{pathname:o}=ir(),u=JSON.stringify(rp(s)),c=Q.useRef(!1);return z1(()=>{c.current=!0}),Q.useCallback((m,g={})=>{if(Gn(c.current,U1),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=sp(m,JSON.parse(u),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Xi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,n])}Q.createContext(null);function iu(n,{relative:e}={}){let{matches:t}=Q.useContext(vi),{pathname:s}=ir(),o=JSON.stringify(rp(t));return Q.useMemo(()=>sp(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function Pw(n,e){return j1(n,e)}function j1(n,e,t,s,o){at(co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Q.useContext(Qn),{matches:c}=Q.useContext(vi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let K=T&&T.path||"";q1(g,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=ir(),R;if(e){let K=typeof e=="string"?lo(e):e;at(_==="/"||K.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),R=K}else R=A;let x=R.pathname||"/",L=x;if(_!=="/"){let K=_.replace(/^\//,"").split("/");L="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let O=M1(n,{pathname:L});Gn(T||O!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Gn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Bw(O&&O.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:Xi([_,u.encodeLocation?u.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:Xi([_,u.encodeLocation?u.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,t,s,o);return e&&j?Q.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},j):j}function kw(){let n=Gw(),e=xw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,c)}var Lw=Q.createElement(kw,null),Uw=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(vi.Provider,{value:this.props.routeContext},Q.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zw({routeContext:n,match:e,children:t}){let s=Q.useContext(uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(vi.Provider,{value:n},t)}function Bw(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,c=t?.errors;if(c!=null){let g=u.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);at(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:T,errors:A}=t,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||R){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let A,R=!1,x=null,L=null;t&&(A=c&&_.route.id?c[_.route.id]:void 0,x=_.route.errorElement||Lw,d&&(m<0&&T===0?(q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===T&&(R=!0,L=_.route.hydrateFallbackElement||null)));let O=e.concat(u.slice(0,T+1)),j=()=>{let K;return A?K=x:R?K=L:_.route.Component?K=Q.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=g,Q.createElement(zw,{match:_,routeContext:{outlet:g,matches:O,isDataRoute:t!=null},children:K})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?Q.createElement(Uw,{location:t.location,revalidation:t.revalidation,component:x,error:A,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:s}):j()},null)}function op(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(n){let e=Q.useContext(uo);return at(e,op(n)),e}function qw(n){let e=Q.useContext(Nh);return at(e,op(n)),e}function Fw(n){let e=Q.useContext(vi);return at(e,op(n)),e}function lp(n){let e=Fw(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Hw(){return lp("useRouteId")}function Gw(){let n=Q.useContext(ap),e=qw("useRouteError"),t=lp("useRouteError");return n!==void 0?n:e.errors?.[t]}function Yw(){let{router:n}=jw("useNavigate"),e=lp("useNavigate"),t=Q.useRef(!1);return z1(()=>{t.current=!0}),Q.useCallback(async(o,u={})=>{Gn(t.current,U1),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var I_={};function q1(n,e,t){!e&&!I_[n]&&(I_[n]=!0,Gn(!1,t))}Q.memo(Qw);function Qw({routes:n,future:e,state:t,unstable_onError:s}){return j1(n,void 0,t,s,e)}function Kw({to:n,replace:e,state:t,relative:s}){at(co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Qn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(vi),{pathname:c}=ir(),d=B1(),m=sp(n,rp(u),c,s==="path"),g=JSON.stringify(m);return Q.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function Dl(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $w({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=lo(t));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:A="default"}=t,R=Q.useMemo(()=>{let x=Zi(m,c);return x==null?null:{location:{pathname:x,search:g,hash:_,state:T,key:A},navigationType:s}},[c,m,g,_,T,A,s]);return Gn(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Q.createElement(Qn.Provider,{value:d},Q.createElement(nu.Provider,{children:e,value:R}))}function Xw({children:n,location:e}){return Pw(Im(n),e)}function Im(n,e=[]){let t=[];return Q.Children.forEach(n,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,Im(s.props.children,u));return}at(s.type===Dl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Im(s.props.children,u)),t.push(c)}),t}var Qc="get",Kc="application/x-www-form-urlencoded";function Dh(n){return n!=null&&typeof n.tagName=="string"}function Ww(n){return Dh(n)&&n.tagName.toLowerCase()==="button"}function Zw(n){return Dh(n)&&n.tagName.toLowerCase()==="form"}function Jw(n){return Dh(n)&&n.tagName.toLowerCase()==="input"}function eb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tb(n,e){return n.button===0&&(!e||e==="_self")&&!eb(n)}var Bc=null;function nb(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(n){return n!=null&&!ib.has(n)?(Gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):n}function rb(n,e){let t,s,o,u,c;if(Zw(n)){let d=n.getAttribute("action");s=d?Zi(d,e):null,t=n.getAttribute("method")||Qc,o=um(n.getAttribute("enctype"))||Kc,u=new FormData(n)}else if(Ww(n)||Jw(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?Zi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Qc,o=um(n.getAttribute("formenctype"))||um(d.getAttribute("enctype"))||Kc,u=new FormData(d,n),!nb()){let{name:g,type:_,value:T}=n;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Dh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qc,s=null,o=Kc,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function up(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sb(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Zi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function ab(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ob(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lb(n,e,t){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await ab(u,t);return c.links?c.links():[]}return[]}));return fb(s.flat(1).filter(ob).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x_(n,e,t,s,o,u){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ub(n,e,{includeHydrateFallback:t}={}){return cb(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cb(n){return[...new Set(n)]}function hb(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function fb(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(hb(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function F1(){let n=Q.useContext(uo);return up(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function db(){let n=Q.useContext(Nh);return up(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cp=Q.createContext(void 0);cp.displayName="FrameworkContext";function H1(){let n=Q.useContext(cp);return up(n,"You must render this element inside a <HydratedRouter> element"),n}function mb(n,e){let t=Q.useContext(cp),[s,o]=Q.useState(!1),[u,c]=Q.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,A=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let L=j=>{j.forEach(K=>{c(K.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return A.current&&O.observe(A.current),()=>{O.disconnect()}}},[n]),Q.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let R=()=>{o(!0)},x=()=>{o(!1),c(!1)};return t?n!=="intent"?[u,A,{}]:[u,A,{onFocus:Nl(d,R),onBlur:Nl(m,x),onMouseEnter:Nl(g,R),onMouseLeave:Nl(_,x),onTouchStart:Nl(T,R)}]:[!1,A,{}]}function Nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pb({page:n,...e}){let{router:t}=F1(),s=Q.useMemo(()=>M1(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?Q.createElement(yb,{page:n,matches:s,...e}):null}function gb(n){let{manifest:e,routeModules:t}=H1(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return lb(n,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,t]),s}function yb({page:n,matches:e,...t}){let s=ir(),{manifest:o,routeModules:u}=H1(),{basename:c}=F1(),{loaderData:d,matches:m}=db(),g=Q.useMemo(()=>x_(n,e,m,o,s,"data"),[n,e,m,o,s]),_=Q.useMemo(()=>x_(n,e,m,o,s,"assets"),[n,e,m,o,s]),T=Q.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let x=new Set,L=!1;if(e.forEach(j=>{let K=o.routes[j.route.id];!K||!K.hasLoader||(!g.some(X=>X.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||K.hasClientLoader?L=!0:x.add(j.route.id))}),x.size===0)return[];let O=sb(n,c,"data");return L&&x.size>0&&O.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[c,d,s,o,g,e,n,u]),A=Q.useMemo(()=>ub(_,o),[_,o]),R=gb(_);return Q.createElement(Q.Fragment,null,T.map(x=>Q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),A.map(x=>Q.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),R.map(({key:x,link:L})=>Q.createElement("link",{key:x,nonce:t.nonce,...L})))}function _b(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G1&&(window.__reactRouterVersion="7.9.1")}catch{}function vb({basename:n,children:e,window:t}){let s=Q.useRef();s.current==null&&(s.current=aw({window:t,v5Compat:!0}));let o=s.current,[u,c]=Q.useState({action:o.action,location:o.location}),d=Q.useCallback(m=>{Q.startTransition(()=>c(m))},[c]);return Q.useLayoutEffect(()=>o.listen(d),[o,d]),Q.createElement($w,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var Y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...A},R){let{basename:x}=Q.useContext(Qn),L=typeof g=="string"&&Y1.test(g),O,j=!1;if(typeof g=="string"&&L&&(O=g,G1))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),P=Zi(M.pathname,x);M.origin===C.origin&&P!=null?g=P+M.search+M.hash:j=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Mw(g,{relative:o}),[X,se,re]=mb(s,A),oe=wb(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:T});function D(C){e&&e(C),C.defaultPrevented||oe(C)}let S=Q.createElement("a",{...A,...re,href:O||K,onClick:j||u?e:D,ref:_b(R,se),target:m,"data-discover":!L&&t==="render"?"true":void 0});return X&&!L?Q.createElement(Q.Fragment,null,S,Q.createElement(pb,{page:K})):S});Yi.displayName="Link";var Eb=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...g},_){let T=iu(c,{relative:g.relative}),A=ir(),R=Q.useContext(Nh),{navigator:x,basename:L}=Q.useContext(Qn),O=R!=null&&Ib(T)&&d===!0,j=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,K=A.pathname,X=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(K=K.toLowerCase(),X=X?X.toLowerCase():null,j=j.toLowerCase()),X&&L&&(X=Zi(X,L)||X);const se=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let re=K===j||!o&&K.startsWith(j)&&K.charAt(se)==="/",oe=X!=null&&(X===j||!o&&X.startsWith(j)&&X.charAt(j.length)==="/"),D={isActive:re,isPending:oe,isTransitioning:O},S=re?e:void 0,C;typeof s=="function"?C=s(D):C=[s,re?"active":null,oe?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return Q.createElement(Yi,{...g,"aria-current":S,className:C,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(D):m)});Eb.displayName="NavLink";var Tb=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=Qc,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...A},R)=>{let x=Rb(),L=Cb(d,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&Y1.test(d),K=X=>{if(m&&m(X),X.defaultPrevented)return;X.preventDefault();let se=X.nativeEvent.submitter,re=se?.getAttribute("formmethod")||c;x(se||X.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return Q.createElement("form",{ref:R,method:O,action:L,onSubmit:s?m:K,...A,"data-discover":!j&&n==="render"?"true":void 0})});Tb.displayName="Form";function Ab(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(n){let e=Q.useContext(uo);return at(e,Ab(n)),e}function wb(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=B1(),m=ir(),g=iu(n,{relative:u});return Q.useCallback(_=>{if(tb(_,e)){_.preventDefault();let T=t!==void 0?t:Gl(m)===Gl(g);d(n,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[m,d,g,t,s,e,n,o,u,c])}var bb=0,Sb=()=>`__${String(++bb)}__`;function Rb(){let{router:n}=Q1("useSubmit"),{basename:e}=Q.useContext(Qn),t=Hw();return Q.useCallback(async(s,o={})=>{let{action:u,method:c,encType:d,formData:m,body:g}=rb(s,e);if(o.navigate===!1){let _=o.fetcherKey||Sb();await n.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Cb(n,{relative:e}={}){let{basename:t}=Q.useContext(Qn),s=Q.useContext(vi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(n||".",{relative:e})},c=ir();if(n==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Xi([t,u.pathname])),Gl(u)}function Ib(n,{relative:e}={}){let t=Q.useContext(L1);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q1("useViewTransitionState"),o=iu(n,{relative:e});if(!t.isTransitioning)return!1;let u=Zi(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Zi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return sh(o.pathname,c)!=null||sh(o.pathname,u)!=null}var K1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N_=js.createContext&&js.createContext(K1),xb=["attr","size","title"];function Nb(n,e){if(n==null)return{};var t=Db(n,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Db(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function ah(){return ah=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ah.apply(this,arguments)}function D_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(t),!0).forEach(function(s){Ob(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D_(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Ob(n,e,t){return e=Mb(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mb(n){var e=Vb(n,"string");return typeof e=="symbol"?e:e+""}function Vb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $1(n){return n&&n.map((e,t)=>js.createElement(e.tag,oh({key:t},e.attr),$1(e.child)))}function hp(n){return e=>js.createElement(Pb,ah({attr:oh({},n.attr)},e),$1(n.child))}function Pb(n){var e=t=>{var{attr:s,size:o,title:u}=n,c=Nb(n,xb),d=o||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),js.createElement("svg",ah({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:m,style:oh(oh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&js.createElement("title",null,u),n.children)};return N_!==void 0?js.createElement(N_.Consumer,null,t=>e(t)):e(K1)}function kb(n){return hp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(n)}function Lb(n){return hp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(n)}const Ub=({currentPage:n,user:e})=>{const[t,s]=Q.useState(!1);return H.jsxs("nav",{className:"fixed left-1/2 top-4 transform -translate-x-1/2 z-50 w-full max-w-2xl px-2 ",children:[H.jsxs("div",{className:"flex items-center justify-between gap-6 bg-black/80 backdrop-blur-md border border-white/20 rounded-2xl px-6 py-3 shadow-lg",children:[H.jsxs(Yi,{to:"/",className:"flex items-center gap-2 text-white font-semibold text-lg hover:scale-105 transition-transform",children:[H.jsx(kb,{className:"w-6 h-6 text-cyan-400"}),H.jsx("span",{children:"My App"})]}),H.jsxs("ul",{className:"hidden md:flex items-center gap-6 font-light text-base",children:[H.jsx("li",{children:H.jsxs(Yi,{to:"/journal",className:`relative transition-colors duration-200 ${n==="journal"?"text-white font-semibold":"text-white/80 hover:text-white"} group`,children:["Journal",H.jsx("span",{className:`absolute left-0 -bottom-1 h-0.5 rounded bg-gradient-to-r from-cyan-400 to-fuchsia-500 transition-all duration-200 ${n==="journal"?"w-full":"w-0 group-hover:w-full"}`})]})}),H.jsx("li",{children:H.jsxs(Yi,{to:"/chatbot",className:`relative transition-colors duration-200 ${n==="chatbot"?"text-white font-semibold":"text-white/80 hover:text-white"} group`,children:["Chatbot",H.jsx("span",{className:`absolute left-0 -bottom-1 h-0.5 rounded bg-gradient-to-r from-cyan-400 to-fuchsia-500 transition-all duration-200 ${n==="chatbot"?"w-full":"w-0 group-hover:w-full"}`})]})}),H.jsx("li",{children:H.jsxs(Yi,{to:"/login",className:`relative transition-colors duration-200 ${n==="login"?"text-white font-semibold":"text-white/80 hover:text-white"} group`,children:[e?"Profile":"Login",H.jsx("span",{className:`absolute left-0 -bottom-1 h-0.5 rounded bg-gradient-to-r from-cyan-400 to-fuchsia-500 transition-all duration-200 ${n==="login"?"w-full":"w-0 group-hover:w-full"}`})]})})]}),H.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"hidden md:inline-block px-4 py-2 rounded-xl bg-gradient-to-r from-cyan-400 to-fuchsia-500 text-white font-medium transition hover:from-fuchsia-500 hover:to-cyan-400",children:"Visit Github"}),H.jsx("button",{className:"md:hidden text-white text-2xl",onClick:()=>s(!t),"aria-label":"Open menu",children:H.jsx(Lb,{})})]}),t&&H.jsxs("div",{className:"md:hidden mt-2 bg-black/90 backdrop-blur-md border border-white/20 rounded-2xl shadow-lg px-6 py-4 flex flex-col gap-4 animate-fade-in",children:[H.jsx(Yi,{to:"/journal",className:`transition-colors duration-200 ${n==="journal"?"text-white font-semibold":"text-white/80 hover:text-white"}`,onClick:()=>s(!1),children:"Journal"}),H.jsx(Yi,{to:"/chatbot",className:`transition-colors duration-200 ${n==="chatbot"?"text-white font-semibold":"text-white/80 hover:text-white"}`,onClick:()=>s(!1),children:"Chatbot"}),H.jsx(Yi,{to:"/login",className:`transition-colors duration-200 ${n==="login"?"text-white font-semibold":"text-white/80 hover:text-white"}`,onClick:()=>s(!1),children:e?"Profile":"Login"}),H.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-xl bg-gradient-to-r from-cyan-400 to-fuchsia-500 text-white font-medium transition hover:from-fuchsia-500 hover:to-cyan-400",children:"Visit Github"})]})]})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),O_=n=>{const e=Bb(n);return e.charAt(0).toUpperCase()+e.slice(1)},X1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),jb=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...d},m)=>Q.createElement("svg",{ref:m,...qb,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:X1("lucide",o),...!u&&!jb(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>Q.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=(n,e)=>{const t=Q.forwardRef(({className:s,...o},u)=>Q.createElement(Fb,{ref:u,iconNode:e,className:X1(`lucide-${zb(O_(n))}`,`lucide-${n}`,s),...o}));return t.displayName=O_(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],M_=fp("bot",Hb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],V_=fp("message-circle",Gb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qb=fp("user",Yb),Kb=({user:n})=>{const[e,t]=Q.useState(""),[s,o]=Q.useState([]),[u,c]=Q.useState(!1),d=n?.email||"guest",m=async()=>{if(!e.trim())return;const g={sender:"user",text:e};o(_=>[..._,g]),c(!0);try{const _=new FormData;_.append("msg",e),_.append("username",d),_.append("mode","friend");const R=(await(await fetch("http://localhost:8080/get",{method:"POST",body:_})).json()).response;o(x=>[...x,{sender:"bot",text:R}])}catch(_){console.error("Chat error:",_),o(T=>[...T,{sender:"bot",text:"⚠️ Error connecting to chatbot."}])}c(!1),t("")};return H.jsx("div",{className:"min-h-screen bg-gray-950 p-4",children:H.jsxs("div",{className:"flex flex-col max-w-2xl mx-auto mt-8 bg-gray-900 rounded-2xl shadow-2xl overflow-hidden h-[90vh] border border-gray-800",children:[H.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:H.jsx(V_,{className:"w-6 h-6"})}),H.jsxs("div",{children:[H.jsx("h2",{className:"text-xl font-bold",children:"AI Assistant"}),H.jsx("p",{className:"text-blue-100 text-sm",children:"Always here to help"})]})]})}),H.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-b from-gray-800 to-gray-900",children:[s.length===0&&H.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:H.jsxs("div",{className:"text-center",children:[H.jsx(V_,{className:"w-12 h-12 mx-auto mb-4 text-gray-600"}),H.jsx("p",{className:"text-lg font-medium",children:"Start a conversation"}),H.jsx("p",{className:"text-sm",children:"Send a message to get started!"})]})}),H.jsxs("div",{className:"space-y-4",children:[s.map((g,_)=>H.jsxs("div",{className:`flex items-start gap-3 ${g.sender==="user"?"flex-row-reverse":""}`,children:[H.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${g.sender==="user"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300"}`,children:g.sender==="user"?H.jsx(Qb,{className:"w-4 h-4"}):H.jsx(M_,{className:"w-4 h-4"})}),H.jsx("div",{className:`max-w-[75%] px-4 py-3 rounded-2xl shadow-sm ${g.sender==="user"?"bg-blue-500 text-white rounded-tr-sm":"bg-gray-700 text-gray-100 border border-gray-600 rounded-tl-sm"}`,children:H.jsx("p",{className:"text-sm leading-relaxed",children:g.text})})]},_)),u&&H.jsxs("div",{className:"flex items-start gap-3",children:[H.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-700 text-gray-300 rounded-full flex items-center justify-center",children:H.jsx(M_,{className:"w-4 h-4"})}),H.jsx("div",{className:"bg-gray-700 border border-gray-600 px-4 py-3 rounded-2xl rounded-tl-sm shadow-sm",children:H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsxs("div",{className:"flex space-x-1",children:[H.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),H.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),H.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),H.jsx("span",{className:"text-sm text-gray-300 ml-2",children:"AI is thinking..."})]})})]})]})]}),H.jsxs("div",{className:"p-6 bg-gray-900 border-t border-gray-700",children:[H.jsxs("div",{className:"flex items-center gap-3 bg-gray-800 rounded-2xl p-2",children:[H.jsx("input",{className:"flex-1 bg-transparent border-none outline-none px-4 py-3 text-gray-100 placeholder-gray-400",value:e,onChange:g=>t(g.target.value),placeholder:"Type your message...",onKeyDown:g=>g.key==="Enter"&&m()}),H.jsx("button",{onClick:m,disabled:!e.trim()||u,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:"➤"})]}),H.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Press Enter to send • Connected as ",d]})]})]})})},$b=()=>{};var P_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Xb=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],c=n[t++],d=n[t++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(A=64)),s.push(t[_],t[T],t[A],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(W1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Xb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new Wb;const A=u<<2|d>>4;if(s.push(A),g!==64){const R=d<<4&240|g>>2;if(s.push(R),T!==64){const x=g<<6&192|T;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zb=function(n){const e=W1(n);return Z1.encodeByteArray(e,!0)},lh=function(n){return Zb(n).replace(/\./g,"")},J1=function(n){try{return Z1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>Jb().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof P_>"u")return;const n=P_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J1(n[1]);return e&&JSON.parse(e)},Oh=()=>{try{return $b()||eS()||tS()||nS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eE=n=>Oh()?.emulatorHosts?.[n],iS=n=>{const e=eE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},tE=()=>Oh()?.config,nE=n=>Oh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[lh(JSON.stringify(t)),lh(JSON.stringify(c)),""].join(".")}const Ul={};function aS(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?n.emulator.push(e):n.prod.push(e);return n}function oS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let k_=!1;function rE(n,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Ul[n]===e||Ul[n]||k_)return;Ul[n]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=aS().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{k_=!0,c()},A}function _(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=oS(s),R=t("text"),x=document.getElementById(R)||document.createElement("span"),L=t("learnmore"),O=document.getElementById(L)||document.createElement("a"),j=t("preprendIcon"),K=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;d(X),_(O,L);const se=g();m(K,j),X.append(K,x,O,se),document.body.appendChild(X)}u?(x.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function uS(){const n=Oh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FirebaseError";class rr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=yS,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?_S(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new rr(o,d,s)}}function _S(n,e){return n.replace(vS,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vS=/\{\$([^}]+)}/g;function ES(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hs(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=n[o],c=e[o];if(L_(u)&&L_(c)){if(!Hs(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ol(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function TS(n,e){const t=new AS(n,e);return t.subscribe.bind(t)}class AS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class Gs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new rS;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RS(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(n){return n===Us?void 0:n}function RS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const IS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},xS=Me.INFO,NS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},DS=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=NS[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=xS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const OS=(n,e)=>e.some(t=>n instanceof t);let U_,z_;function MS(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,xm=new WeakMap,aE=new WeakMap,hm=new WeakMap,mp=new WeakMap;function PS(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(qr(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sE.set(t,n)}).catch(()=>{}),mp.set(e,n),e}function kS(n){if(xm.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});xm.set(n,e)}let Nm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LS(n){Nm=n(Nm)}function US(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(fm(this),e,...t);return aE.set(s,e.sort?e.sort():[e]),qr(s)}:VS().includes(n)?function(...e){return n.apply(fm(this),e),qr(sE.get(this))}:function(...e){return qr(n.apply(fm(this),e))}}function zS(n){return typeof n=="function"?US(n):(n instanceof IDBTransaction&&kS(n),OS(n,MS())?new Proxy(n,Nm):n)}function qr(n){if(n instanceof IDBRequest)return PS(n);if(hm.has(n))return hm.get(n);const e=zS(n);return e!==n&&(hm.set(n,e),mp.set(e,n)),e}const fm=n=>mp.get(n);function BS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,e),d=qr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(qr(c.result),m.oldVersion,m.newVersion,qr(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],dm=new Map;function B_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=qS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jS.includes(t)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return dm.set(e,u),u}LS(n=>({...n,get:(e,t,s)=>B_(e,t)||n.get(e,t,s),has:(e,t)=>!!B_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function HS(n){return n.getComponent()?.type==="VERSION"}const Dm="@firebase/app",j_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new dp("@firebase/app"),GS="@firebase/app-compat",YS="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",$S="@firebase/app-check",XS="@firebase/auth",WS="@firebase/auth-compat",ZS="@firebase/database",JS="@firebase/data-connect",eR="@firebase/database-compat",tR="@firebase/functions",nR="@firebase/functions-compat",iR="@firebase/installations",rR="@firebase/installations-compat",sR="@firebase/messaging",aR="@firebase/messaging-compat",oR="@firebase/performance",lR="@firebase/performance-compat",uR="@firebase/remote-config",cR="@firebase/remote-config-compat",hR="@firebase/storage",fR="@firebase/storage-compat",dR="@firebase/firestore",mR="@firebase/ai",pR="@firebase/firestore-compat",gR="firebase",yR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",_R={[Dm]:"fire-core",[GS]:"fire-core-compat",[QS]:"fire-analytics",[YS]:"fire-analytics-compat",[$S]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[WS]:"fire-auth-compat",[ZS]:"fire-rtdb",[JS]:"fire-data-connect",[eR]:"fire-rtdb-compat",[tR]:"fire-fn",[nR]:"fire-fn-compat",[iR]:"fire-iid",[rR]:"fire-iid-compat",[sR]:"fire-fcm",[aR]:"fire-fcm-compat",[oR]:"fire-perf",[lR]:"fire-perf-compat",[uR]:"fire-rc",[cR]:"fire-rc-compat",[hR]:"fire-gcs",[fR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[mR]:"fire-vertex","fire-js":"fire-js",[gR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,vR=new Map,Mm=new Map;function q_(n,e){try{n.container.addComponent(e)}catch(t){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function to(n){const e=n.name;if(Mm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,n);for(const t of uh.values())q_(t,n);for(const t of vR.values())q_(t,n);return!0}function pp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new ru("app","Firebase",ER);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=yR;function oE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Om,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=tE()),!t)throw Fr.create("no-options");const u=uh.get(o);if(u){if(Hs(t,u.options)&&Hs(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const c=new CS(o);for(const m of Mm.values())c.addComponent(m);const d=new TR(t,s,c);return uh.set(o,d),d}function lE(n=Om){const e=uh.get(n);if(!e&&n===Om&&tE())return oE();if(!e)throw Fr.create("no-app",{appName:n});return e}function Hr(n,e,t){let s=_R[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(c.join(" "));return}to(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-heartbeat-database",wR=1,Yl="firebase-heartbeat-store";let mm=null;function uE(){return mm||(mm=BS(AR,wR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),mm}async function bR(n){try{const t=(await uE()).transaction(Yl),s=await t.objectStore(Yl).get(cE(n));return await t.done,s}catch(e){if(e instanceof rr)Ji.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(t.message)}}}async function F_(n,e){try{const s=(await uE()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,cE(n)),await s.done}catch(t){if(t instanceof rr)Ji.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t?.message});Ji.warn(s.message)}}}function cE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,RR=30;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>RR){const o=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=H_(),{heartbeatsToSend:t,unsentEntries:s}=IR(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function H_(){return new Date().toISOString().substring(0,10)}function IR(n,e=SR){const t=[];let s=n.slice();for(const o of n){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),G_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),G_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function G_(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}function NR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){to(new Gs("platform-logger",e=>new FS(e),"PRIVATE")),to(new Gs("heartbeat",e=>new CR(e),"PRIVATE")),Hr(Dm,j_,n),Hr(Dm,j_,"esm2020"),Hr("fire-js","")}DR("");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=hE,fE=new ru("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new dp("@firebase/auth");function MR(n,...e){ch.logLevel<=Me.WARN&&ch.warn(`Auth (${fo}): ${n}`,...e)}function $c(n,...e){ch.logLevel<=Me.ERROR&&ch.error(`Auth (${fo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(n,...e){throw yp(n,...e)}function Hn(n,...e){return yp(n,...e)}function gp(n,e,t){const s={...OR(),[e]:t};return new ru("auth","Firebase",s).create(e,{appName:n.name})}function Wi(n){return gp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Pn(n,"argument-error"),gp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return fE.create(n,...e)}function Te(n,e,...t){if(!n)throw yp(e,...t)}function Ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $c(e),new Error(e)}function er(n,e){n||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){return typeof self<"u"&&self.location?.href||""}function PR(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||hS()||"connection"in navigator)?navigator.onLine:!0}function LR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.shortDelay=e,this.longDelay=t,er(t>e,"Short delay should be less than long delay!"),this.isMobile=lS()||fS()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,e){er(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BR=new au(3e4,6e4);function sr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ar(n,e,t,s,o={}){return mE(n,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=su({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...u};return cS()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ho(n.emulatorConfig.host)&&(g.credentials="include"),dE.fetch()(await pE(n,n.config.apiHost,t,d),g)})}async function mE(n,e,t){n._canInitEmulator=!1;const s={...UR,...e};try{const o=new qR(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw jc(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw jc(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw jc(n,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gp(n,_,g);Pn(n,_)}}catch(o){if(o instanceof rr)throw o;Pn(n,"network-request-failed",{message:String(o)})}}async function ou(n,e,t,s,o={}){const u=await ar(n,e,t,s,o);return"mfaPendingCredential"in u&&Pn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function pE(n,e,t,s){const o=`${e}${t}?${s}`,u=n,c=u.config.emulator?_p(n.config,o):`${n.config.apiScheme}://${o}`;return zR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function jR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Hn(this.auth,"network-request-failed")),BR.get())})}}function jc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Hn(n,e,s);return o.customData._tokenResponse=t,o}function Q_(n){return n!==void 0&&n.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HR(n,e){return ar(n,"GET","/v2/recaptchaConfig",sr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,e){return ar(n,"POST","/v1/accounts:delete",e)}async function hh(n,e){return ar(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(n,e=!1){const t=Nt(n),s=await t.getIdToken(e),o=vp(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:zl(pm(o.auth_time)),issuedAtTime:zl(pm(o.iat)),expirationTime:zl(pm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pm(n){return Number(n)*1e3}function vp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=J1(t);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function K_(n){const e=vp(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof rr&&QR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function QR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(n){const e=n.auth,t=await n.getIdToken(),s=await Ql(n,hh(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?gE(o.providerUserInfo):[],c=XR(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function $R(n){const e=Nt(n);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function gE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){const t=await mE(n,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await pE(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&ho(n.emulatorConfig.host)&&(m.credentials="include"),dE.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZR(n,e){return ar(n,"POST","/v2/accounts:revokeToken",sr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=K_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await WR(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new Xa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new KR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Ql(this,GR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:R,providerData:x,stsTokenManager:L}=t;Te(T&&L,e,"internal-error");const O=Xa.fromJSON(this.name,L);Te(typeof T=="string",e,"internal-error"),Lr(s,e.name),Lr(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof R=="boolean",e,"internal-error"),Lr(u,e.name),Lr(c,e.name),Lr(d,e.name),Lr(m,e.name),Lr(g,e.name),Lr(_,e.name);const j=new qn({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:O,createdAt:g,lastLoginAt:_});return x&&Array.isArray(x)&&(j.providerData=x.map(K=>({...K}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,t,s=!1){const o=new Xa;o.updateFromServerResponse(t);const u=new qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Xa;d.updateFromIdToken(s);const m=new qn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;function $i(n){er(n instanceof Function,"Expected a class definition");let e=$_.get(n);return e?(er(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yE.type="NONE";const X_=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n,e,t){return`firebase:${n}:${e}:${t}`}class Wa{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hh(this.auth,{idToken:e}).catch(()=>{});return t?qn._fromGetAccountInfoResponse(this.auth,t,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wa($i(X_),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$i(X_);const c=Xc(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const A=await hh(e,{idToken:_}).catch(()=>{});if(!A)break;T=await qn._fromGetAccountInfoResponse(e,A,_)}else T=qn._fromJSON(e,_);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Wa(u,e,s):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(bE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||EE(e))&&!e.includes("edge/"))return"Chrome";if(AE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function _E(n=Zt()){return/firefox\//i.test(n)}function vE(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EE(n=Zt()){return/crios\//i.test(n)}function TE(n=Zt()){return/iemobile/i.test(n)}function AE(n=Zt()){return/android/i.test(n)}function wE(n=Zt()){return/blackberry/i.test(n)}function bE(n=Zt()){return/webos/i.test(n)}function Ep(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JR(n=Zt()){return Ep(n)&&!!window.navigator?.standalone}function eC(){return dS()&&document.documentMode===10}function SE(n=Zt()){return Ep(n)||AE(n)||bE(n)||wE(n)||/windows phone/i.test(n)||TE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n,e=[]){let t;switch(n){case"Browser":t=W_(Zt());break;case"Worker":t=`${W_(Zt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,d)=>{try{const m=e(u);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e={}){return ar(n,"GET","/v2/passwordPolicy",sr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=6;class rC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hh(this,{idToken:e}),s=await qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Wi(this));const t=e?Nt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nC(this),t=new rC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function or(n){return Nt(n)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=TS(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(n){Mh=n}function CE(n){return Mh.loadJS(n)}function oC(){return Mh.recaptchaEnterpriseScript}function lC(){return Mh.gapiScript}function uC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cC{constructor(){this.enterprise=new hC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fC="recaptcha-enterprise",IE="NO_RECAPTCHA";class dC{constructor(e){this.type=fC,this.auth=or(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{HR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new FR(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,c,d){const m=window.grecaptcha;Q_(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(IE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cC().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!t&&Q_(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=oC();m.length!==0&&(m+=d),CE(m).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function J_(n,e,t,s=!1,o=!1){const u=new dC(n);let c;if(o)c=IE;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function dh(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J_(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await J_(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n,e){const t=pp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Hs(u,e??{}))return o;Pn(o,"already-initialized")}return t.initialize({options:e})}function pC(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map($i);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function gC(n,e,t){const s=or(n);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=xE(e),{host:c,port:d}=yC(e),m=d===null?"":`:${d}`,g={url:`${u}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Hs(g,s.config.emulator)&&Hs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ho(c)?(iE(`${u}//${c}${m}`),rE("Auth",!0)):_C()}function xE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yC(n){const e=xE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ev(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:ev(c)}}}function ev(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _C(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,t){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function vC(n,e){return ar(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(n,e){return ou(n,"POST","/v1/accounts:signInWithPassword",sr(n,e))}async function TC(n,e){return ar(n,"POST","/v1/accounts:sendOobCode",sr(n,e))}async function AC(n,e){return TC(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e){return ou(n,"POST","/v1/accounts:signInWithEmailLink",sr(n,e))}async function bC(n,e){return ou(n,"POST","/v1/accounts:signInWithEmailLink",sr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Tp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Kl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Kl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,t,"signInWithPassword",EC);case"emailLink":return wC(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",vC);case"emailLink":return bC(e,{idToken:t,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(n,e){return ou(n,"POST","/v1/accounts:signInWithIdp",sr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="http://localhost";class Ys extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new Ys(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Za(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Za(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}buildRequest(){const e={requestUri:SC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CC(n){const e=Ol(Ml(n)).link,t=e?Ol(Ml(e)).deep_link_id:null,s=Ol(Ml(n)).deep_link_id;return(s?Ol(Ml(s)).link:null)||s||t||e||n}class Ap{constructor(e){const t=Ol(Ml(e)),s=t.apiKey??null,o=t.oobCode??null,u=RC(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=CC(e);try{return new Ap(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,t){return Kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ap.parseLink(t);return Te(s,"argument-error"),Kl._fromEmailAndCode(e,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends wp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends lu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Qi.credential(t,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends lu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends lu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Br.credential(t,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(n,e){return ou(n,"POST","/v1/accounts:signUp",sr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await qn._fromIdTokenResponse(e,s,o),c=tv(s);return new Qs({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=tv(s);return new Qs({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function tv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends rr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new mh(e,t,s,o)}}function NE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,u,e,s):u})}async function xC(n,e,t=!1){const s=await Ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qs._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,e,t=!1){const{auth:s}=n;if(_n(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await Ql(n,NE(s,o,e,n),t);Te(u.idToken,s,"internal-error");const c=vp(u.idToken);Te(c,s,"internal-error");const{sub:d}=c;return Te(n.uid===d,s,"user-mismatch"),Qs._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n,e,t=!1){if(_n(n.app))return Promise.reject(Wi(n));const s="signIn",o=await NE(n,s,e),u=await Qs._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(u.user),u}async function DC(n,e){return DE(or(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(n){const e=or(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OC(n,e,t){const s=or(n);await dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",AC)}async function MC(n,e,t){if(_n(n.app))return Promise.reject(Wi(n));const s=or(n),c=await dh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&OE(n),m}),d=await Qs._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function VC(n,e,t){return _n(n.app)?Promise.reject(Wi(n)):DC(Nt(n),mo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OE(n),s})}function PC(n,e,t,s){return Nt(n).onIdTokenChanged(e,t,s)}function kC(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function LC(n,e,t,s){return Nt(n).onAuthStateChanged(e,t,s)}function UC(n){return Nt(n).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1e3,BC=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);eC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const jC=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PE.type="SESSION";const kE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,u)),m=await qC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const g=bp("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function HC(n){fi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function GC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YC(){return navigator?.serviceWorker?.controller||null}function QC(){return LE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",KC=1,gh="firebaseLocalStorage",zE="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(n,e){return n.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function $C(){const n=indexedDB.deleteDatabase(UE);return new uu(n).toPromise()}function km(){const n=indexedDB.open(UE,KC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(gh,{keyPath:zE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await $C(),e(await km()))})})}async function nv(n,e,t){const s=Ph(n,!0).put({[zE]:e,value:t});return new uu(s).toPromise()}async function XC(n,e){const t=Ph(n,!1).get(e),s=await new uu(t).toPromise();return s===void 0?null:s.value}function iv(n,e){const t=Ph(n,!0).delete(e);return new uu(t).toPromise()}const WC=800,ZC=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>ZC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(QC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new FC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await nv(e,ph,"1"),await iv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>nv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const JC=BE;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e){return e?$i(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Za(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eI(n){return DE(n.auth,new Sp(n),n.bypassAuthState)}function tI(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),NC(t,new Sp(n),n.bypassAuthState)}async function nI(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),xC(t,new Sp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return nI;case"reauthViaPopup":case"reauthViaRedirect":return tI;default:Pn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new au(2e3,1e4);async function rI(n,e,t){if(_n(n.app))return Promise.reject(Hn(n,"operation-not-supported-in-this-environment"));const s=or(n);VR(n,e,wp);const o=jE(s,t);return new zs(s,"signInViaPopup",e,o).executeNotNull()}class zs extends qE{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iI.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="pendingRedirect",Wc=new Map;class aI extends qE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await oI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oI(n,e){const t=cI(e),s=uI(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function lI(n,e){Wc.set(n._key(),e)}function uI(n){return $i(n._redirectPersistence)}function cI(n){return Xc(sI,n.config.apiKey,n.name)}async function hI(n,e,t=!1){if(_n(n.app))return Promise.reject(Wi(n));const s=or(n),o=jE(s,e),c=await new aI(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=600*1e3;class dI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!FE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Hn(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fI&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(e))}saveEventToCache(e){this.cachedEventUids.add(rv(e)),this.lastProcessedEventTime=Date.now()}}function rv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function mI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(n,e={}){return ar(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yI=/^https?/;async function _I(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pI(n);for(const t of e)try{if(vI(t))return}catch{}Pn(n,"unauthorized-domain")}function vI(n){const e=Vm(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!yI.test(t))return!1;if(gI.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new au(3e4,6e4);function sv(){const n=fi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function TI(n){return new Promise((e,t)=>{function s(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),t(Hn(n,"network-request-failed"))},timeout:EI.get()})}if(fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fi().gapi?.load)s();else{const o=uC("iframefcb");return fi()[o]=()=>{gapi.load?s():t(Hn(n,"network-request-failed"))},CE(`${lC()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function AI(n){return Zc=Zc||TI(n),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new au(5e3,15e3),bI="__/auth/iframe",SI="emulator/auth/iframe",RI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function II(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_p(e,SI):`https://${n.config.authDomain}/${bI}`,s={apiKey:e.apiKey,appName:n.name,v:fo},o=CI.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${su(s).slice(1)}`}async function xI(n){const e=await AI(n),t=fi().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:II(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Hn(n,"network-request-failed"),d=fi().setTimeout(()=>{u(c)},wI.get());function m(){fi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DI=500,OI=600,MI="_blank",VI="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PI(n,e,t,s=DI,o=OI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...NI,width:s.toString(),height:o.toString(),top:u,left:c},g=Zt().toLowerCase();t&&(d=EE(g)?MI:t),_E(g)&&(e=e||VI,m.scrollbars="yes");const _=Object.entries(m).reduce((A,[R,x])=>`${A}${R}=${x},`,"");if(JR(g)&&d!=="_self")return kI(e||"",d),new av(null);const T=window.open(e||"",d,_);Te(T,n,"popup-blocked");try{T.focus()}catch{}return new av(T)}function kI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="__/auth/handler",UI="emulator/auth/handler",zI=encodeURIComponent("fac");async function ov(n,e,t,s,o,u){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:fo,eventId:o};if(e instanceof wp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ES(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof lu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${zI}=${encodeURIComponent(m)}`:"";return`${BI(n)}?${su(d).slice(1)}${g}`}function BI({config:n}){return n.emulator?_p(n,UI):`https://${n.authDomain}/${LI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class jI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=hI,this._overrideRedirectResult=lI}async _openPopup(e,t,s,o){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ov(e,t,s,Vm(),o);return PI(e,u,bp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await ov(e,t,s,Vm(),o);return HC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await xI(e),s=new dI(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&t(!!u),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_I(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SE()||vE()||Ep()}}const qI=jI;var lv="@firebase/auth",uv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GI(n){to(new Gs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(n)},g=new sC(s,o,u,m);return pC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),to(new Gs("auth-internal",e=>{const t=or(e.getProvider("auth").getImmediate());return(s=>new FI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(lv,uv,HI(n)),Hr(lv,uv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=300,QI=nE("authIdTokenMaxAge")||YI;let cv=null;const KI=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>QI)return;const o=t?.token;cv!==o&&(cv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $I(n=lE()){const e=pp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mC(n,{popupRedirectResolver:qI,persistence:[JC,jC,kE]}),s=nE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=KI(u.toString());kC(t,c,()=>c(t.currentUser)),PC(t,d=>c(d))}}const o=eE("auth");return o&&gC(t,`http://${o}`),t}function XI(){return document.getElementsByTagName("head")?.[0]??document}aC({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const u=Hn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",XI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GI("Browser");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,HE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.D=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(M,P,U){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return S.prototype[P].apply(M,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);var M=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)M[P]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(P=0;16>P;++P)M[P]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],P=D.g[2];var U=D.g[3],I=S+(U^C&(P^U))+M[0]+3614090360&4294967295;S=C+(I<<7&4294967295|I>>>25),I=U+(P^S&(C^P))+M[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=P+(C^U&(S^C))+M[2]+606105819&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(S^P&(U^S))+M[3]+3250441966&4294967295,C=P+(I<<22&4294967295|I>>>10),I=S+(U^C&(P^U))+M[4]+4118548399&4294967295,S=C+(I<<7&4294967295|I>>>25),I=U+(P^S&(C^P))+M[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=P+(C^U&(S^C))+M[6]+2821735955&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(S^P&(U^S))+M[7]+4249261313&4294967295,C=P+(I<<22&4294967295|I>>>10),I=S+(U^C&(P^U))+M[8]+1770035416&4294967295,S=C+(I<<7&4294967295|I>>>25),I=U+(P^S&(C^P))+M[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=P+(C^U&(S^C))+M[10]+4294925233&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(S^P&(U^S))+M[11]+2304563134&4294967295,C=P+(I<<22&4294967295|I>>>10),I=S+(U^C&(P^U))+M[12]+1804603682&4294967295,S=C+(I<<7&4294967295|I>>>25),I=U+(P^S&(C^P))+M[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=P+(C^U&(S^C))+M[14]+2792965006&4294967295,P=U+(I<<17&4294967295|I>>>15),I=C+(S^P&(U^S))+M[15]+1236535329&4294967295,C=P+(I<<22&4294967295|I>>>10),I=S+(P^U&(C^P))+M[1]+4129170786&4294967295,S=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(S^C))+M[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=P+(S^C&(U^S))+M[11]+643717713&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^S&(P^U))+M[0]+3921069994&4294967295,C=P+(I<<20&4294967295|I>>>12),I=S+(P^U&(C^P))+M[5]+3593408605&4294967295,S=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(S^C))+M[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=P+(S^C&(U^S))+M[15]+3634488961&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^S&(P^U))+M[4]+3889429448&4294967295,C=P+(I<<20&4294967295|I>>>12),I=S+(P^U&(C^P))+M[9]+568446438&4294967295,S=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(S^C))+M[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=P+(S^C&(U^S))+M[3]+4107603335&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^S&(P^U))+M[8]+1163531501&4294967295,C=P+(I<<20&4294967295|I>>>12),I=S+(P^U&(C^P))+M[13]+2850285829&4294967295,S=C+(I<<5&4294967295|I>>>27),I=U+(C^P&(S^C))+M[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=P+(S^C&(U^S))+M[7]+1735328473&4294967295,P=U+(I<<14&4294967295|I>>>18),I=C+(U^S&(P^U))+M[12]+2368359562&4294967295,C=P+(I<<20&4294967295|I>>>12),I=S+(C^P^U)+M[5]+4294588738&4294967295,S=C+(I<<4&4294967295|I>>>28),I=U+(S^C^P)+M[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=P+(U^S^C)+M[11]+1839030562&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^S)+M[14]+4259657740&4294967295,C=P+(I<<23&4294967295|I>>>9),I=S+(C^P^U)+M[1]+2763975236&4294967295,S=C+(I<<4&4294967295|I>>>28),I=U+(S^C^P)+M[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=P+(U^S^C)+M[7]+4139469664&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^S)+M[10]+3200236656&4294967295,C=P+(I<<23&4294967295|I>>>9),I=S+(C^P^U)+M[13]+681279174&4294967295,S=C+(I<<4&4294967295|I>>>28),I=U+(S^C^P)+M[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=P+(U^S^C)+M[3]+3572445317&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^S)+M[6]+76029189&4294967295,C=P+(I<<23&4294967295|I>>>9),I=S+(C^P^U)+M[9]+3654602809&4294967295,S=C+(I<<4&4294967295|I>>>28),I=U+(S^C^P)+M[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=P+(U^S^C)+M[15]+530742520&4294967295,P=U+(I<<16&4294967295|I>>>16),I=C+(P^U^S)+M[2]+3299628645&4294967295,C=P+(I<<23&4294967295|I>>>9),I=S+(P^(C|~U))+M[0]+4096336452&4294967295,S=C+(I<<6&4294967295|I>>>26),I=U+(C^(S|~P))+M[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=P+(S^(U|~C))+M[14]+2878612391&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~S))+M[5]+4237533241&4294967295,C=P+(I<<21&4294967295|I>>>11),I=S+(P^(C|~U))+M[12]+1700485571&4294967295,S=C+(I<<6&4294967295|I>>>26),I=U+(C^(S|~P))+M[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=P+(S^(U|~C))+M[10]+4293915773&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~S))+M[1]+2240044497&4294967295,C=P+(I<<21&4294967295|I>>>11),I=S+(P^(C|~U))+M[8]+1873313359&4294967295,S=C+(I<<6&4294967295|I>>>26),I=U+(C^(S|~P))+M[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=P+(S^(U|~C))+M[6]+2734768916&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~S))+M[13]+1309151649&4294967295,C=P+(I<<21&4294967295|I>>>11),I=S+(P^(C|~U))+M[4]+4149444226&4294967295,S=C+(I<<6&4294967295|I>>>26),I=U+(C^(S|~P))+M[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=P+(S^(U|~C))+M[2]+718787259&4294967295,P=U+(I<<15&4294967295|I>>>17),I=C+(U^(P|~S))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var C=S-this.blockSize,M=this.B,P=this.h,U=0;U<S;){if(P==0)for(;U<=C;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<S;)if(M[P++]=D.charCodeAt(U++),P==this.blockSize){o(this,M),P=0;break}}else for(;U<S;)if(M[P++]=D[U++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var C=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=C&255,C/=256;for(this.u(D),D=Array(16),S=C=0;4>S;++S)for(var M=0;32>M;M+=8)D[C++]=this.g[S]>>>M&255;return D};function u(D,S){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function c(D,S){this.h=S;for(var C=[],M=!0,P=D.length-1;0<=P;P--){var U=D[P]|0;M&&U==S||(C[P]=U,M=!1)}this.g=C}var d={};function m(D){return-128<=D&&128>D?u(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return O(g(-D));for(var S=[],C=1,M=0;D>=C;M++)S[M]=D/C|0,C*=4294967296;return new c(S,0)}function _(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return O(_(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(S,8)),M=T,P=0;P<D.length;P+=8){var U=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+U),S);8>U?(U=g(Math.pow(S,U)),M=M.j(U).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var T=m(0),A=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(L(this))return-O(this).m();for(var D=0,S=1,C=0;C<this.g.length;C++){var M=this.i(C);D+=(0<=M?M:4294967296+M)*S,S*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(L(this))return"-"+O(this).toString(D);for(var S=g(Math.pow(D,6)),C=this,M="";;){var P=se(C,S).g;C=j(C,P.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=P,x(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function L(D){return D.h==-1}n.l=function(D){return D=j(this,D),L(D)?-1:x(D)?0:1};function O(D){for(var S=D.g.length,C=[],M=0;M<S;M++)C[M]=~D.g[M];return new c(C,~D.h).add(A)}n.abs=function(){return L(this)?O(this):this},n.add=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],M=0,P=0;P<=S;P++){var U=M+(this.i(P)&65535)+(D.i(P)&65535),I=(U>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);M=I>>>16,U&=65535,I&=65535,C[P]=I<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(D,S){return D.add(O(S))}n.j=function(D){if(x(this)||x(D))return T;if(L(this))return L(D)?O(this).j(O(D)):O(O(this).j(D));if(L(D))return O(this.j(O(D)));if(0>this.l(R)&&0>D.l(R))return g(this.m()*D.m());for(var S=this.g.length+D.g.length,C=[],M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<D.g.length;P++){var U=this.i(M)>>>16,I=this.i(M)&65535,pe=D.i(P)>>>16,qe=D.i(P)&65535;C[2*M+2*P]+=I*qe,K(C,2*M+2*P),C[2*M+2*P+1]+=U*qe,K(C,2*M+2*P+1),C[2*M+2*P+1]+=I*pe,K(C,2*M+2*P+1),C[2*M+2*P+2]+=U*pe,K(C,2*M+2*P+2)}for(M=0;M<S;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=S;M<2*S;M++)C[M]=0;return new c(C,0)};function K(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function X(D,S){this.g=D,this.h=S}function se(D,S){if(x(S))throw Error("division by zero");if(x(D))return new X(T,T);if(L(D))return S=se(O(D),S),new X(O(S.g),O(S.h));if(L(S))return S=se(D,O(S)),new X(O(S.g),S.h);if(30<D.g.length){if(L(D)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=S;0>=M.l(D);)C=re(C),M=re(M);var P=oe(C,1),U=oe(M,1);for(M=oe(M,2),C=oe(C,2);!x(M);){var I=U.add(M);0>=I.l(D)&&(P=P.add(C),U=I),M=oe(M,1),C=oe(C,1)}return S=j(D,P.j(S)),new X(P,S)}for(P=T;0<=D.l(S);){for(C=Math.max(1,Math.floor(D.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(C),I=U.j(S);L(I)||0<I.l(D);)C-=M,U=g(C),I=U.j(S);x(U)&&(U=A),P=P.add(U),D=j(D,I)}return new X(P,D)}n.A=function(D){return se(this,D).h},n.and=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)&D.i(M);return new c(C,this.h&D.h)},n.or=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)|D.i(M);return new c(C,this.h|D.h)},n.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)^D.i(M);return new c(C,this.h^D.h)};function re(D){for(var S=D.g.length+1,C=[],M=0;M<S;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new c(C,D.h)}function oe(D,S){var C=S>>5;S%=32;for(var M=D.g.length-C,P=[],U=0;U<M;U++)P[U]=0<S?D.i(U+C)>>>S|D.i(U+C+1)<<32-S:D.i(U+C);return new c(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Gr=c}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GE,Vl,YE,Jc,Lm,QE,KE,$E;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var B=h[b];if(!(B in v))break e;v=v[B]}h=h[h.length-1],b=v[h],y=y(b),y!=b&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var v=0,b=!1,B={next:function(){if(!b&&v<h.length){var $=v++;return{value:y($,h[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),h.apply(y,B)}}return function(){return h.apply(y,arguments)}}function A(h,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function R(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function x(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(b,B,$){for(var ue=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ue[ke-2]=arguments[ke];return y.prototype[B].apply(b,ue)}}function L(h){const y=h.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=h[b];return v}return[]}function O(h,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(m(b)){const B=h.length||0,$=b.length||0;h.length=B+$;for(let ue=0;ue<$;ue++)h[B+ue]=b[ue]}else h.push(b)}}class j{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){return/^[\s\xa0]*$/.test(h)}function X(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function se(h){return se[" "](h),h}se[" "]=function(){};var re=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function oe(h,y,v){for(const b in h)y.call(v,h[b],b,h)}function D(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function S(h){const y={};for(const v in h)y[v]=h[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let v,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(v in b)h[v]=b[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}}function P(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function U(h){d.setTimeout(()=>{throw h},0)}function I(){var h=Be;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class pe{constructor(){this.h=this.g=null}add(y,v){const b=qe.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var qe=new j(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,Be=new pe,V=()=>{const h=d.Promise.resolve(void 0);le=()=>{h.then(ie)}};var ie=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(v){U(v)}var y=qe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h})();function xe(h,y){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(re){e:{try{se(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:be[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}x(xe,ae);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Kn(h,y,v,b,B){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=B,this.key=++et,this.da=this.fa=!1}function lr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ei(h){this.src=h,this.g={},this.h=0}Ei.prototype.add=function(h,y,v,b,B){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var ue=ns(h,y,b,B);return-1<ue?(y=h[ue],v||(y.fa=!1)):(y=new Kn(y,this.src,$,!!b,B),y.fa=v,h.push(y)),y};function ts(h,y){var v=y.type;if(v in h.g){var b=h.g[v],B=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(b,B,1),$&&(lr(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function ns(h,y,v,b){for(var B=0;B<h.length;++B){var $=h[B];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==b)return B}return-1}var is="closure_lm_"+(1e6*Math.random()|0),Eo={};function gu(h,y,v,b,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)gu(h,y[$],v,b,B);return null}return v=yu(v),h&&h[Dt]?h.K(y,v,g(b)?!!b.capture:!1,B):En(h,y,v,!1,b,B)}function En(h,y,v,b,B,$){if(!y)throw Error("Invalid event type");var ue=g(B)?!!B.capture:!!B,ke=ta(h);if(ke||(h[is]=ke=new Ei(h)),v=ke.add(y,v,b,ue,$),v.proxy)return v;if(b=tf(),v.proxy=b,b.src=h,b.listener=v,h.addEventListener)_e||(B=ue),B===void 0&&(B=!1),h.addEventListener(y.toString(),b,B);else if(h.attachEvent)h.attachEvent(rs(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tf(){function h(v){return y.call(h.src,h.listener,v)}const y=nf;return h}function To(h,y,v,b,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)To(h,y[$],v,b,B);else b=g(b)?!!b.capture:!!b,v=yu(v),h&&h[Dt]?(h=h.i,y=String(y).toString(),y in h.g&&($=h.g[y],v=ns($,v,b,B),-1<v&&(lr($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete h.g[y],h.h--)))):h&&(h=ta(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ns(y,v,b,B)),(v=-1<h?y[h]:null)&&ea(v))}function ea(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Dt])ts(y.i,h);else{var v=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(v,b,h.capture):y.detachEvent?y.detachEvent(rs(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ta(y))?(ts(v,h),v.h==0&&(v.src=null,y[is]=null)):lr(h)}}}function rs(h){return h in Eo?Eo[h]:Eo[h]="on"+h}function nf(h,y){if(h.da)h=!0;else{y=new xe(y,this);var v=h.listener,b=h.ha||h.src;h.fa&&ea(h),h=v.call(b,y)}return h}function ta(h){return h=h[is],h instanceof Ei?h:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(h){return typeof h=="function"?h:(h[Ao]||(h[Ao]=function(y){return h.handleEvent(y)}),h[Ao])}function ut(){ce.call(this),this.i=new Ei(this),this.M=this,this.F=null}x(ut,ce),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(h,y,v,b){To(this,h,y,v,b)};function Ye(h,y){var v,b=h.F;if(b)for(v=[];b;b=b.F)v.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new ae(y,h);else if(y instanceof ae)y.target=y.target||h;else{var B=y;y=new ae(b,h),M(y,B)}if(B=!0,v)for(var $=v.length-1;0<=$;$--){var ue=y.g=v[$];B=un(ue,b,!0,y)&&B}if(ue=y.g=h,B=un(ue,b,!0,y)&&B,B=un(ue,b,!1,y)&&B,v)for($=0;$<v.length;$++)ue=y.g=v[$],B=un(ue,b,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],b=0;b<v.length;b++)lr(v[b]);delete h.g[y],h.h--}}this.F=null},ut.prototype.K=function(h,y,v,b){return this.i.add(String(h),y,!1,v,b)},ut.prototype.L=function(h,y,v,b){return this.i.add(String(h),y,!0,v,b)};function un(h,y,v,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var ue=y[$];if(ue&&!ue.da&&ue.capture==v){var ke=ue.listener,St=ue.ha||ue.src;ue.fa&&ts(h.i,ue),B=ke.call(St,b)!==!1&&B}}return B&&!b.defaultPrevented}function Yt(h,y,v){if(typeof h=="function")v&&(h=A(h,v));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function _u(h){h.g=Yt(()=>{h.g=null,h.i&&(h.i=!1,_u(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rf extends ce{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(h){ce.call(this),this.h=h,this.g={}}x(ss,ce);var as=[];function os(h){oe(h.g,function(y,v){this.g.hasOwnProperty(v)&&ea(y)},h),h.g={}}ss.prototype.N=function(){ss.aa.N.call(this),os(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=d.JSON.stringify,na=d.JSON.parse,ls=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function wo(){}wo.prototype.h=null;function bo(h){return h.h||(h.h=h.i())}function So(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ae.call(this,"d")}x(Ai,ae);function Ro(){ae.call(this,"c")}x(Ro,ae);var $n={},Co=null;function ur(){return Co=Co||new ut}$n.La="serverreachability";function ia(h){ae.call(this,$n.La,h)}x(ia,ae);function cr(h){const y=ur();Ye(y,new ia(y))}$n.STAT_EVENT="statevent";function vu(h,y){ae.call(this,$n.STAT_EVENT,h),this.stat=y}x(vu,ae);function rt(h){const y=ur();Ye(y,new vu(y,h))}$n.Ma="timingevent";function bt(h,y){ae.call(this,$n.Ma,h),this.size=y}x(bt,ae);function yt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Io(h,y,v,b,B,$){h.info(function(){if(h.g)if($)for(var ue="",ke=$.split("&"),St=0;St<ke.length;St++){var Le=ke[St].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var Rt=Mt.split("_");ue=2<=Rt.length&&Rt[1]=="type"?ue+(Mt+"="+Le+"&"):ue+(Mt+"=redacted&")}}else ue=null;else ue=$;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+v+`
`+ue})}function sf(h,y,v,b,B,$,ue){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+v+`
`+$+" "+ue})}function hr(h,y,v,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+us(h,v)+(b?" "+b:"")})}function Eu(h,y){h.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function us(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var b=v[h];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var ue=1;ue<B.length;ue++)B[ue]=""}}}}return kn(v)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Wn(){}x(Wn,wo),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Xn=new Wn;function Jt(h,y,v,b){this.j=h,this.i=y,this.l=v,this.R=b||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var xo={},ra={};function Ln(h,y,v){h.L=1,h.v=ms(cn(y)),h.m=v,h.P=!0,bi(h,null)}function bi(h,y){h.F=Date.now(),cs(h),h.A=cn(h.v);var v=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),Po(v.i,"t",b),h.C=0,v=h.j.J,h.h=new ft,h.g=ku(h.j,v?y:null,!h.m),0<h.O&&(h.M=new rf(A(h.Y,h,h.g),h.O)),y=h.U,v=h.g,b=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(as[0]=B.toString()),B=as);for(var $=0;$<B.length;$++){var ue=gu(v,B[$],b||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),cr(),Io(h.i,h.u,h.A,h.l,h.R,h.m)}Jt.prototype.ca=function(h){h=h.target;const y=this.M;y&&Sn(h)==3?y.j():this.Y(h)},Jt.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=Sn(this.g);var y=this.g.Ba();const Oi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Oi?cr(3):cr(2)),dr(this);var v=this.g.Z();this.X=v;t:if(Tu(this)){var b=Iu(this.g);h="";var B=b.length,$=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Zn(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!($&&y==B-1)});b.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,sf(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,St=this.g;if((ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ke)){var Le=ke;break t}}Le=null}if(v=Le)hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hs(this,v);else{this.o=!1,this.s=3,rt(12),Ut(this),Zn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ue.length;)if(zt=Au(this,ue),zt==ra){Rt==4&&(this.s=4,rt(14),v=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==xo){this.s=4,rt(15),hr(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else hr(this.i,this.l,zt,null),hs(this,zt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ue.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)hr(this.i,this.l,ue,"[Invalid Chunked Response]"),Ut(this),Zn(this);else if(0<ue.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),As(Mt),Mt.M=!0,rt(11))}}else hr(this.i,this.l,ue,null),hs(this,ue);Rt==4&&Ut(this),this.o&&!this.J&&(Rt==4?Mu(this.j,this):(this.o=!1,cs(this)))}else cf(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ut(this),Zn(this)}}}catch{}finally{}};function Tu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Au(h,y){var v=h.C,b=y.indexOf(`
`,v);return b==-1?ra:(v=Number(y.substring(v,b)),isNaN(v)?xo:(b+=1,b+v>y.length?ra:(y=y.slice(b,b+v),h.C=b+v,y)))}Jt.prototype.cancel=function(){this.J=!0,Ut(this)};function cs(h){h.S=Date.now()+h.I,wu(h,h.I)}function wu(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=yt(A(h.ba,h),y)}function dr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Jt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Eu(this.i,this.A),this.L!=2&&(cr(),rt(17)),Ut(this),this.s=2,Zn(this)):wu(this,this.S-h)};function Zn(h){h.j.G==0||h.J||Mu(h.j,h)}function Ut(h){dr(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,os(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function hs(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||No(v.h,h))){if(!h.K&&No(v.h,h)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)ga(v),ma(v);else break e;Bo(v),rt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(A(v.Za,v),6e3));if(1>=aa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Di(v,11)}else if((h.K||v.g==h)&&ga(v),!K(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Le=B[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Mt=Le[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const Rt=Le[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Oi=Le[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(b=1.5*Oi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const zt=h.g;if(zt){const si=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var $=b.h;$.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(oa($,$.h),$.h=null))}if(b.D){const qo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(b.ya=qo,$e(b.I,b.D,qo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ue=h;if(b.qa=Pu(b,b.J?b.ia:null,b.W),ue.K){en(b.h,ue);var ke=ue,St=b.L;St&&(ke.I=St),ke.B&&(dr(ke),cs(ke)),b.g=ue}else Du(b);0<v.i.length&&pa(v)}else Le[0]!="stop"&&Le[0]!="close"||Di(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Di(v,7):Uo(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}cr(4)}catch{}}var bu=class{constructor(h,y){this.g=h,this.map=y}};function Si(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function aa(h){return h.h?1:h.g?h.g.size:0}function No(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function oa(h,y){h.g?h.g.add(y):h.h=y}function en(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Si.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Do(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return L(h.i)}function af(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,b=0;b<v;b++)y.push(h[b]);return y}y=[],v=0;for(b in h)y[v++]=h[b];return y}function la(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const b in h)y[v++]=b;return y}}}function Oo(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=la(h),b=af(h),B=b.length,$=0;$<B;$++)y.call(void 0,b[$],v&&v[$],h)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function of(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var b=h[v].indexOf("="),B=null;if(0<=b){var $=h[v].substring(0,b);B=h[v].substring(b+1)}else $=h[v];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof _t){this.h=h.h,ds(this,h.j),this.o=h.o,this.g=h.g,mr(this,h.s),this.l=h.l;var y=h.i,v=new Ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ri(this,v),this.m=h.m}else h&&(y=String(h).match(fs))?(this.h=!1,ds(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),mr(this,y[4]),this.l=An(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}_t.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ps(y,Mo,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ps(y,Mo,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(ps(v,v.charAt(0)=="/"?lf:Vo,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",ps(v,ua)),h.join("")};function cn(h){return new _t(h)}function ds(h,y,v){h.j=v?An(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function mr(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ri(h,y,v){y instanceof Ci?(h.i=y,Ru(h.i,h.h)):(v||(y=ps(y,uf)),h.i=new Ci(y,h.h))}function $e(h,y,v){h.i.set(y,v)}function ms(h){return $e(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function An(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ps(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Su),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Su(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Mo=/[#\/\?@]/g,Vo=/[#\?:]/g,lf=/[#\?]/g,uf=/[#\?@]/g,ua=/#/g;function Ci(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function wn(h){h.g||(h.g=new Map,h.h=0,h.i&&of(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Ci.prototype,n.add=function(h,y){wn(this),this.i=null,h=Jn(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Ii(h,y){wn(h),y=Jn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function xi(h,y){return wn(h),y=Jn(h,y),h.g.has(y)}n.forEach=function(h,y){wn(this),this.g.forEach(function(v,b){v.forEach(function(B){h.call(y,B,b,this)},this)},this)},n.na=function(){wn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const B=h[b];for(let $=0;$<B.length;$++)v.push(y[b])}return v},n.V=function(h){wn(this);let y=[];if(typeof h=="string")xi(this,h)&&(y=y.concat(this.g.get(Jn(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},n.set=function(h,y){return wn(this),this.i=null,h=Jn(this,h),xi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Po(h,y,v){Ii(h,y),0<v.length&&(h.i=null,h.g.set(Jn(h,y),L(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const $=encodeURIComponent(String(b)),ue=this.V(b);for(b=0;b<ue.length;b++){var B=$;ue[b]!==""&&(B+="="+encodeURIComponent(String(ue[b]))),h.push(B)}}return this.i=h.join("&")};function Jn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ru(h,y){y&&!h.j&&(wn(h),h.i=null,h.g.forEach(function(v,b){var B=b.toLowerCase();b!=B&&(Ii(this,b),Po(this,B,v))},h)),h.j=y}function gs(h,y){const v=new Tn;if(d.Image){const b=new Image;b.onload=R(bn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=R(bn,v,"TestLoadImage: error",!1,y,b),b.onabort=R(bn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=R(bn,v,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Un(h,y){const v=new Tn,b=new AbortController,B=setTimeout(()=>{b.abort(),bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then($=>{clearTimeout(B),$.ok?bn(v,"TestPingServer: ok",!0,y):bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),bn(v,"TestPingServer: error",!1,y)})}function bn(h,y,v,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(v)}catch{}}function ys(){this.g=new ls}function ei(h,y,v){const b=v||"";try{Oo(h,function(B,$){let ue=B;g(B)&&(ue=kn(B)),y.push(b+$+"="+encodeURIComponent(ue))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function pr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(pr,wo),pr.prototype.g=function(){return new Ni(this.l,this.j)},pr.prototype.i=(function(h){return function(){return h}})({});function Ni(h,y){ut.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ni,ut),n=Ni.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ti(this):ni(this),this.readyState==3&&ko(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ti(this))},n.Qa=function(h){this.g&&(this.response=h,ti(this))},n.ga=function(){this.g&&ti(this)};function ti(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ni(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Lo(h){let y="";return oe(h,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Ot(h,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Lo(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):$e(h,y,v))}function He(h){ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(He,ut);var ca=/^https?$/i,_s=["POST","PUT"];n=He.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?bo(this.o):bo(Xn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Cu(this,$);return}if(h=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)v.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())v.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(_s,y,void 0))||b||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of v)this.g.setRequestHeader($,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(h),this.u=!1}catch($){Cu(this,$)}};function Cu(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,ha(h),ii(h)}function ha(h){h.A||(h.A=!0,Ye(h,"complete"),Ye(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ye(this,"complete"),Ye(this,"abort"),ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},n.bb=function(){fa(this)};function fa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Sn(h)!=4||h.Z()!=2)){if(h.u&&Sn(h)==4)Yt(h.Ea,0,h);else if(Ye(h,"readystatechange"),Sn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ue===0){var B=String(h.D).match(fs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),b=!ca.test(B?B.toLowerCase():"")}v=b}if(v)Ye(h,"complete"),Ye(h,"success");else{h.m=6;try{var $=2<Sn(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",ha(h)}}finally{ii(h)}}}}function ii(h,y){if(h.g){vs(h);const v=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ye(h,"ready");try{v.onreadystatechange=b}catch{}}}function vs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Sn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),na(y)}};function Iu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cf(h){const y={};h=(h.g&&2<=Sn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(K(h[b]))continue;var v=P(h[b]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[B]||[];y[B]=$,$.push(v)}D(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function da(h){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,h),this.cb=Es("retryDelaySeedMs",1e4,h),this.Wa=Es("forwardChannelMaxRetries",2,h),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(h&&h.concurrentRequestLimit),this.Da=new ys,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=da.prototype,n.la=8,n.G=1,n.connect=function(h,y,v,b){rt(0),this.W=h,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Pu(this,null,this.W),pa(this)};function Uo(h){if(xu(h),h.G==3){var y=h.U++,v=cn(h.I);if($e(v,"SID",h.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),Ts(h,v),y=new Jt(h,h.j,y),y.L=2,y.v=ms(cn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),cs(y)}Vu(h)}function ma(h){h.g&&(As(h),h.g.cancel(),h.g=null)}function xu(h){ma(h),h.u&&(d.clearTimeout(h.u),h.u=null),ga(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function pa(h){if(!sa(h.h)&&!h.s){h.s=!0;var y=h.Ga;le||V(),de||(le(),de=!0),Be.add(y,h),h.B=0}}function hf(h,y){return aa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=yt(A(h.Ga,h,y),jo(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new Jt(this,this.j,h);let $=this.o;if(this.S&&($?($=S($),M($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Nu(this,B,y),v=cn(this.I),$e(v,"RID",h),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Ts(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Lo($)))+"&"+y:this.m&&Ot(v,this.m,$)),oa(this.h,B),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),B.T=!0,Ln(B,v,null)):Ln(B,v,y),this.G=2}}else this.G==3&&(h?zo(this,h):this.i.length==0||sa(this.h)||zo(this))};function zo(h,y){var v;y?v=y.l:v=h.U++;const b=cn(h.I);$e(b,"SID",h.K),$e(b,"RID",v),$e(b,"AID",h.T),Ts(h,b),h.m&&h.o&&Ot(b,h.m,h.o),v=new Jt(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Nu(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),oa(h.h,v),Ln(v,b,y)}function Ts(h,y){h.H&&oe(h.H,function(v,b){$e(y,b,v)}),h.l&&Oo({},function(v,b){$e(y,b,v)})}function Nu(h,y,v){v=Math.min(h.i.length,v);var b=h.l?A(h.l.Na,h.l,h):null;e:{var B=h.i;let $=-1;for(;;){const ue=["count="+v];$==-1?0<v?($=B[0].g,ue.push("ofs="+$)):$=0:ue.push("ofs="+$);let ke=!0;for(let St=0;St<v;St++){let Le=B[St].g;const Mt=B[St].map;if(Le-=$,0>Le)$=Math.max(0,B[St].g-100),ke=!1;else try{ei(Mt,ue,"req"+Le+"_")}catch{b&&b(Mt)}}if(ke){b=ue.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,b}function Du(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;le||V(),de||(le(),de=!0),Be.add(y,h),h.v=0}}function Bo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=yt(A(h.Fa,h),jo(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=yt(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ma(this),Ou(this))};function As(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Ou(h){h.g=new Jt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=cn(h.qa);$e(y,"RID","rpc"),$e(y,"SID",h.K),$e(y,"AID",h.T),$e(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&$e(y,"TO",h.ja),$e(y,"TYPE","xmlhttp"),Ts(h,y),h.m&&h.o&&Ot(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=ms(cn(y)),v.m=null,v.P=!0,bi(v,h)}n.Za=function(){this.C!=null&&(this.C=null,ma(this),Bo(this),rt(19))};function ga(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Mu(h,y){var v=null;if(h.g==y){ga(h),As(h),h.g=null;var b=2}else if(No(h.h,y))v=y.D,en(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=h.B;b=ur(),Ye(b,new bt(b,v)),pa(h)}else Du(h);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&hf(h,y)||b==2&&Bo(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),B){case 1:Di(h,5);break;case 4:Di(h,10);break;case 3:Di(h,6);break;default:Di(h,2)}}}function jo(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Di(h,y){if(h.j.info("Error code "+y),y==2){var v=A(h.fb,h),b=h.Xa;const B=!b;b=new _t(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ds(b,"https"),ms(b),B?gs(b.toString(),v):Un(b.toString(),v)}else rt(2);h.G=0,h.l&&h.l.sa(y),Vu(h),xu(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Vu(h){if(h.G=0,h.ka=[],h.l){const y=Do(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Pu(h,y,v){var b=v instanceof _t?cn(v):new _t(v);if(b.g!="")y&&(b.g=y+"."+b.g),mr(b,b.s);else{var B=d.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new _t(null);b&&ds($,b),y&&($.g=y),B&&mr($,B),v&&($.l=v),b=$}return v=h.D,y=h.ya,v&&y&&$e(b,v,y),$e(b,"VER",h.la),Ts(h,b),b}function ku(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new He(new pr({eb:v})):new He(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}n=Lu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ya(){}ya.prototype.g=function(h,y){return new tn(h,y)};function tn(h,y){ut.call(this),this.g=new da(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!K(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ri(this)}x(tn,ut),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=kn(h),h=v);y.i.push(new bu(y.Ya++,h)),y.G==3&&pa(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.aa.N.call(this)};function Uu(h){Ai.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}x(Uu,Ai);function zu(){Ro.call(this),this.status=1}x(zu,Ro);function ri(h){this.g=h}x(ri,Lu),ri.prototype.ua=function(){Ye(this.g,"a")},ri.prototype.ta=function(h){Ye(this.g,new Uu(h))},ri.prototype.sa=function(h){Ye(this.g,new zu)},ri.prototype.ra=function(){Ye(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,$E=function(){return new ya},KE=function(){return ur()},QE=$n,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Jc=fr,wi.COMPLETE="complete",YE=wi,So.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Vl=So,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,GE=He}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",dv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new dp("@firebase/firestore");function Ya(){return Ks.logLevel}function fe(n,...e){if(Ks.logLevel<=Me.DEBUG){const t=e.map(Rp);Ks.debug(`Firestore (${po}): ${n}`,...t)}}function tr(n,...e){if(Ks.logLevel<=Me.ERROR){const t=e.map(Rp);Ks.error(`Firestore (${po}): ${n}`,...t)}}function no(n,...e){if(Ks.logLevel<=Me.WARN){const t=e.map(Rp);Ks.warn(`Firestore (${po}): ${n}`,...t)}}function Rp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,XE(n,s,t)}function XE(n,e,t){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw tr(s),new Error(s)}function Ge(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||XE(e,o,s)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xt.UNAUTHENTICATED)))}shutdown(){}}class ZI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class JI{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new WE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class ex{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tx{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ex(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ix(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(n,e){return n<e?-1:n>e?1:0}function Um(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),u=e.charAt(s);if(o!==u)return ym(o)===ym(u)?Ve(o,u):ym(o)?1:-1}return Ve(n.length,e.length)}const rx=55296,sx=57343;function ym(n){const e=n.charCodeAt(0);return e>=rx&&e<=sx}function io(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__name__";class hi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=hi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=hi.isNumericId(e),o=hi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(t)):Um(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class nt extends hi{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const ax=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends hi{construct(e,t,s){return new Ht(e,t,s)}static isValidIdentifier(e){return ax.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new Ht([pv])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ox(n,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gv(n){if(!ye.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yv(n){if(ye.isDocumentKey(n))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kh(n);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function cu(n,e){if(!JE(n))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-62135596800,vv=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*vv);return new it(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_v)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:wt("string",it._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function lx(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(t+1,0):new it(t,s));return new Qr(o,ye.empty(),e)}function ux(n){return new Qr(n.readTime,n.key,$l)}class Qr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qr(Se.min(),ye.empty(),$l)}static max(){return new Qr(Se.max(),ye.empty(),$l)}}function cx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==hx)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let o=0,u=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&t()}),(m=>s(m)))})),c=!0,u===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((o=>o?ne.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next((_=>{c[g]=_,++d,d===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function dx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Uh(n){return n==null}function yh(n){return n===0&&1/n==-1/0}function mx(n){return typeof n=="number"&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="";function px(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ev(e)),e=gx(n.get(t),e);return Ev(e)}function gx(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case eT:t+="";break;default:t+=u}}return t}function Ev(n){return n+eT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(e){return new Av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class Av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new vn([])}unionWith(e){let t=new xt(Ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nT("Invalid base64 string: "+u):u}})(e);return new Gt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=yx.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $r(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="server_timestamp",rT="__type__",sT="__previous_value__",aT="__local_write_time__";function xp(n){return(n?.mapValue?.fields||{})[rT]?.stringValue===iT}function zh(n){const e=n.mapValue.fields[sT];return xp(e)?zh(e):e}function Xl(n){const e=Kr(n.mapValue.fields[aT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t,s,o,u,c,d,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const _h="(default)";class Wl{constructor(e,t){this.projectId=e,this.database=t||_h}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",vx="__max__",Hc={mapValue:{}},lT="__vector__",vh="value";function Xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xp(n)?4:Tx(n)?9007199254740991:Ex(n)?10:11:Ae(28295,{value:n})}function _i(n,e){if(n===e)return!0;const t=Xr(n);if(t!==Xr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xl(n).isEqual(Xl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Kr(o.timestampValue),d=Kr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=pt(o.doubleValue),d=pt(u.doubleValue);return c===d?yh(c)===yh(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return io(n.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Tv(c)!==Tv(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!_i(c[m],d[m])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Zl(n,e){return(n.values||[]).find((t=>_i(t,e)))!==void 0}function ro(n,e){if(n===e)return 0;const t=Xr(n),s=Xr(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(u,c){const d=pt(u.integerValue||u.doubleValue),m=pt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return wv(n.timestampValue,e.timestampValue);case 4:return wv(Xl(n),Xl(e));case 5:return Um(n.stringValue,e.stringValue);case 6:return(function(u,c){const d=$r(u),m=$r(c);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Ve(d[g],m[g]);if(_!==0)return _}return Ve(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,c){const d=Ve(pt(u.latitude),pt(c.latitude));return d!==0?d:Ve(pt(u.longitude),pt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return bv(n.arrayValue,e.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[vh]?.arrayValue,_=m[vh]?.arrayValue,T=Ve(g?.values?.length||0,_?.values?.length||0);return T!==0?T:bv(g,_)})(n.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Hc.mapValue&&c===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(c===Hc.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const A=Um(m[T],_[T]);if(A!==0)return A;const R=ro(d[m[T]],g[_[T]]);if(R!==0)return R}return Ve(m.length,_.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function wv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Kr(n),s=Kr(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function bv(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=ro(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function so(n){return zm(n)}function zm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Kr(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $r(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${zm(t.fields[c])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function eh(n){switch(Xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(n);return e?16+eh(e):16;case 5:return 2*n.stringValue.length;case 6:return $r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Jr(s.fields,((u,c)=>{o+=u.length+eh(c)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function Sv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bm(n){return!!n&&"integerValue"in n}function Np(n){return!!n&&"arrayValue"in n}function Rv(n){return!!n&&"nullValue"in n}function Cv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function th(n){return!!n&&"mapValue"in n}function Ex(n){return(n?.mapValue?.fields||{})[oT]?.stringValue===lT}function Bl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Jr(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Bl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(n.arrayValue.values[t]);return e}return{...n}}function Tx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=Ht.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=Bl(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Jr(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ln(Bl(this.value))}}function uT(n){const e=[];return Jr(n.fields,((t,s)=>{const o=new Ht([t]);if(th(s)){const u=uT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),ln.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.position=e,this.inclusive=t}}function Iv(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const u=e[o],c=n.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),t.key):s=ro(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function xv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_i(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ax(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class At extends cT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new bx(e,t,s):t==="array-contains"?new Cx(e,s):t==="in"?new Ix(e,s):t==="not-in"?new xx(e,s):t==="array-contains-any"?new Nx(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Sx(e,s):new Rx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ro(t,this.value)):t!==null&&Xr(this.value)===Xr(t)&&this.matchesComparison(ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends cT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yn(e,t)}matches(e){return hT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(n){return n.op==="and"}function fT(n){return wx(n)&&hT(n)}function wx(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}function jm(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+so(n.value);if(fT(n))return n.filters.map((e=>jm(e))).join(",");{const e=n.filters.map((t=>jm(t))).join(",");return`${n.op}(${e})`}}function dT(n,e){return n instanceof At?(function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)})(n,e):n instanceof Yn?(function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&dT(c,o.filters[d])),!0):!1})(n,e):void Ae(19439)}function mT(n){return n instanceof At?(function(t){return`${t.field.canonicalString()} ${t.op} ${so(t.value)}`})(n):n instanceof Yn?(function(t){return t.op.toString()+" {"+t.getFilters().map(mT).join(" ,")+"}"})(n):"Filter"}class bx extends At{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sx extends At{constructor(e,t){super(e,"in",t),this.keys=pT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Rx extends At{constructor(e,t){super(e,"not-in",t),this.keys=pT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pT(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class Cx extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Np(t)&&Zl(t.arrayValue,this.value)}}class Ix extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zl(this.value.arrayValue,t)}}class xx extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zl(this.value.arrayValue,t)}}class Nx extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Np(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function Nv(n,e=null,t=[],s=[],o=null,u=null,c=null){return new Dx(n,e,t,s,o,u,c)}function Dp(n){const e=Re(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>jm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>so(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>so(s))).join(",")),e.Te=t}return e.Te}function Op(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ax(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xv(n.startAt,e.startAt)&&xv(n.endAt,e.endAt)}function qm(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t=null,s=[],o=[],u=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ox(n,e,t,s,o,u,c,d){return new _o(n,e,t,s,o,u,c,d)}function Mp(n){return new _o(n)}function Dv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gT(n){return n.collectionGroup!==null}function jl(n){const e=Re(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new xt(Ht.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Jl(u,s))})),t.has(Ht.keyField().canonicalString())||e.Ie.push(new Jl(Ht.keyField(),s))}return e.Ie}function mi(n){const e=Re(n);return e.Ee||(e.Ee=Mx(e,jl(n))),e.Ee}function Mx(n,e){if(n.limitType==="F")return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Jl(o.field,u)}));const t=n.endAt?new Eh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Eh(n.startAt.position,n.startAt.inclusive):null;return Nv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Fm(n,e){const t=n.filters.concat([e]);return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hm(n,e,t){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bh(n,e){return Op(mi(n),mi(e))&&n.limitType===e.limitType}function yT(n){return`${Dp(mi(n))}|lt:${n.limitType}`}function Qa(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>mT(o))).join(", ")}]`),Uh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>so(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>so(o))).join(",")),`Target(${s})`})(mi(n))}; limitType=${n.limitType})`}function jh(n,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,e)&&(function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,m){const g=Iv(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,jl(s),o)||s.endAt&&!(function(c,d,m){const g=Iv(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,jl(s),o))})(n,e)}function Vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _T(n){return(e,t)=>{let s=!1;for(const o of jl(n)){const u=Px(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Px(n,e,t){const s=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?ro(m,g):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new lt(ye.comparator);function nr(){return kx}const vT=new lt(ye.comparator);function Pl(...n){let e=vT;for(const t of n)e=e.insert(t.key,t);return e}function ET(n){let e=vT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Bs(){return ql()}function TT(){return ql()}function ql(){return new Ws((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Lx=new lt(ye.comparator),Ux=new xt(ye.comparator);function Pe(...n){let e=Ux;for(const t of n)e=e.add(t);return e}const zx=new xt(Ve);function Bx(){return zx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function AT(n){return{integerValue:""+n}}function jx(n,e){return mx(e)?AT(e):Vp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function qx(n,e,t){return n instanceof Th?(function(o,u){const c={fields:{[rT]:{stringValue:iT},[aT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=zh(u)),u&&(c.fields[sT]=u),{mapValue:c}})(t,e):n instanceof eu?bT(n,e):n instanceof tu?ST(n,e):(function(o,u){const c=wT(o,u),d=Ov(c)+Ov(o.Ae);return Bm(c)&&Bm(o.Ae)?AT(d):Vp(o.serializer,d)})(n,e)}function Fx(n,e,t){return n instanceof eu?bT(n,e):n instanceof tu?ST(n,e):t}function wT(n,e){return n instanceof Ah?(function(s){return Bm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends qh{}class eu extends qh{constructor(e){super(),this.elements=e}}function bT(n,e){const t=RT(e);for(const s of n.elements)t.some((o=>_i(o,s)))||t.push(s);return{arrayValue:{values:t}}}class tu extends qh{constructor(e){super(),this.elements=e}}function ST(n,e){let t=RT(e);for(const s of n.elements)t=t.filter((o=>!_i(o,s)));return{arrayValue:{values:t}}}class Ah extends qh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ov(n){return pt(n.integerValue||n.doubleValue)}function RT(n){return Np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Hx(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?io(s.elements,o.elements,_i):s instanceof Ah&&o instanceof Ah?_i(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(n.transform,e.transform)}class Gx{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Fh{}function CT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pp(n.key,Vn.none()):new hu(n.key,n.data,Vn.none());{const t=n.data,s=ln.empty();let o=new xt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new es(n.key,s,new vn(o.toArray()),Vn.none())}}function Yx(n,e,t){n instanceof hu?(function(o,u,c){const d=o.value.clone(),m=Vv(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof es?(function(o,u,c){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=Vv(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(IT(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Fl(n,e,t,s){return n instanceof hu?(function(u,c,d,m){if(!nh(u.precondition,c))return d;const g=u.value.clone(),_=Pv(u.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof es?(function(u,c,d,m){if(!nh(u.precondition,c))return d;const g=Pv(u.fieldTransforms,m,c),_=c.data;return _.setAll(IT(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(u,c,d){return nh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function Qx(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),u=wT(s.transform,o||null);u!=null&&(t===null&&(t=ln.empty()),t.set(s.field,u))}return t||null}function Mv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,((u,c)=>Hx(u,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends Fh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends Fh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Vv(n,e,t){const s=new Map;Ge(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const u=n[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,Fx(c,d,t[o]))}return s}function Pv(n,e,t){const s=new Map;for(const o of n){const u=o.transform,c=t.data.field(o.field);s.set(o.field,qx(u,c,e))}return s}class Pp extends Fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kx extends Fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Yx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=TT();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=t.has(o.key)?null:d;const m=CT(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((t,s)=>Mv(t,s)))&&io(this.baseMutations,e.baseMutations,((t,s)=>Mv(t,s)))}}class kp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Lx})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new kp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function Zx(n){switch(n){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function xT(n){if(n===void 0)return tr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Tt.OK:return ee.OK;case Tt.CANCELLED:return ee.CANCELLED;case Tt.UNKNOWN:return ee.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ee.INTERNAL;case Tt.UNAVAILABLE:return ee.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ee.NOT_FOUND;case Tt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Tt.ABORTED:return ee.ABORTED;case Tt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Tt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:n})}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new Gr([4294967295,4294967295],0);function kv(n){const e=Jx().encode(n),t=new HE;return t.update(e),new Uint8Array(t.digest())}function Lv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([t,s],0),new Gr([o,u],0)]}class Lp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gr.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Gr.fromNumber(s)));return o.compare(e4)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=kv(e),[s,o]=Lv(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Lp(u,o,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=kv(e),[s,o]=Lv(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Hh(Se.min(),o,new lt(Ve),nr(),Pe())}}class fu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new fu(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class NT{constructor(e,t){this.targetId=e,this.Ce=t}}class DT{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Uv{constructor(){this.ve=0,this.Fe=zv(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),t=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new fu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=zv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t4{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.Je=Gc(),this.He=Gc(),this.Ye=new lt(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(qm(u))if(s===0){const c=new ye(u.path);this.et(t,c,Wt.newNoDocument(c,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,d;try{c=$r(s).toUint8Array()}catch(m){if(m instanceof nT)return no("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Lp(c,o,u)}catch(m){return no(m instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&qm(d.target)){const m=new ye(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Wt.newNoDocument(m,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Hh(e,t,this.Ye,this.je,s);return this.je=nr(),this.Je=Gc(),this.He=Gc(),this.Ye=new lt(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Uv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gc(){return new lt(ye.comparator)}function zv(){return new lt(ye.comparator)}const n4={asc:"ASCENDING",desc:"DESCENDING"},i4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class s4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gm(n,e){return n.useProto3Json||Uh(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a4(n,e){return wh(n,e.toTimestamp())}function pi(n){return Ge(!!n,49232),Se.fromTimestamp((function(t){const s=Kr(t);return new it(s.seconds,s.nanos)})(n))}function Up(n,e){return Ym(n,e).canonicalString()}function Ym(n,e){const t=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function MT(n){const e=nt.fromString(n);return Ge(UT(e),10190,{key:e.toString()}),e}function Qm(n,e){return Up(n.databaseId,e.path)}function _m(n,e){const t=MT(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(PT(t))}function VT(n,e){return Up(n.databaseId,e)}function o4(n){const e=MT(n);return e.length===4?nt.emptyPath():PT(e)}function Km(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PT(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Bv(n,e,t){return{name:Qm(n,e),fields:t.value.mapValue.fields}}function l4(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Gt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Gt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:xT(g.code);return new he(_,g.message||"")})(c);t=new DT(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(n,s.document.name),u=pi(s.document.updateTime),c=s.document.createTime?pi(s.document.createTime):Se.min(),d=new ln({mapValue:{fields:s.document.fields}}),m=Wt.newFoundDocument(o,u,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new ih(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(n,s.document),u=s.readTime?pi(s.readTime):Se.min(),c=Wt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new ih([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(n,s.document),u=s.removedTargetIds||[];t=new ih([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new Wx(o,u),d=s.targetId;t=new NT(d,c)}}return t}function u4(n,e){let t;if(e instanceof hu)t={update:Bv(n,e.key,e.value)};else if(e instanceof Pp)t={delete:Qm(n,e.key)};else if(e instanceof es)t={update:Bv(n,e.key,e.data),updateMask:_4(e.fieldMask)};else{if(!(e instanceof Kx))return Ae(16599,{Vt:e.type});t={verify:Qm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Th)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof eu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ah)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:a4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(n,e.precondition)),t}function c4(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map((t=>(function(o,u){let c=o.updateTime?pi(o.updateTime):pi(u);return c.isEqual(Se.min())&&(c=pi(u)),new Gx(c,o.transformResults||[])})(t,e)))):[]}function h4(n,e){return{documents:[VT(n,e.path)]}}function f4(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=VT(n,o);const u=(function(g){if(g.length!==0)return LT(Yn.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:Ka(A.field),direction:p4(A.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Gm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function d4(n){let e=o4(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(T){const A=kT(T);return A instanceof Yn&&fT(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((A=>(function(x){return new Jl($a(x.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(A)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let A;return A=typeof T=="object"?T.value:T,Uh(A)?null:A})(t.limit));let m=null;t.startAt&&(m=(function(T){const A=!!T.before,R=T.values||[];return new Eh(R,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const A=!T.before,R=T.values||[];return new Eh(R,A)})(t.endAt)),Ox(e,o,c,u,d,"F",m,g)}function m4(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=$a(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$a(t.unaryFilter.field);return At.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return At.create($a(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Yn.create(t.compositeFilter.filters.map((s=>kT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function p4(n){return n4[n]}function g4(n){return i4[n]}function y4(n){return r4[n]}function Ka(n){return{fieldPath:n.canonicalString()}}function $a(n){return Ht.fromServerFormat(n.fieldPath)}function LT(n){return n instanceof At?(function(t){if(t.op==="=="){if(Cv(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NAN"}};if(Rv(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cv(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NAN"}};if(Rv(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(t.field),op:g4(t.op),value:t.value}}})(n):n instanceof Yn?(function(t){const s=t.getFilters().map((o=>LT(o)));return s.length===1?s[0]:{compositeFilter:{op:y4(t.op),filters:s}}})(n):Ae(54877,{filter:n})}function _4(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function UT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,s,o,u=Se.min(),c=Se.min(),d=Gt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.yt=e}}function E4(n){const e=d4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.Cn=new A4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Qr.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class A4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(zT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="LruGarbageCollector",w4=1048576;function Fv([n,e],[t,s]){const o=Ve(n,t);return o===0?Ve(e,s):o}class b4{constructor(e){this.Ir=e,this.buffer=new xt(Fv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Fv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(qv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yo(t)?fe(qv,"Ignoring IndexedDB error during garbage collection: ",t):await go(t)}await this.Vr(3e5)}))}}class R4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Lh.ce);const s=new b4(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(jv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Ya()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function C4(n,e){return new R4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.changes=new Ws((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Fl(s.mutation,o,vn.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Pe()){const o=Bs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=Pl();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Bs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Pe())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,o){let u=nr();const c=ql(),d=(function(){return ql()})();return t.forEach(((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof es)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Fl(_.mutation,g,_.mutation.getFieldMask(),it.now())):c.set(g.key,vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new x4(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=ql();let o=new lt(((c,d)=>c-d)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=s.get(m)||vn.empty();_=d.applyToLocalView(g,_),s.set(m,_);const T=(o.get(d.batchId)||Pe()).add(m);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=TT();_.forEach((A=>{if(!u.has(A)){const R=CT(t.get(A),s.get(A));R!==null&&T.set(A,R),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(Bs());let d=$l,m=u;return c.next((g=>ne.forEach(g,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{m=m.insert(_,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,Pe()))).next((_=>({batchId:d,changes:ET(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=Pl();return this.indexManager.getCollectionParents(e,u).next((d=>ne.forEach(d,(m=>{const g=(function(T,A){return new _o(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Wt.newInvalidDocument(_)))}));let d=Pl();return c.forEach(((m,g)=>{const _=u.get(m);_!==void 0&&Fl(_.mutation,g,vn.empty(),it.now()),jh(t,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:E4(o.bundledQuery),readTime:pi(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.overlays=new lt(ye.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Bs();return ne.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=Bs(),u=t.length+1,c=new ye(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Bs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Bs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return ne.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Xx(t,s));let u=this.qr.get(t);u===void 0&&(u=Pe(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Qr=new xt(Lt.$r),this.Ur=new xt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Lt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ye(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Lt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Lt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $x(u,t,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Lt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xt(Ve);return t.forEach((o=>{const u=new Lt(o,0),c=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const c=new Lt(new ye(u),0);let d=new xt(Ve);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),ne.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,(o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.ri=e,this.docs=(function(){return new lt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=nr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=nr();const c=t.path,d=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||cx(ux(_),s)<=0||(o.has(_.key)||jh(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ii(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new k4(this)}getSize(e){return ne.resolve(this.size)}}class k4 extends I4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.persistence=e,this.si=new Ws((t=>Dp(t)),Op),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new zp,this.targetCount=0,this.ai=ao.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ao(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Lh(0),this.li=!1,this.li=!0,this.hi=new M4,this.referenceDelegate=e(this),this.Pi=new L4(this),this.indexManager=new T4,this.remoteDocumentCache=(function(o){return new P4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new v4(t),this.Ii=new D4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new V4(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new U4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class U4 extends fx{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Vi=null}static mi(e){return new Bp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.pi=new Ws((s=>px(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=C4(this,t)}static mi(e,t){return new bh(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,u.removeEntry(c,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=eh(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mS()?8:dx(Zt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new z4;return this.Ss(e,t,c).next((d=>{if(u.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Ya()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ya()<=Me.DEBUG&&fe("QueryEngine","Query:",Qa(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):ne.resolve())}ys(e,t){if(Dv(t))return ne.resolve(null);let s=mi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Hm(t,null,"F"),s=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Pe(...u);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,Hm(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,s,o){return Dv(t)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,s,o)?ne.resolve(null):(Ya()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(t)),this.vs(e,c,t,lx(o,$l)).next((d=>d)))}))}Ds(e,t){let s=new xt(_T(e));return t.forEach(((o,u)=>{jh(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return Ya()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Qa(t)),this.ps.getDocumentsMatchingQuery(e,t,Qr.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",j4=3e8;class q4{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new lt(Ve),this.xs=new Ws((u=>Dp(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function F4(n,e,t,s){return new q4(n,e,t,s)}async function jT(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let m=Pe();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function H4(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,_){const T=g.batch,A=T.keys();let R=ne.resolve();return A.forEach((x=>{R=R.next((()=>_.getEntry(m,x))).next((L=>{const O=g.docVersions.get(x);Ge(O!==null,48541),L.version.compareTo(O)<0&&(T.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Pe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function qT(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function G4(n,e){const t=Re(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((_,T)=>{const A=o.get(T);if(!A)return;d.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,T))));let R=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,s)),o=o.insert(T,R),(function(L,O,j){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=j4?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(A,R,_)&&d.push(t.Pi.updateTargetData(u,R))}));let m=nr(),g=Pe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(Y4(u,c,e.documentUpdates).next((_=>{m=_.ks,g=_.qs}))),!s.isEqual(Se.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return ne.waitFor(d).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(t.Ms=o,u)))}function Y4(n,e,t){let s=Pe(),o=Pe();return t.forEach((u=>s=s.add(u))),e.getEntries(n,s).next((u=>{let c=nr();return t.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):fe(qp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function Q4(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ip),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function K4(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new jr(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function $m(n,e,t){const s=Re(n),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!yo(c))throw c;fe(qp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Hv(n,e,t){const s=Re(n);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,_){const T=Re(m),A=T.xs.get(_);return A!==void 0?ne.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,_)})(s,c,mi(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?u:Pe()))).next((d=>($4(s,Vx(e),d),{documents:d,Qs:u})))))}function $4(n,e,t){let s=n.Os.get(e)||Se.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Os.set(e,s)}class Gv{constructor(){this.activeTargetIds=Bx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X4{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Xm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",Z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const c=Xm(),d=this.zo(e,t.toUriEncodedString());fe(vm,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),_=ho(g);return this.Jo(e,d,m,s,_).then((T=>(fe(vm,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw no(vm,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,t,s,o,u,c){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=Z4[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class t3 extends J4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const c=Xm();return new Promise(((d,m)=>{const g=new GE;g.setWithCredentials(!0),g.listenOnce(YE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const T=g.getResponseJson();fe($t,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Jc.TIMEOUT:fe($t,`RPC '${e}' ${c} timed out`),m(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=g.getStatus();if(fe($t,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R?.error;if(x&&x.status&&x.message){const L=(function(j){const K=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN})(x.status);m(new he(L,x.message))}else m(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe($t,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe($t,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$E(),d=KE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const _=u.join("");fe($t,`Creating RPC '${e}' stream ${o}: ${_}`,m);const T=c.createWebChannel(_,m);this.I_(T);let A=!1,R=!1;const x=new e3({Yo:O=>{R?fe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(A||(fe($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),fe($t,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},Zo:()=>T.close()}),L=(O,j,K)=>{O.listen(j,(X=>{try{K(X)}catch(se){setTimeout((()=>{throw se}),0)}}))};return L(T,Vl.EventType.OPEN,(()=>{R||(fe($t,`RPC '${e}' stream ${o} transport opened.`),x.o_())})),L(T,Vl.EventType.CLOSE,(()=>{R||(R=!0,fe($t,`RPC '${e}' stream ${o} transport closed`),x.a_(),this.E_(T))})),L(T,Vl.EventType.ERROR,(O=>{R||(R=!0,no($t,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),x.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),L(T,Vl.EventType.MESSAGE,(O=>{if(!R){const j=O.data[0];Ge(!!j,16349);const K=j,X=K?.error||K[0]?.error;if(X){fe($t,`RPC '${e}' stream ${o} received error:`,X);const se=X.status;let re=(function(S){const C=Tt[S];if(C!==void 0)return xT(C)})(se),oe=X.message;re===void 0&&(re=ee.INTERNAL,oe="Unknown error status: "+se+" with message "+X.message),R=!0,x.a_(new he(re,oe)),T.close()}else fe($t,`RPC '${e}' stream ${o} received:`,j),x.u_(j)}})),L(d,QE.STAT_EVENT,(O=>{O.stat===Lm.PROXY?fe($t,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Lm.NOPROXY&&fe($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){return new s4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="PersistentStream";class HT{constructor(e,t,s,o,u,c,d,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n3 extends HT{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=l4(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?pi(c.readTime):Se.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Km(this.serializer),t.addTarget=(function(u,c){let d;const m=c.target;if(d=qm(m)?{documents:h4(u,m)}:{query:f4(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=OT(u,c.resumeToken);const g=Gm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=wh(u,c.snapshotVersion.toTimestamp());const g=Gm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=m4(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Km(this.serializer),t.removeTarget=e,this.q_(t)}}class i3 extends HT{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=c4(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Km(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>u4(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{}class s3 extends r3{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Ym(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Ym(t,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class o3{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Zs(this)&&(fe($s,"Restarting streams for network reachability change."),await(async function(m){const g=Re(m);g.Ea.add(4),await du(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Yh(g)})(this))}))})),this.Ra=new a3(s,o)}}async function Yh(n){if(Zs(n))for(const e of n.da)await e(!0)}async function du(n){for(const e of n.da)await e(!1)}function GT(n,e){const t=Re(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Yp(t)?Gp(t):vo(t).O_()&&Hp(t,e))}function Fp(n,e){const t=Re(n),s=vo(t);t.Ia.delete(e),s.O_()&&YT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Zs(t)&&t.Ra.set("Unknown"))}function Hp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vo(n).Y_(e)}function YT(n,e){n.Va.Ue(e),vo(n).Z_(e)}function Gp(n){n.Va=new t4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),vo(n).start(),n.Ra.ua()}function Yp(n){return Zs(n)&&!vo(n).x_()&&n.Ia.size>0}function Zs(n){return Re(n).Ea.size===0}function QT(n){n.Va=void 0}async function l3(n){n.Ra.set("Online")}async function u3(n){n.Ia.forEach(((e,t)=>{Hp(n,e)}))}async function c3(n,e){QT(n),Yp(n)?(n.Ra.ha(e),Gp(n)):n.Ra.set("Unknown")}async function h3(n,e,t){if(n.Ra.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(s){fe($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(n,s)}else if(e instanceof ih?n.Va.Ze(e):e instanceof NT?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const s=await qT(n.localStore);t.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),YT(u,m);const T=new jr(_.target,m,g,_.sequenceNumber);Hp(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){fe($s,"Failed to raise snapshot:",s),await Sh(n,s)}}async function Sh(n,e,t){if(!yo(e))throw e;n.Ea.add(1),await du(n),n.Ra.set("Offline"),t||(t=()=>qT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe($s,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Yh(n)}))}function KT(n,e){return e().catch((t=>Sh(n,t,e)))}async function Qh(n){const e=Re(n),t=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;f3(e);)try{const o=await Q4(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,d3(e,o)}catch(o){await Sh(e,o)}$T(e)&&XT(e)}function f3(n){return Zs(n)&&n.Ta.length<10}function d3(n,e){n.Ta.push(e);const t=Wr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $T(n){return Zs(n)&&!Wr(n).x_()&&n.Ta.length>0}function XT(n){Wr(n).start()}async function m3(n){Wr(n).ra()}async function p3(n){const e=Wr(n);for(const t of n.Ta)e.ea(t.mutations)}async function g3(n,e,t){const s=n.Ta.shift(),o=kp.from(s,e,t);await KT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Qh(n)}async function y3(n,e){e&&Wr(n).X_&&await(async function(s,o){if((function(c){return Zx(c)&&c!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Wr(s).B_(),await KT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(s)}})(n,e),$T(n)&&XT(n)}async function $v(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),fe($s,"RemoteStore received new credentials");const s=Zs(t);t.Ea.add(3),await du(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Yh(t)}async function _3(n,e){const t=Re(n);e?(t.Ea.delete(2),await Yh(t)):e||(t.Ea.add(2),await du(t),t.Ra.set("Unknown"))}function vo(n){return n.ma||(n.ma=(function(t,s,o){const u=Re(t);return u.sa(),new n3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:l3.bind(null,n),t_:u3.bind(null,n),r_:c3.bind(null,n),H_:h3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Yp(n)?Gp(n):n.Ra.set("Unknown")):(await n.ma.stop(),QT(n))}))),n.ma}function Wr(n){return n.fa||(n.fa=(function(t,s,o){const u=Re(t);return u.sa(),new i3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:m3.bind(null,n),r_:y3.bind(null,n),ta:p3.bind(null,n),na:g3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Qh(n)):(await n.fa.stop(),n.Ta.length>0&&(fe($s,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,d=new Qp(e,t,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(n,e){if(tr("AsyncQueue",`${e}: ${n}`),yo(n))return new he(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=Pl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.ga=new lt(ye.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class oo{constructor(e,t,s,o,u,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new oo(e,t,Ja.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E3{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=Wv(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Wv(){return new Ws((n=>yT(n)),Bh)}async function T3(n,e){const t=Re(n);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new v3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Kp(c,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&$p(t)}async function A3(n,e){const t=Re(n),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function w3(n,e){const t=Re(n);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&$p(t)}function b3(n,e,t){const s=Re(n),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function $p(n){n.Ca.forEach((e=>{e.next()}))}var Wm,Zv;(Zv=Wm||(Wm={})).Ma="default",Zv.Cache="cache";class S3{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.key=e}}class ZT{constructor(e){this.key=e}}class R3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=_T(e),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Xv,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const A=o.get(_),R=jh(this.query,T)?T:null,x=!!A&&this.mutatedKeys.has(A.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;A&&R?A.data.isEqual(R.data)?x!==L&&(s.track({type:3,doc:R}),O=!0):this.su(A,R)||(s.track({type:2,doc:R}),O=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!A&&R?(s.track({type:0,doc:R}),O=!0):A&&!R&&(s.track({type:1,doc:A}),O=!0,(m||g)&&(d=!0)),O&&(R?(c=c.add(R),u=L?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(R,x){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:O})}};return L(R)-L(x)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new oo(this.query,e.tu,u,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new ZT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new WT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Pe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class C3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class I3{constructor(e){this.key=e,this.hu=!1}}class x3{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ws((d=>yT(d)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ye.comparator),this.Au=new Map,this.Ru=new zp,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(n,e,t=!0){const s=r2(n);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await JT(s,e,t,!0),o}async function D3(n,e){const t=r2(n);await JT(t,e,!0,!1)}async function JT(n,e,t,s){const o=await K4(n.localStore,mi(e)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await O3(n,e,u,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&GT(n.remoteStore,o),d}async function O3(n,e,t,s,o){n.pu=(T,A,R)=>(async function(L,O,j,K){let X=O.view.ru(j);X.Cs&&(X=await Hv(L.localStore,O.query,!1).then((({documents:D})=>O.view.ru(D,X))));const se=K&&K.targetChanges.get(O.targetId),re=K&&K.targetMismatches.get(O.targetId)!=null,oe=O.view.applyChanges(X,L.isPrimaryClient,se,re);return e1(L,O.targetId,oe.au),oe.snapshot})(n,T,A,R);const u=await Hv(n.localStore,e,!0),c=new R3(e,u.Qs),d=c.ru(u.documents),m=fu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,m);e1(n,t,g.au);const _=new C3(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function M3(n,e,t){const s=Re(n),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Bh(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Fp(s.remoteStore,o.targetId),Zm(s,o.targetId)})).catch(go)):(Zm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function V3(n,e){const t=Re(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(t.remoteStore,s.targetId))}async function P3(n,e,t){const s=q3(n);try{const o=await(function(c,d){const m=Re(c),g=it.now(),_=d.reduce(((R,x)=>R.add(x.key)),Pe());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let x=nr(),L=Pe();return m.Ns.getEntries(R,_).next((O=>{x=O,x.forEach(((j,K)=>{K.isValidDocument()||(L=L.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,x))).next((O=>{T=O;const j=[];for(const K of d){const X=Qx(K,T.get(K.key).overlayedDocument);X!=null&&j.push(new es(K.key,X,uT(X.value.mapValue),Vn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,j,d)})).next((O=>{A=O;const j=O.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(R,O.batchId,j)}))})).then((()=>({batchId:A.batchId,changes:ET(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new lt(Ve)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await mu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");t.reject(u)}}async function e2(n,e){const t=Re(n);try{const s=await G4(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ge(c.hu,14607):o.removedDocuments.size>0&&(Ge(c.hu,42227),c.hu=!1))})),await mu(t,s,e)}catch(s){await go(s)}}function Jv(n,e,t){const s=Re(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=Re(c);m.onlineState=d;let g=!1;m.queries.forEach(((_,T)=>{for(const A of T.Sa)A.va(d)&&(g=!0)})),g&&$p(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function k3(n,e,t){const s=Re(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new lt(ye.comparator);c=c.insert(u,Wt.newNoDocument(u,Se.min()));const d=Pe().add(u),m=new Hh(Se.min(),new Map,new lt(Ve),c,d);await e2(s,m),s.du=s.du.remove(u),s.Au.delete(e),Wp(s)}else await $m(s.localStore,e,!1).then((()=>Zm(s,e,t))).catch(go)}async function L3(n,e){const t=Re(n),s=e.batch.batchId;try{const o=await H4(t.localStore,e);n2(t,s,null),t2(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await mu(t,o)}catch(o){await go(o)}}async function U3(n,e,t){const s=Re(n);try{const o=await(function(c,d){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(Ge(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);n2(s,e,t),t2(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await mu(s,o)}catch(o){await go(o)}}function t2(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function n2(n,e,t){const s=Re(n);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Zm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||i2(n,s)}))}function i2(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Fp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Wp(n))}function e1(n,e,t){for(const s of t)s instanceof WT?(n.Ru.addReference(s.key,e),z3(n,s)):s instanceof ZT?(fe(Xp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||i2(n,s.key)):Ae(19791,{wu:s})}function z3(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(fe(Xp,"New document in limbo: "+t),n.Eu.add(s),Wp(n))}function Wp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(nt.fromString(e)),s=n.fu.next();n.Au.set(s,new I3(t)),n.du=n.du.insert(t,s),GT(n.remoteStore,new jr(mi(Mp(t.path)),s,"TargetPurposeLimboResolution",Lh.ce))}}async function mu(n,e,t){const s=Re(n),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=jp.As(m.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(m,g){const _=Re(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(A=>ne.forEach(A.Es,(R=>_.persistence.referenceDelegate.addReference(T,A.targetId,R))).next((()=>ne.forEach(A.ds,(R=>_.persistence.referenceDelegate.removeReference(T,A.targetId,R)))))))))}catch(T){if(!yo(T))throw T;fe(qp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const R=_.Ms.get(A),x=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(x);_.Ms=_.Ms.insert(A,L)}}})(s.localStore,u))}async function B3(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){fe(Xp,"User change. New user:",e.toKey());const s=await jT(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(ee.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(t,s.Ls)}}function j3(n,e){const t=Re(n),s=t.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function r2(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k3.bind(null,e),e.Pu.H_=w3.bind(null,e.eventManager),e.Pu.yu=b3.bind(null,e.eventManager),e}function q3(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U3.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return F4(this.persistence,new B4,e.initialUser,this.serializer)}Cu(e){return new BT(Bp.mi,this.serializer)}Du(e){return new X4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class F3 extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new S4(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new BT((s=>bh.mi(s,t)),this.serializer)}}class Jm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Jv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B3.bind(null,this.syncEngine),await _3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E3})()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),s=(function(u){return new t3(u)})(e.databaseInfo);return(function(u,c,d,m){return new s3(u,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,d){return new o3(s,o,u,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Jv(this.syncEngine,t,0)),(function(){return Qv.v()?new Qv:new W4})())}createSyncEngine(e,t){return(function(o,u,c,d,m,g,_){const T=new x3(o,u,c,d,m,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Re(t);fe($s,"RemoteStore shutting down."),s.Ea.add(5),await du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class G3{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{fe(Zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Kp(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Zr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await jT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function t1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Y3(n);fe(Zr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>$v(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>$v(e.remoteStore,o))),n._onlineComponents=e}async function Y3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Zr,"Using user provided OfflineComponentProvider");try{await Tm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;no("Error using user provided cache. Falling back to memory cache: "+t),await Tm(n,new Rh)}}else fe(Zr,"Using default OfflineComponentProvider"),await Tm(n,new F3(void 0));return n._offlineComponents}async function s2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Zr,"Using user provided OnlineComponentProvider"),await t1(n,n._uninitializedComponentsProvider._online)):(fe(Zr,"Using default OnlineComponentProvider"),await t1(n,new Jm))),n._onlineComponents}function Q3(n){return s2(n).then((e=>e.syncEngine))}async function n1(n){const e=await s2(n),t=e.eventManager;return t.onListen=N3.bind(null,e.syncEngine),t.onUnlisten=M3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V3.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firestore.googleapis.com",r1=!0;class s1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o2,this.ssl=r1}else this.host=e.host,this.ssl=e.ssl??r1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w4)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new WI;switch(s.type){case"firstParty":return new tx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=i1.get(t);s&&(fe("ComponentProvider","Removing Datastore"),i1.delete(t),s.terminate())})(this),Promise.resolve()}}function K3(n,e,t,s={}){n=di(n,Kh);const o=ho(e),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(iE(`https://${d}`),rE("Firestore",!0)),u.host!==o2&&u.host!==d&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:s};if(!Hs(m,c)&&(n._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Xt.MOCK_USER;else{g=sS(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Xt(T)}n._authCredentials=new ZI(new WE(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class gt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(cu(t,gt._jsonSchema))return new gt(e,s||null,new ye(nt.fromString(t.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:wt("string",gt._jsonSchemaVersion),referencePath:wt("string")};class Yr extends Js{constructor(e,t,s){super(e,t,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ye(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function a1(n,e,...t){if(n=Nt(n),ZE("collection","path",e),n instanceof Kh){const s=nt.fromString(e,...t);return yv(s),new Yr(n,null,s)}{if(!(n instanceof gt||n instanceof Yr))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(nt.fromString(e,...t));return yv(s),new Yr(n.firestore,null,s)}}function Ch(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=Cp.newId()),ZE("doc","path",e),n instanceof Kh){const s=nt.fromString(e,...t);return gv(s),new gt(n,null,new ye(s))}{if(!(n instanceof gt||n instanceof Yr))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(nt.fromString(e,...t));return gv(s),new gt(n.firestore,n instanceof Yr?n.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="AsyncQueue";class l1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FT(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&fe(o1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;fe(o1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",u1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Qp.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:u1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function u1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Xs extends Kh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new l1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l1(e),this._firestoreClient=void 0,await e}}}function $3(n,e){const t=typeof n=="object"?n:lE(),s=typeof n=="string"?n:_h,o=pp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=iS("firestore");u&&K3(o,...u)}return o}function l2(n){if(n._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X3(n),n._firestoreClient}function X3(n){const e=n._freezeSettings(),t=(function(o,u,c,d){return new _x(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,a2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new G3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Gt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:wt("string",Mn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:wt("string",gi._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new yi(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:wt("string",yi._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=/^__.*__$/;class Z3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class u2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class Jp{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c2(this.Ac)&&W3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gh(e)}Cc(e,t,s,o=!1){return new Jp({Ac:e,methodName:t,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new J3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function h2(n,e,t,s,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,e,t,o);eg("Data must be an object, but it was:",c,s);const d=f2(s,c);let m,g;if(u.merge)m=new vn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const A=ep(e,T,t);if(!c.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);m2(_,A)||_.push(A)}m=new vn(_),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new Z3(new ln(d),m,g)}class Wh extends Zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function eN(n,e,t,s){const o=n.Cc(1,e,t);eg("Data must be an object, but it was:",o,s);const u=[],c=ln.empty();Jr(s,((m,g)=>{const _=tg(e,m,t);g=Nt(g);const T=o.yc(_);if(g instanceof Wh)u.push(_);else{const A=pu(g,T);A!=null&&(u.push(_),c.set(_,A))}}));const d=new vn(u);return new u2(c,d,o.fieldTransforms)}function tN(n,e,t,s,o,u){const c=n.Cc(1,e,t),d=[ep(e,s,t)],m=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(ep(e,u[A])),m.push(u[A+1]);const g=[],_=ln.empty();for(let A=d.length-1;A>=0;--A)if(!m2(g,d[A])){const R=d[A];let x=m[A];x=Nt(x);const L=c.yc(R);if(x instanceof Wh)g.push(R);else{const O=pu(x,L);O!=null&&(g.push(R),_.set(R,O))}}const T=new vn(g);return new u2(_,T,c.fieldTransforms)}function nN(n,e,t,s=!1){return pu(t,n.Cc(s?4:3,e))}function pu(n,e){if(d2(n=Nt(n)))return eg("Unsupported field value:",e,n),f2(n,e);if(n instanceof Zp)return(function(s,o){if(!c2(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let m=pu(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(n,e)}return(function(s,o){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:OT(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yi)return(function(c,d){return{mapValue:{fields:{[oT]:{stringValue:lT},[vh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Vp(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${kh(s)}`)})(n,e)}function f2(n,e){const t={};return tT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(n,((s,o)=>{const u=pu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function d2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof gi||n instanceof Mn||n instanceof gt||n instanceof Zp||n instanceof yi)}function eg(n,e,t){if(!d2(t)||!JE(t)){const s=kh(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function ep(n,e,t){if((e=Nt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return tg(n,e);throw Ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const iN=new RegExp("[~\\*/\\[\\]]");function tg(n,e,t){if(e.search(iN)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $h(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ih(n,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new he(ee.INVALID_ARGUMENT,d+n+m)}function m2(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rN extends p2{data(){return super.data()}}function Zh(n,e){return typeof e=="string"?tg(n,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class g2 extends ng{}function aN(n,e,...t){let s=[];e instanceof ng&&s.push(e),s=s.concat(t),(function(u){const c=u.filter((m=>m instanceof ig)).length,d=u.filter((m=>m instanceof Jh)).length;if(c>1||c>0&&d>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Jh extends g2{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Jh(e,t,s)}_apply(e){const t=this._parse(e);return y2(e._query,t),new Js(e.firestore,e.converter,Fm(e._query,t))}_parse(e){const t=Xh(e.firestore);return(function(u,c,d,m,g,_,T){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){f1(T,_);const x=[];for(const L of T)x.push(h1(m,u,L));A={arrayValue:{values:x}}}else A=h1(m,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||f1(T,_),A=nN(d,c,T,_==="in"||_==="not-in");return At.create(g,_,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oN(n,e,t){const s=e,o=Zh("where",n);return Jh._create(o,s,t)}class ig extends ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const m of d)y2(c,m),c=Fm(c,m)})(e._query,t),new Js(e.firestore,e.converter,Fm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends g2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rg(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,c)})(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new _o(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function lN(n,e="asc"){const t=e,s=Zh("orderBy",n);return rg._create(s,t)}function h1(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ye.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Sv(n,new ye(s))}if(t instanceof gt)return Sv(n,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function f1(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y2(n,e){const t=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uN{convertValue(e,t="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Jr(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[vh].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new yi(t)}convertGeoPoint(e){return new gi(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const t=Kr(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Ge(UT(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fs extends p2{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:wt("string",Fs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class rh extends Fs{data(e={}){return super.data(e)}}class eo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new rh(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ll(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ll(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:cN(d.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:wt("string",eo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class v2 extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}function hN(n,e,t){n=di(n,gt);const s=di(n.firestore,Xs),o=_2(n.converter,e);return ef(s,[h2(Xh(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Vn.none())])}function fN(n,e,t,...s){n=di(n,gt);const o=di(n.firestore,Xs),u=Xh(o);let c;return c=typeof(e=Nt(e))=="string"||e instanceof $h?tN(u,"updateDoc",n._key,e,t,s):eN(u,"updateDoc",n._key,e),ef(o,[c.toMutation(n._key,Vn.exists(!0))])}function dN(n){return ef(di(n.firestore,Xs),[new Pp(n._key,Vn.none())])}function mN(n,e){const t=di(n.firestore,Xs),s=Ch(n),o=_2(n.converter,e);return ef(t,[h2(Xh(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then((()=>s))}function pN(n,...e){n=Nt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||c1(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(c1(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let u,c,d;if(n instanceof gt)c=di(n.firestore,Xs),d=Mp(n._key.path),u={next:m=>{e[s]&&e[s](gN(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=di(n,Js);c=di(m.firestore,Xs),d=m._query;const g=new v2(c);u={next:_=>{e[s]&&e[s](new eo(c,g,m,_))},error:e[s+1],complete:e[s+2]},sN(n._query)}return(function(g,_,T,A){const R=new H3(A),x=new S3(_,R,T);return g.asyncQueue.enqueueAndForget((async()=>T3(await n1(g),x))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>A3(await n1(g),x)))}})(l2(c),d,o,u)}function ef(n,e){return(function(s,o){const u=new qs;return s.asyncQueue.enqueueAndForget((async()=>P3(await Q3(s),o,u))),u.promise})(l2(n),e)}function gN(n,e,t){const s=t.docs.get(e._key),o=new v2(n);return new Fs(n,o,e._key,s,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){po=o})(fo),to(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Xs(new JI(s.getProvider("auth-internal")),new nx(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:t,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Hr(fv,dv,e),Hr(fv,dv,"esm2020")})();function yN(n){return hp({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function Hl(n){let e=n[0],t=n[1],s=n[2];return Math.sqrt(e*e+t*t+s*s)}function tp(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function _N(n,e,t,s){return n[0]=e,n[1]=t,n[2]=s,n}function d1(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function m1(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function vN(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function EN(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function Am(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function TN(n,e){let t=e[0]-n[0],s=e[1]-n[1],o=e[2]-n[2];return Math.sqrt(t*t+s*s+o*o)}function AN(n,e){let t=e[0]-n[0],s=e[1]-n[1],o=e[2]-n[2];return t*t+s*s+o*o}function p1(n){let e=n[0],t=n[1],s=n[2];return e*e+t*t+s*s}function wN(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function bN(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function np(n,e){let t=e[0],s=e[1],o=e[2],u=t*t+s*s+o*o;return u>0&&(u=1/Math.sqrt(u)),n[0]=e[0]*u,n[1]=e[1]*u,n[2]=e[2]*u,n}function E2(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function g1(n,e,t){let s=e[0],o=e[1],u=e[2],c=t[0],d=t[1],m=t[2];return n[0]=o*m-u*d,n[1]=u*c-s*m,n[2]=s*d-o*c,n}function SN(n,e,t,s){let o=e[0],u=e[1],c=e[2];return n[0]=o+s*(t[0]-o),n[1]=u+s*(t[1]-u),n[2]=c+s*(t[2]-c),n}function RN(n,e,t,s,o){const u=Math.exp(-s*o);let c=e[0],d=e[1],m=e[2];return n[0]=t[0]+(c-t[0])*u,n[1]=t[1]+(d-t[1])*u,n[2]=t[2]+(m-t[2])*u,n}function CN(n,e,t){let s=e[0],o=e[1],u=e[2],c=t[3]*s+t[7]*o+t[11]*u+t[15];return c=c||1,n[0]=(t[0]*s+t[4]*o+t[8]*u+t[12])/c,n[1]=(t[1]*s+t[5]*o+t[9]*u+t[13])/c,n[2]=(t[2]*s+t[6]*o+t[10]*u+t[14])/c,n}function IN(n,e,t){let s=e[0],o=e[1],u=e[2],c=t[3]*s+t[7]*o+t[11]*u+t[15];return c=c||1,n[0]=(t[0]*s+t[4]*o+t[8]*u)/c,n[1]=(t[1]*s+t[5]*o+t[9]*u)/c,n[2]=(t[2]*s+t[6]*o+t[10]*u)/c,n}function xN(n,e,t){let s=e[0],o=e[1],u=e[2];return n[0]=s*t[0]+o*t[3]+u*t[6],n[1]=s*t[1]+o*t[4]+u*t[7],n[2]=s*t[2]+o*t[5]+u*t[8],n}function NN(n,e,t){let s=e[0],o=e[1],u=e[2],c=t[0],d=t[1],m=t[2],g=t[3],_=d*u-m*o,T=m*s-c*u,A=c*o-d*s,R=d*A-m*T,x=m*_-c*A,L=c*T-d*_,O=g*2;return _*=O,T*=O,A*=O,R*=2,x*=2,L*=2,n[0]=s+_+R,n[1]=o+T+x,n[2]=u+A+L,n}const DN=(function(){const n=[0,0,0],e=[0,0,0];return function(t,s){tp(n,t),tp(e,s),np(n,n),np(e,e);let o=E2(n,e);return o>1?0:o<-1?Math.PI:Math.acos(o)}})();function ON(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class Fn extends Array{constructor(e=0,t=e,s=e){return super(e,t,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,s=e){return e.length?this.copy(e):(_N(this,e,t,s),this)}copy(e){return tp(this,e),this}add(e,t){return t?d1(this,e,t):d1(this,this,e),this}sub(e,t){return t?m1(this,e,t):m1(this,this,e),this}multiply(e){return e.length?vN(this,this,e):Am(this,this,e),this}divide(e){return e.length?EN(this,this,e):Am(this,this,1/e),this}inverse(e=this){return bN(this,e),this}len(){return Hl(this)}distance(e){return e?TN(this,e):Hl(this)}squaredLen(){return p1(this)}squaredDistance(e){return e?AN(this,e):p1(this)}negate(e=this){return wN(this,e),this}cross(e,t){return t?g1(this,e,t):g1(this,this,e),this}scale(e){return Am(this,this,e),this}normalize(){return np(this,this),this}dot(e){return E2(this,e)}equals(e){return ON(this,e)}applyMatrix3(e){return xN(this,this,e),this}applyMatrix4(e){return CN(this,this,e),this}scaleRotateMatrix4(e){return IN(this,this,e),this}applyQuaternion(e){return NN(this,this,e),this}angle(e){return DN(this,e)}lerp(e,t){return SN(this,this,e,t),this}smoothLerp(e,t,s){return RN(this,this,e,t,s),this}clone(){return new Fn(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],s=this[1],o=this[2];return this[0]=e[0]*t+e[4]*s+e[8]*o,this[1]=e[1]*t+e[5]*s+e[9]*o,this[2]=e[2]*t+e[6]*s+e[10]*o,this.normalize()}}const y1=new Fn;let MN=1,VN=1,_1=!1;class PN{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=MN++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in t)this.addAttribute(s,t[s])}addAttribute(e,t){if(this.attributes[e]=t,t.id=VN++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:s,type:o})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const u=this.attributes[s];this.gl.bindBuffer(u.target,u.buffer),this.glState.boundBuffer=u.buffer;let c=1;o===35674&&(c=2),o===35675&&(c=3),o===35676&&(c=4);const d=u.size/c,m=c===1?0:c*c*4,g=c===1?0:c*4;for(let _=0;_<c;_++)this.gl.vertexAttribPointer(t+_,d,u.type,u.normalized,u.stride+m,u.offset+_*g),this.gl.enableVertexAttribArray(t+_),this.gl.renderer.vertexAttribDivisor(t+_,u.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((o,{name:u})=>{const c=this.attributes[u];c.needsUpdate&&this.updateAttribute(c)});let s=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!_1)return console.warn("No position buffer data found to compute bounds"),_1=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,s=e.size;this.bounds||(this.bounds={min:new Fn,max:new Fn,center:new Fn,scale:new Fn,radius:1/0});const o=this.bounds.min,u=this.bounds.max,c=this.bounds.center,d=this.bounds.scale;o.set(1/0),u.set(-1/0);for(let m=0,g=t.length;m<g;m+=s){const _=t[m],T=t[m+1],A=t[m+2];o.x=Math.min(_,o.x),o.y=Math.min(T,o.y),o.z=Math.min(A,o.z),u.x=Math.max(_,u.x),u.y=Math.max(T,u.y),u.z=Math.max(A,u.z)}d.sub(u,o),c.add(o,u).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,s=e.size;this.bounds||this.computeBoundingBox(e);let o=0;for(let u=0,c=t.length;u<c;u+=s)y1.fromArray(t,u),o=Math.max(o,this.bounds.center.squaredDistance(y1));this.bounds.radius=Math.sqrt(o)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let kN=1;const v1={};class LN{constructor(e,{vertex:t,fragment:s,uniforms:o={},transparent:u=!1,cullFace:c=e.BACK,frontFace:d=e.CCW,depthTest:m=!0,depthWrite:g=!0,depthFunc:_=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=o,this.id=kN++,t||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=u,this.cullFace=c,this.frontFace=d,this.depthTest=m,this.depthWrite=g,this.depthFunc=_,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:s})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${E1(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${E1(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let c=0;c<s;c++){let d=this.gl.getActiveUniform(this.program,c);this.uniformLocations.set(d,this.gl.getUniformLocation(this.program,d.name));const m=d.name.match(/(\w+)/g);d.uniformName=m[0],d.nameComponents=m.slice(1)}this.attributeLocations=new Map;const o=[],u=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let c=0;c<u;c++){const d=this.gl.getActiveAttrib(this.program,c),m=this.gl.getAttribLocation(this.program,d.name);m!==-1&&(o[m]=d.name,this.attributeLocations.set(d,m))}this.attributeOrder=o.join("")}setBlendFunc(e,t,s,o){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=o,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,s){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=s}setStencilOp(e,t,s){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=s}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((o,u)=>{let c=this.uniforms[u.uniformName];for(const d of u.nameComponents){if(!c)break;if(d in c)c=c[d];else{if(Array.isArray(c.value))break;c=void 0;break}}if(!c)return T1(`Active uniform ${u.name} has not been supplied`);if(c&&c.value===void 0)return T1(`${u.name} uniform is missing a value parameter`);if(c.value.texture)return t=t+1,c.value.update(t),wm(this.gl,u.type,o,t);if(c.value.length&&c.value[0].texture){const d=[];return c.value.forEach(m=>{t=t+1,m.update(t),d.push(t)}),wm(this.gl,u.type,o,d)}wm(this.gl,u.type,o,c.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function wm(n,e,t,s){s=s.length?UN(s):s;const o=n.renderer.state.uniformLocations.get(t);if(s.length)if(o===void 0||o.length!==s.length)n.renderer.state.uniformLocations.set(t,s.slice(0));else{if(zN(o,s))return;o.set?o.set(s):BN(o,s),n.renderer.state.uniformLocations.set(t,o)}else{if(o===s)return;n.renderer.state.uniformLocations.set(t,s)}switch(e){case 5126:return s.length?n.uniform1fv(t,s):n.uniform1f(t,s);case 35664:return n.uniform2fv(t,s);case 35665:return n.uniform3fv(t,s);case 35666:return n.uniform4fv(t,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?n.uniform1iv(t,s):n.uniform1i(t,s);case 35671:case 35667:return n.uniform2iv(t,s);case 35672:case 35668:return n.uniform3iv(t,s);case 35673:case 35669:return n.uniform4iv(t,s);case 35674:return n.uniformMatrix2fv(t,!1,s);case 35675:return n.uniformMatrix3fv(t,!1,s);case 35676:return n.uniformMatrix4fv(t,!1,s)}}function E1(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function UN(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const s=e*t;let o=v1[s];o||(v1[s]=o=new Float32Array(s));for(let u=0;u<e;u++)o.set(n[u],u*t);return o}function zN(n,e){if(n.length!==e.length)return!1;for(let t=0,s=n.length;t<s;t++)if(n[t]!==e[t])return!1;return!0}function BN(n,e){for(let t=0,s=n.length;t<s;t++)n[t]=e[t]}let bm=0;function T1(n){bm>100||(console.warn(n),bm++,bm>100&&console.warn("More than 100 program warnings - stopping logs."))}const Sm=new Fn;let jN=1;class qN{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:s=150,dpr:o=1,alpha:u=!1,depth:c=!0,stencil:d=!1,antialias:m=!1,premultipliedAlpha:g=!1,preserveDrawingBuffer:_=!1,powerPreference:T="default",autoClear:A=!0,webgl:R=2}={}){const x={alpha:u,depth:c,stencil:d,antialias:m,premultipliedAlpha:g,preserveDrawingBuffer:_,powerPreference:T};this.dpr=o,this.alpha=u,this.color=!0,this.depth=c,this.stencil=d,this.premultipliedAlpha=g,this.autoClear=A,this.id=jN++,R===2&&(this.gl=e.getContext("webgl2",x)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",x)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,s=0,o=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=s,this.state.viewport.y=o,this.gl.viewport(s,o,e,t))}setScissor(e,t,s=0,o=0){this.gl.scissor(s,o,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,s,o){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===o||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=o,s!==void 0?this.gl.blendFuncSeparate(e,t,s,o):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,s){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===s||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=s||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,s||0))}setStencilOp(e,t,s){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===s||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=s,this.gl.stencilOp(e,t,s))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,s){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][s].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:s,sort:o}){let u=[];if(t&&s&&t.updateFrustum(),e.traverse(c=>{if(!c.visible)return!0;c.draw&&(s&&c.frustumCulled&&t&&!t.frustumIntersectsMesh(c)||u.push(c))}),o){const c=[],d=[],m=[];u.forEach(g=>{g.program.transparent?g.program.depthTest?d.push(g):m.push(g):c.push(g),g.zDepth=0,!(g.renderOrder!==0||!g.program.depthTest||!t)&&(g.worldMatrix.getTranslation(Sm),Sm.applyMatrix4(t.projectionViewMatrix),g.zDepth=Sm.z)}),c.sort(this.sortOpaque),d.sort(this.sortTransparent),m.sort(this.sortUI),u=c.concat(d,m)}return u}render({scene:e,camera:t,target:s=null,update:o=!0,sort:u=!0,frustumCull:c=!0,clear:d}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(d||this.autoClear&&d!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!s||s.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),o&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:c,sort:u}).forEach(g=>{g.draw({camera:t})})}}function FN(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function HN(n,e,t,s,o){return n[0]=e,n[1]=t,n[2]=s,n[3]=o,n}function GN(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=t*t+s*s+o*o+u*u;return c>0&&(c=1/Math.sqrt(c)),n[0]=t*c,n[1]=s*c,n[2]=o*c,n[3]=u*c,n}function YN(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function QN(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function KN(n,e,t){t=t*.5;let s=Math.sin(t);return n[0]=s*e[0],n[1]=s*e[1],n[2]=s*e[2],n[3]=Math.cos(t),n}function A1(n,e,t){let s=e[0],o=e[1],u=e[2],c=e[3],d=t[0],m=t[1],g=t[2],_=t[3];return n[0]=s*_+c*d+o*g-u*m,n[1]=o*_+c*m+u*d-s*g,n[2]=u*_+c*g+s*m-o*d,n[3]=c*_-s*d-o*m-u*g,n}function $N(n,e,t){t*=.5;let s=e[0],o=e[1],u=e[2],c=e[3],d=Math.sin(t),m=Math.cos(t);return n[0]=s*m+c*d,n[1]=o*m+u*d,n[2]=u*m-o*d,n[3]=c*m-s*d,n}function XN(n,e,t){t*=.5;let s=e[0],o=e[1],u=e[2],c=e[3],d=Math.sin(t),m=Math.cos(t);return n[0]=s*m-u*d,n[1]=o*m+c*d,n[2]=u*m+s*d,n[3]=c*m-o*d,n}function WN(n,e,t){t*=.5;let s=e[0],o=e[1],u=e[2],c=e[3],d=Math.sin(t),m=Math.cos(t);return n[0]=s*m+o*d,n[1]=o*m-s*d,n[2]=u*m+c*d,n[3]=c*m-u*d,n}function ZN(n,e,t,s){let o=e[0],u=e[1],c=e[2],d=e[3],m=t[0],g=t[1],_=t[2],T=t[3],A,R,x,L,O;return R=o*m+u*g+c*_+d*T,R<0&&(R=-R,m=-m,g=-g,_=-_,T=-T),1-R>1e-6?(A=Math.acos(R),x=Math.sin(A),L=Math.sin((1-s)*A)/x,O=Math.sin(s*A)/x):(L=1-s,O=s),n[0]=L*o+O*m,n[1]=L*u+O*g,n[2]=L*c+O*_,n[3]=L*d+O*T,n}function JN(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=t*t+s*s+o*o+u*u,d=c?1/c:0;return n[0]=-t*d,n[1]=-s*d,n[2]=-o*d,n[3]=u*d,n}function eD(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function tD(n,e){let t=e[0]+e[4]+e[8],s;if(t>0)s=Math.sqrt(t+1),n[3]=.5*s,s=.5/s,n[0]=(e[5]-e[7])*s,n[1]=(e[6]-e[2])*s,n[2]=(e[1]-e[3])*s;else{let o=0;e[4]>e[0]&&(o=1),e[8]>e[o*3+o]&&(o=2);let u=(o+1)%3,c=(o+2)%3;s=Math.sqrt(e[o*3+o]-e[u*3+u]-e[c*3+c]+1),n[o]=.5*s,s=.5/s,n[3]=(e[u*3+c]-e[c*3+u])*s,n[u]=(e[u*3+o]+e[o*3+u])*s,n[c]=(e[c*3+o]+e[o*3+c])*s}return n}function nD(n,e,t="YXZ"){let s=Math.sin(e[0]*.5),o=Math.cos(e[0]*.5),u=Math.sin(e[1]*.5),c=Math.cos(e[1]*.5),d=Math.sin(e[2]*.5),m=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=s*c*m+o*u*d,n[1]=o*u*m-s*c*d,n[2]=o*c*d+s*u*m,n[3]=o*c*m-s*u*d):t==="YXZ"?(n[0]=s*c*m+o*u*d,n[1]=o*u*m-s*c*d,n[2]=o*c*d-s*u*m,n[3]=o*c*m+s*u*d):t==="ZXY"?(n[0]=s*c*m-o*u*d,n[1]=o*u*m+s*c*d,n[2]=o*c*d+s*u*m,n[3]=o*c*m-s*u*d):t==="ZYX"?(n[0]=s*c*m-o*u*d,n[1]=o*u*m+s*c*d,n[2]=o*c*d-s*u*m,n[3]=o*c*m+s*u*d):t==="YZX"?(n[0]=s*c*m+o*u*d,n[1]=o*u*m+s*c*d,n[2]=o*c*d-s*u*m,n[3]=o*c*m-s*u*d):t==="XZY"&&(n[0]=s*c*m-o*u*d,n[1]=o*u*m-s*c*d,n[2]=o*c*d+s*u*m,n[3]=o*c*m+s*u*d),n}const iD=FN,rD=HN,sD=YN,aD=GN;class oD extends Array{constructor(e=0,t=0,s=0,o=1){super(e,t,s,o),this.onChange=()=>{},this._target=this;const u=["0","1","2","3"];return new Proxy(this,{set(c,d){const m=Reflect.set(...arguments);return m&&u.includes(d)&&c.onChange(),m}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return QN(this._target),this.onChange(),this}set(e,t,s,o){return e.length?this.copy(e):(rD(this._target,e,t,s,o),this.onChange(),this)}rotateX(e){return $N(this._target,this._target,e),this.onChange(),this}rotateY(e){return XN(this._target,this._target,e),this.onChange(),this}rotateZ(e){return WN(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return JN(this._target,e),this.onChange(),this}conjugate(e=this._target){return eD(this._target,e),this.onChange(),this}copy(e){return iD(this._target,e),this.onChange(),this}normalize(e=this._target){return aD(this._target,e),this.onChange(),this}multiply(e,t){return t?A1(this._target,e,t):A1(this._target,this._target,e),this.onChange(),this}dot(e){return sD(this._target,e)}fromMatrix3(e){return tD(this._target,e),this.onChange(),this}fromEuler(e,t){return nD(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return KN(this._target,e,t),this.onChange(),this}slerp(e,t){return ZN(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const lD=1e-6;function uD(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function cD(n,e,t,s,o,u,c,d,m,g,_,T,A,R,x,L,O){return n[0]=e,n[1]=t,n[2]=s,n[3]=o,n[4]=u,n[5]=c,n[6]=d,n[7]=m,n[8]=g,n[9]=_,n[10]=T,n[11]=A,n[12]=R,n[13]=x,n[14]=L,n[15]=O,n}function hD(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function fD(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=e[4],d=e[5],m=e[6],g=e[7],_=e[8],T=e[9],A=e[10],R=e[11],x=e[12],L=e[13],O=e[14],j=e[15],K=t*d-s*c,X=t*m-o*c,se=t*g-u*c,re=s*m-o*d,oe=s*g-u*d,D=o*g-u*m,S=_*L-T*x,C=_*O-A*x,M=_*j-R*x,P=T*O-A*L,U=T*j-R*L,I=A*j-R*O,pe=K*I-X*U+se*P+re*M-oe*C+D*S;return pe?(pe=1/pe,n[0]=(d*I-m*U+g*P)*pe,n[1]=(o*U-s*I-u*P)*pe,n[2]=(L*D-O*oe+j*re)*pe,n[3]=(A*oe-T*D-R*re)*pe,n[4]=(m*M-c*I-g*C)*pe,n[5]=(t*I-o*M+u*C)*pe,n[6]=(O*se-x*D-j*X)*pe,n[7]=(_*D-A*se+R*X)*pe,n[8]=(c*U-d*M+g*S)*pe,n[9]=(s*M-t*U-u*S)*pe,n[10]=(x*oe-L*se+j*K)*pe,n[11]=(T*se-_*oe-R*K)*pe,n[12]=(d*C-c*P-m*S)*pe,n[13]=(t*P-s*C+o*S)*pe,n[14]=(L*X-x*re-O*K)*pe,n[15]=(_*re-T*X+A*K)*pe,n):null}function T2(n){let e=n[0],t=n[1],s=n[2],o=n[3],u=n[4],c=n[5],d=n[6],m=n[7],g=n[8],_=n[9],T=n[10],A=n[11],R=n[12],x=n[13],L=n[14],O=n[15],j=e*c-t*u,K=e*d-s*u,X=e*m-o*u,se=t*d-s*c,re=t*m-o*c,oe=s*m-o*d,D=g*x-_*R,S=g*L-T*R,C=g*O-A*R,M=_*L-T*x,P=_*O-A*x,U=T*O-A*L;return j*U-K*P+X*M+se*C-re*S+oe*D}function w1(n,e,t){let s=e[0],o=e[1],u=e[2],c=e[3],d=e[4],m=e[5],g=e[6],_=e[7],T=e[8],A=e[9],R=e[10],x=e[11],L=e[12],O=e[13],j=e[14],K=e[15],X=t[0],se=t[1],re=t[2],oe=t[3];return n[0]=X*s+se*d+re*T+oe*L,n[1]=X*o+se*m+re*A+oe*O,n[2]=X*u+se*g+re*R+oe*j,n[3]=X*c+se*_+re*x+oe*K,X=t[4],se=t[5],re=t[6],oe=t[7],n[4]=X*s+se*d+re*T+oe*L,n[5]=X*o+se*m+re*A+oe*O,n[6]=X*u+se*g+re*R+oe*j,n[7]=X*c+se*_+re*x+oe*K,X=t[8],se=t[9],re=t[10],oe=t[11],n[8]=X*s+se*d+re*T+oe*L,n[9]=X*o+se*m+re*A+oe*O,n[10]=X*u+se*g+re*R+oe*j,n[11]=X*c+se*_+re*x+oe*K,X=t[12],se=t[13],re=t[14],oe=t[15],n[12]=X*s+se*d+re*T+oe*L,n[13]=X*o+se*m+re*A+oe*O,n[14]=X*u+se*g+re*R+oe*j,n[15]=X*c+se*_+re*x+oe*K,n}function dD(n,e,t){let s=t[0],o=t[1],u=t[2],c,d,m,g,_,T,A,R,x,L,O,j;return e===n?(n[12]=e[0]*s+e[4]*o+e[8]*u+e[12],n[13]=e[1]*s+e[5]*o+e[9]*u+e[13],n[14]=e[2]*s+e[6]*o+e[10]*u+e[14],n[15]=e[3]*s+e[7]*o+e[11]*u+e[15]):(c=e[0],d=e[1],m=e[2],g=e[3],_=e[4],T=e[5],A=e[6],R=e[7],x=e[8],L=e[9],O=e[10],j=e[11],n[0]=c,n[1]=d,n[2]=m,n[3]=g,n[4]=_,n[5]=T,n[6]=A,n[7]=R,n[8]=x,n[9]=L,n[10]=O,n[11]=j,n[12]=c*s+_*o+x*u+e[12],n[13]=d*s+T*o+L*u+e[13],n[14]=m*s+A*o+O*u+e[14],n[15]=g*s+R*o+j*u+e[15]),n}function mD(n,e,t){let s=t[0],o=t[1],u=t[2];return n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n[3]=e[3]*s,n[4]=e[4]*o,n[5]=e[5]*o,n[6]=e[6]*o,n[7]=e[7]*o,n[8]=e[8]*u,n[9]=e[9]*u,n[10]=e[10]*u,n[11]=e[11]*u,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function pD(n,e,t,s){let o=s[0],u=s[1],c=s[2],d=Math.hypot(o,u,c),m,g,_,T,A,R,x,L,O,j,K,X,se,re,oe,D,S,C,M,P,U,I,pe,qe;return Math.abs(d)<lD?null:(d=1/d,o*=d,u*=d,c*=d,m=Math.sin(t),g=Math.cos(t),_=1-g,T=e[0],A=e[1],R=e[2],x=e[3],L=e[4],O=e[5],j=e[6],K=e[7],X=e[8],se=e[9],re=e[10],oe=e[11],D=o*o*_+g,S=u*o*_+c*m,C=c*o*_-u*m,M=o*u*_-c*m,P=u*u*_+g,U=c*u*_+o*m,I=o*c*_+u*m,pe=u*c*_-o*m,qe=c*c*_+g,n[0]=T*D+L*S+X*C,n[1]=A*D+O*S+se*C,n[2]=R*D+j*S+re*C,n[3]=x*D+K*S+oe*C,n[4]=T*M+L*P+X*U,n[5]=A*M+O*P+se*U,n[6]=R*M+j*P+re*U,n[7]=x*M+K*P+oe*U,n[8]=T*I+L*pe+X*qe,n[9]=A*I+O*pe+se*qe,n[10]=R*I+j*pe+re*qe,n[11]=x*I+K*pe+oe*qe,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function gD(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function A2(n,e){let t=e[0],s=e[1],o=e[2],u=e[4],c=e[5],d=e[6],m=e[8],g=e[9],_=e[10];return n[0]=Math.hypot(t,s,o),n[1]=Math.hypot(u,c,d),n[2]=Math.hypot(m,g,_),n}function yD(n){let e=n[0],t=n[1],s=n[2],o=n[4],u=n[5],c=n[6],d=n[8],m=n[9],g=n[10];const _=e*e+t*t+s*s,T=o*o+u*u+c*c,A=d*d+m*m+g*g;return Math.sqrt(Math.max(_,T,A))}const w2=(function(){const n=[1,1,1];return function(e,t){let s=n;A2(s,t);let o=1/s[0],u=1/s[1],c=1/s[2],d=t[0]*o,m=t[1]*u,g=t[2]*c,_=t[4]*o,T=t[5]*u,A=t[6]*c,R=t[8]*o,x=t[9]*u,L=t[10]*c,O=d+T+L,j=0;return O>0?(j=Math.sqrt(O+1)*2,e[3]=.25*j,e[0]=(A-x)/j,e[1]=(R-g)/j,e[2]=(m-_)/j):d>T&&d>L?(j=Math.sqrt(1+d-T-L)*2,e[3]=(A-x)/j,e[0]=.25*j,e[1]=(m+_)/j,e[2]=(R+g)/j):T>L?(j=Math.sqrt(1+T-d-L)*2,e[3]=(R-g)/j,e[0]=(m+_)/j,e[1]=.25*j,e[2]=(A+x)/j):(j=Math.sqrt(1+L-d-T)*2,e[3]=(m-_)/j,e[0]=(R+g)/j,e[1]=(A+x)/j,e[2]=.25*j),e}})();function _D(n,e,t,s){let o=Hl([n[0],n[1],n[2]]);const u=Hl([n[4],n[5],n[6]]),c=Hl([n[8],n[9],n[10]]);T2(n)<0&&(o=-o),t[0]=n[12],t[1]=n[13],t[2]=n[14];const m=n.slice(),g=1/o,_=1/u,T=1/c;m[0]*=g,m[1]*=g,m[2]*=g,m[4]*=_,m[5]*=_,m[6]*=_,m[8]*=T,m[9]*=T,m[10]*=T,w2(e,m),s[0]=o,s[1]=u,s[2]=c}function vD(n,e,t,s){const o=n,u=e[0],c=e[1],d=e[2],m=e[3],g=u+u,_=c+c,T=d+d,A=u*g,R=u*_,x=u*T,L=c*_,O=c*T,j=d*T,K=m*g,X=m*_,se=m*T,re=s[0],oe=s[1],D=s[2];return o[0]=(1-(L+j))*re,o[1]=(R+se)*re,o[2]=(x-X)*re,o[3]=0,o[4]=(R-se)*oe,o[5]=(1-(A+j))*oe,o[6]=(O+K)*oe,o[7]=0,o[8]=(x+X)*D,o[9]=(O-K)*D,o[10]=(1-(A+L))*D,o[11]=0,o[12]=t[0],o[13]=t[1],o[14]=t[2],o[15]=1,o}function ED(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=t+t,d=s+s,m=o+o,g=t*c,_=s*c,T=s*d,A=o*c,R=o*d,x=o*m,L=u*c,O=u*d,j=u*m;return n[0]=1-T-x,n[1]=_+j,n[2]=A-O,n[3]=0,n[4]=_-j,n[5]=1-g-x,n[6]=R+L,n[7]=0,n[8]=A+O,n[9]=R-L,n[10]=1-g-T,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function TD(n,e,t,s,o){let u=1/Math.tan(e/2),c=1/(s-o);return n[0]=u/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=u,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(o+s)*c,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*o*s*c,n[15]=0,n}function AD(n,e,t,s,o,u,c){let d=1/(e-t),m=1/(s-o),g=1/(u-c);return n[0]=-2*d,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*m,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*g,n[11]=0,n[12]=(e+t)*d,n[13]=(o+s)*m,n[14]=(c+u)*g,n[15]=1,n}function wD(n,e,t,s){let o=e[0],u=e[1],c=e[2],d=s[0],m=s[1],g=s[2],_=o-t[0],T=u-t[1],A=c-t[2],R=_*_+T*T+A*A;R===0?A=1:(R=1/Math.sqrt(R),_*=R,T*=R,A*=R);let x=m*A-g*T,L=g*_-d*A,O=d*T-m*_;return R=x*x+L*L+O*O,R===0&&(g?d+=1e-6:m?g+=1e-6:m+=1e-6,x=m*A-g*T,L=g*_-d*A,O=d*T-m*_,R=x*x+L*L+O*O),R=1/Math.sqrt(R),x*=R,L*=R,O*=R,n[0]=x,n[1]=L,n[2]=O,n[3]=0,n[4]=T*O-A*L,n[5]=A*x-_*O,n[6]=_*L-T*x,n[7]=0,n[8]=_,n[9]=T,n[10]=A,n[11]=0,n[12]=o,n[13]=u,n[14]=c,n[15]=1,n}function b1(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function S1(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function bD(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}class xh extends Array{constructor(e=1,t=0,s=0,o=0,u=0,c=1,d=0,m=0,g=0,_=0,T=1,A=0,R=0,x=0,L=0,O=1){return super(e,t,s,o,u,c,d,m,g,_,T,A,R,x,L,O),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,s,o,u,c,d,m,g,_,T,A,R,x,L,O){return e.length?this.copy(e):(cD(this,e,t,s,o,u,c,d,m,g,_,T,A,R,x,L,O),this)}translate(e,t=this){return dD(this,t,e),this}rotate(e,t,s=this){return pD(this,s,e,t),this}scale(e,t=this){return mD(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?b1(this,e,t):b1(this,this,e),this}sub(e,t){return t?S1(this,e,t):S1(this,this,e),this}multiply(e,t){return e.length?t?w1(this,e,t):w1(this,this,e):bD(this,this,e),this}identity(){return hD(this),this}copy(e){return uD(this,e),this}fromPerspective({fov:e,aspect:t,near:s,far:o}={}){return TD(this,e,t,s,o),this}fromOrthogonal({left:e,right:t,bottom:s,top:o,near:u,far:c}){return AD(this,e,t,s,o,u,c),this}fromQuaternion(e){return ED(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return fD(this,e),this}compose(e,t,s){return vD(this,e,t,s),this}decompose(e,t,s){return _D(this,e,t,s),this}getRotation(e){return w2(e,this),this}getTranslation(e){return gD(e,this),this}getScaling(e){return A2(e,this),this}getMaxScaleOnAxis(){return yD(this)}lookAt(e,t,s){return wD(this,e,t,s),this}determinant(){return T2(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function SD(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const R1=new xh;class RD extends Array{constructor(e=0,t=e,s=e,o="YXZ"){super(e,t,s),this.order=o,this.onChange=()=>{},this._target=this;const u=["0","1","2"];return new Proxy(this,{set(c,d){const m=Reflect.set(...arguments);return m&&u.includes(d)&&c.onChange(),m}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,s=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=s,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return SD(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,s){return R1.fromQuaternion(e),this._target.fromRotationMatrix(R1,t),s||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class CD{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new xh,this.worldMatrix=new xh,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Fn,this.quaternion=new oD,this.scale=new Fn(1),this.rotation=new RD,this.up=new Fn(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,s=this.children.length;t<s;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,s=this.children.length;t<s;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function ID(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function xD(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=t+t,d=s+s,m=o+o,g=t*c,_=s*c,T=s*d,A=o*c,R=o*d,x=o*m,L=u*c,O=u*d,j=u*m;return n[0]=1-T-x,n[3]=_-j,n[6]=A+O,n[1]=_+j,n[4]=1-g-x,n[7]=R-L,n[2]=A-O,n[5]=R+L,n[8]=1-g-T,n}function ND(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function DD(n,e,t,s,o,u,c,d,m,g){return n[0]=e,n[1]=t,n[2]=s,n[3]=o,n[4]=u,n[5]=c,n[6]=d,n[7]=m,n[8]=g,n}function OD(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function MD(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=e[4],d=e[5],m=e[6],g=e[7],_=e[8],T=_*c-d*g,A=-_*u+d*m,R=g*u-c*m,x=t*T+s*A+o*R;return x?(x=1/x,n[0]=T*x,n[1]=(-_*s+o*g)*x,n[2]=(d*s-o*c)*x,n[3]=A*x,n[4]=(_*t-o*m)*x,n[5]=(-d*t+o*u)*x,n[6]=R*x,n[7]=(-g*t+s*m)*x,n[8]=(c*t-s*u)*x,n):null}function C1(n,e,t){let s=e[0],o=e[1],u=e[2],c=e[3],d=e[4],m=e[5],g=e[6],_=e[7],T=e[8],A=t[0],R=t[1],x=t[2],L=t[3],O=t[4],j=t[5],K=t[6],X=t[7],se=t[8];return n[0]=A*s+R*c+x*g,n[1]=A*o+R*d+x*_,n[2]=A*u+R*m+x*T,n[3]=L*s+O*c+j*g,n[4]=L*o+O*d+j*_,n[5]=L*u+O*m+j*T,n[6]=K*s+X*c+se*g,n[7]=K*o+X*d+se*_,n[8]=K*u+X*m+se*T,n}function VD(n,e,t){let s=e[0],o=e[1],u=e[2],c=e[3],d=e[4],m=e[5],g=e[6],_=e[7],T=e[8],A=t[0],R=t[1];return n[0]=s,n[1]=o,n[2]=u,n[3]=c,n[4]=d,n[5]=m,n[6]=A*s+R*c+g,n[7]=A*o+R*d+_,n[8]=A*u+R*m+T,n}function PD(n,e,t){let s=e[0],o=e[1],u=e[2],c=e[3],d=e[4],m=e[5],g=e[6],_=e[7],T=e[8],A=Math.sin(t),R=Math.cos(t);return n[0]=R*s+A*c,n[1]=R*o+A*d,n[2]=R*u+A*m,n[3]=R*c-A*s,n[4]=R*d-A*o,n[5]=R*m-A*u,n[6]=g,n[7]=_,n[8]=T,n}function kD(n,e,t){let s=t[0],o=t[1];return n[0]=s*e[0],n[1]=s*e[1],n[2]=s*e[2],n[3]=o*e[3],n[4]=o*e[4],n[5]=o*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function LD(n,e){let t=e[0],s=e[1],o=e[2],u=e[3],c=e[4],d=e[5],m=e[6],g=e[7],_=e[8],T=e[9],A=e[10],R=e[11],x=e[12],L=e[13],O=e[14],j=e[15],K=t*d-s*c,X=t*m-o*c,se=t*g-u*c,re=s*m-o*d,oe=s*g-u*d,D=o*g-u*m,S=_*L-T*x,C=_*O-A*x,M=_*j-R*x,P=T*O-A*L,U=T*j-R*L,I=A*j-R*O,pe=K*I-X*U+se*P+re*M-oe*C+D*S;return pe?(pe=1/pe,n[0]=(d*I-m*U+g*P)*pe,n[1]=(m*M-c*I-g*C)*pe,n[2]=(c*U-d*M+g*S)*pe,n[3]=(o*U-s*I-u*P)*pe,n[4]=(t*I-o*M+u*C)*pe,n[5]=(s*M-t*U-u*S)*pe,n[6]=(L*D-O*oe+j*re)*pe,n[7]=(O*se-x*D-j*X)*pe,n[8]=(x*oe-L*se+j*K)*pe,n):null}class UD extends Array{constructor(e=1,t=0,s=0,o=0,u=1,c=0,d=0,m=0,g=1){return super(e,t,s,o,u,c,d,m,g),this}set(e,t,s,o,u,c,d,m,g){return e.length?this.copy(e):(DD(this,e,t,s,o,u,c,d,m,g),this)}translate(e,t=this){return VD(this,t,e),this}rotate(e,t=this){return PD(this,t,e),this}scale(e,t=this){return kD(this,t,e),this}multiply(e,t){return t?C1(this,e,t):C1(this,this,e),this}identity(){return OD(this),this}copy(e){return ND(this,e),this}fromMatrix4(e){return ID(this,e),this}fromQuaternion(e){return xD(this,e),this}fromBasis(e,t,s){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],s[0],s[1],s[2]),this}inverse(e=this){return MD(this,e),this}getNormalMatrix(e){return LD(this,e),this}}let zD=0;class BD extends CD{constructor(e,{geometry:t,program:s,mode:o=e.TRIANGLES,frustumCulled:u=!0,renderOrder:c=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=zD++,this.geometry=t,this.program=s,this.mode=o,this.frustumCulled=u,this.renderOrder=c,this.modelViewMatrix=new xh,this.normalMatrix=new UD,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}))}}const I1={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function x1(n){n.length===4&&(n=n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e||console.warn(`Unable to convert hex string ${n} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function jD(n){return n=parseInt(n),[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function N1(n){return n===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(n)?n[0]==="#"?x1(n):I1[n.toLowerCase()]?x1(I1[n.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):jD(n)}class D1 extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...N1(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(N1(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class qD extends PN{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const FD=`
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`,HD=`
precision highp float;

uniform float uTime;
uniform vec3 uResolution;
uniform vec2 uFocal;
uniform vec2 uRotation;
uniform float uStarSpeed;
uniform float uDensity;
uniform float uHueShift;
uniform float uSpeed;
uniform vec2 uMouse;
uniform float uGlowIntensity;
uniform float uSaturation;
uniform bool uMouseRepulsion;
uniform float uTwinkleIntensity;
uniform float uRotationSpeed;
uniform float uRepulsionStrength;
uniform float uMouseActiveFactor;
uniform float uAutoCenterRepulsion;
uniform bool uTransparent;

varying vec2 vUv;

#define NUM_LAYER 4.0
#define STAR_COLOR_CUTOFF 0.2
#define MAT45 mat2(0.7071, -0.7071, 0.7071, 0.7071)
#define PERIOD 3.0

float Hash21(vec2 p) {
  p = fract(p * vec2(123.34, 456.21));
  p += dot(p, p + 45.32);
  return fract(p.x * p.y);
}

float tri(float x) {
  return abs(fract(x) * 2.0 - 1.0);
}

float tris(float x) {
  float t = fract(x);
  return 1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0));
}

float trisn(float x) {
  float t = fract(x);
  return 2.0 * (1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0))) - 1.0;
}

vec3 hsv2rgb(vec3 c) {
  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

float Star(vec2 uv, float flare) {
  float d = length(uv);
  float m = (0.05 * uGlowIntensity) / d;
  float rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * flare * uGlowIntensity;
  uv *= MAT45;
  rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * 0.3 * flare * uGlowIntensity;
  m *= smoothstep(1.0, 0.2, d);
  return m;
}

vec3 StarLayer(vec2 uv) {
  vec3 col = vec3(0.0);

  vec2 gv = fract(uv) - 0.5; 
  vec2 id = floor(uv);

  for (int y = -1; y <= 1; y++) {
    for (int x = -1; x <= 1; x++) {
      vec2 offset = vec2(float(x), float(y));
      vec2 si = id + vec2(float(x), float(y));
      float seed = Hash21(si);
      float size = fract(seed * 345.32);
      float glossLocal = tri(uStarSpeed / (PERIOD * seed + 1.0));
      float flareSize = smoothstep(0.9, 1.0, size) * glossLocal;

      float red = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 1.0)) + STAR_COLOR_CUTOFF;
      float blu = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 3.0)) + STAR_COLOR_CUTOFF;
      float grn = min(red, blu) * seed;
      vec3 base = vec3(red, grn, blu);
      
      float hue = atan(base.g - base.r, base.b - base.r) / (2.0 * 3.14159) + 0.5;
      hue = fract(hue + uHueShift / 360.0);
      float sat = length(base - vec3(dot(base, vec3(0.299, 0.587, 0.114)))) * uSaturation;
      float val = max(max(base.r, base.g), base.b);
      base = hsv2rgb(vec3(hue, sat, val));

      vec2 pad = vec2(tris(seed * 34.0 + uTime * uSpeed / 10.0), tris(seed * 38.0 + uTime * uSpeed / 30.0)) - 0.5;

      float star = Star(gv - offset - pad, flareSize);
      vec3 color = base;

      float twinkle = trisn(uTime * uSpeed + seed * 6.2831) * 0.5 + 1.0;
      twinkle = mix(1.0, twinkle, uTwinkleIntensity);
      star *= twinkle;
      
      col += star * size * color;
    }
  }

  return col;
}

void main() {
  vec2 focalPx = uFocal * uResolution.xy;
  vec2 uv = (vUv * uResolution.xy - focalPx) / uResolution.y;

  vec2 mouseNorm = uMouse - vec2(0.5);
  
  if (uAutoCenterRepulsion > 0.0) {
    vec2 centerUV = vec2(0.0, 0.0);
    float centerDist = length(uv - centerUV);
    vec2 repulsion = normalize(uv - centerUV) * (uAutoCenterRepulsion / (centerDist + 0.1));
    uv += repulsion * 0.05;
  } else if (uMouseRepulsion) {
    vec2 mousePosUV = (uMouse * uResolution.xy - focalPx) / uResolution.y;
    float mouseDist = length(uv - mousePosUV);
    vec2 repulsion = normalize(uv - mousePosUV) * (uRepulsionStrength / (mouseDist + 0.1));
    uv += repulsion * 0.05 * uMouseActiveFactor;
  } else {
    vec2 mouseOffset = mouseNorm * 0.1 * uMouseActiveFactor;
    uv += mouseOffset;
  }

  float autoRotAngle = uTime * uRotationSpeed;
  mat2 autoRot = mat2(cos(autoRotAngle), -sin(autoRotAngle), sin(autoRotAngle), cos(autoRotAngle));
  uv = autoRot * uv;

  uv = mat2(uRotation.x, -uRotation.y, uRotation.y, uRotation.x) * uv;

  vec3 col = vec3(0.0);

  for (float i = 0.0; i < 1.0; i += 1.0 / NUM_LAYER) {
    float depth = fract(i + uStarSpeed * uSpeed);
    float scale = mix(20.0 * uDensity, 0.5 * uDensity, depth);
    float fade = depth * smoothstep(1.0, 0.9, depth);
    col += StarLayer(uv * scale + i * 453.32) * fade;
  }

  if (uTransparent) {
    float alpha = length(col);
    alpha = smoothstep(0.0, 0.3, alpha);
    alpha = min(alpha, 1.0);
    gl_FragColor = vec4(col, alpha);
  } else {
    gl_FragColor = vec4(col, 1.0);
  }
}
`;function GD({focal:n=[.5,.5],rotation:e=[1,0],starSpeed:t=.5,density:s=1,hueShift:o=140,disableAnimation:u=!1,speed:c=1,mouseInteraction:d=!0,glowIntensity:m=.3,saturation:g=0,mouseRepulsion:_=!0,repulsionStrength:T=2,twinkleIntensity:A=.3,rotationSpeed:R=.1,autoCenterRepulsion:x=0,transparent:L=!0,...O}){const j=Q.useRef(null),K=Q.useRef({x:.5,y:.5}),X=Q.useRef({x:.5,y:.5}),se=Q.useRef(0),re=Q.useRef(0);return Q.useEffect(()=>{if(!j.current)return;const oe=j.current,D=new qN({alpha:L,premultipliedAlpha:!1}),S=D.gl;L?(S.enable(S.BLEND),S.blendFunc(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA),S.clearColor(0,0,0,0)):S.clearColor(0,0,0,1);let C;function M(){D.setSize(oe.offsetWidth*1,oe.offsetHeight*1),C&&(C.uniforms.uResolution.value=new D1(S.canvas.width,S.canvas.height,S.canvas.width/S.canvas.height))}window.addEventListener("resize",M,!1),M();const P=new qD(S);C=new LN(S,{vertex:FD,fragment:HD,uniforms:{uTime:{value:0},uResolution:{value:new D1(S.canvas.width,S.canvas.height,S.canvas.width/S.canvas.height)},uFocal:{value:new Float32Array(n)},uRotation:{value:new Float32Array(e)},uStarSpeed:{value:t},uDensity:{value:s},uHueShift:{value:o},uSpeed:{value:c},uMouse:{value:new Float32Array([X.current.x,X.current.y])},uGlowIntensity:{value:m},uSaturation:{value:g},uMouseRepulsion:{value:_},uTwinkleIntensity:{value:A},uRotationSpeed:{value:R},uRepulsionStrength:{value:T},uMouseActiveFactor:{value:0},uAutoCenterRepulsion:{value:x},uTransparent:{value:L}}});const U=new BD(S,{geometry:P,program:C});let I;function pe(le){I=requestAnimationFrame(pe),u||(C.uniforms.uTime.value=le*.001,C.uniforms.uStarSpeed.value=le*.001*t/10);const de=.05;X.current.x+=(K.current.x-X.current.x)*de,X.current.y+=(K.current.y-X.current.y)*de,re.current+=(se.current-re.current)*de,C.uniforms.uMouse.value[0]=X.current.x,C.uniforms.uMouse.value[1]=X.current.y,C.uniforms.uMouseActiveFactor.value=re.current,D.render({scene:U})}I=requestAnimationFrame(pe),oe.appendChild(S.canvas);function qe(le){const de=oe.getBoundingClientRect(),Be=(le.clientX-de.left)/de.width,V=1-(le.clientY-de.top)/de.height;K.current={x:Be,y:V},se.current=1}function W(){se.current=0}return d&&(oe.addEventListener("mousemove",qe),oe.addEventListener("mouseleave",W)),()=>{cancelAnimationFrame(I),window.removeEventListener("resize",M),d&&(oe.removeEventListener("mousemove",qe),oe.removeEventListener("mouseleave",W)),oe.removeChild(S.canvas),S.getExtension("WEBGL_lose_context")?.loseContext()}},[n,e,t,s,o,u,c,d,m,g,_,A,R,T,x,L]),H.jsx("div",{ref:j,className:"w-full h-full relative",...O})}const YD=({onNavigate:n,auth:e,db:t,user:s,userId:o,onLogout:u})=>{const[c,d]=Q.useState(!1),[m,g]=Q.useState(""),[_,T]=Q.useState(""),[A,R]=Q.useState(""),[x,L]=Q.useState(""),[O,j]=Q.useState(""),[K,X]=Q.useState(!1);Q.useEffect(()=>{L(""),j("")},[c,K]);const se=async D=>{D.preventDefault(),L(""),j("");try{if(c){const S=await MC(e,m,_),C=Ch(t,`users/${S.user.uid}/profile`);await hN(C,{name:A,email:m,created:new Date}),j("Registration successful! You are now logged in.")}else await VC(e,m,_),j("Login successful!")}catch(S){L(S.message)}},re=async()=>{L(""),j("");try{const D=new Qi;await rI(e,D),j("Signed in with Google successfully!")}catch(D){L(D.message)}},oe=async()=>{L(""),j("");try{await OC(e,m),j("Password reset email sent! Check your inbox."),X(!1),g("")}catch(D){L(D.message)}};return H.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",style:{background:"black"},children:[H.jsx("div",{className:"absolute inset-0 z-0",children:H.jsx(GD,{mouseRepulsion:!0,mouseInteraction:!0,density:1.5,glowIntensity:.5,saturation:.8,hueShift:240})}),H.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:H.jsx("div",{className:"w-full max-w-md bg-transparent border border-white border-opacity-60 p-8 rounded-2xl shadow-2xl backdrop-blur-md space-y-6",children:s?H.jsxs(H.Fragment,{children:[H.jsx("svg",{className:"text-indigo-500 w-16 h-16 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:H.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),H.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Welcome!"}),H.jsx("p",{className:"text-gray-200 text-center",children:"You are logged in as:"}),H.jsx("p",{className:"text-indigo-300 font-mono break-words text-sm text-center",children:s.email}),H.jsxs("div",{className:"w-full text-left text-sm text-gray-300",children:[H.jsx("p",{className:"font-semibold",children:"Your User ID:"}),H.jsx("p",{className:"font-mono break-all mt-1",children:o})]}),H.jsx("button",{onClick:u,className:"w-full bg-red-500 text-white font-semibold py-3 px-4 rounded-lg hover:bg-red-600 transition-colors duration-200",children:"Logout"})]}):H.jsxs(H.Fragment,{children:[H.jsx("h1",{className:"text-3xl font-bold text-center text-white",children:c?"Create Account":K?"Reset Password":"Welcome Back"}),x&&H.jsx("p",{className:"bg-red-100 bg-opacity-80 text-red-700 p-3 rounded-lg text-sm text-center",children:x}),O&&H.jsx("p",{className:"bg-green-100 bg-opacity-80 text-green-700 p-3 rounded-lg text-sm text-center",children:O}),H.jsxs("form",{onSubmit:se,className:"space-y-4",children:[c&&H.jsxs("div",{className:"relative",children:[H.jsx("input",{type:"text",value:A,onChange:D=>R(D.target.value),placeholder:"Name",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white bg-opacity-70 text-black",required:!0}),H.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:H.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})})]}),H.jsxs("div",{className:"relative",children:[H.jsx("input",{type:"email",value:m,onChange:D=>g(D.target.value),placeholder:"Email",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white bg-opacity-70 text-black",required:!0}),H.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[H.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),H.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})]}),!K&&H.jsxs("div",{className:"relative",children:[H.jsx("input",{type:"password",value:_,onChange:D=>T(D.target.value),placeholder:"Password",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white bg-opacity-70 text-black",required:!0}),H.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:H.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2h2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2h2zm2-2a3 3 0 116 0v2H7V7zm6 3a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})]}),H.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-200",children:[!K&&H.jsxs("label",{className:"flex items-center cursor-pointer",children:[H.jsx("input",{type:"checkbox",className:"form-checkbox text-indigo-600 rounded-sm"}),H.jsx("span",{className:"ml-2",children:"Remember me"})]}),H.jsx("button",{type:"button",onClick:()=>X(!K),className:"text-indigo-300 hover:underline",children:K?"Back to Login":"Forgot your password?"})]}),K?H.jsx("button",{type:"button",onClick:oe,className:"w-full bg-indigo-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:"Send Reset Email"}):H.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:c?"Register":"Login"})]}),H.jsxs("div",{className:"relative flex items-center py-2",children:[H.jsx("div",{className:"flex-grow border-t border-gray-300"}),H.jsx("span",{className:"flex-shrink mx-4 text-gray-300 text-sm",children:"Or"}),H.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),H.jsxs("button",{onClick:re,className:"w-full bg-white bg-opacity-80 border border-gray-300 text-gray-700 font-semibold py-3 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-50 transition-colors duration-200",children:[H.jsx(yN,{className:"w-5 h-5"}),H.jsx("span",{children:"Login with Google"})]}),H.jsx("div",{className:"text-center text-sm text-gray-200 mt-4",children:H.jsx("p",{children:c?H.jsxs(H.Fragment,{children:["Already have an account?"," ",H.jsx("button",{onClick:()=>d(!1),className:"text-indigo-300 hover:underline font-semibold",children:"Login"})]}):H.jsxs(H.Fragment,{children:["Don't have an account?"," ",H.jsx("button",{onClick:()=>d(!0),className:"text-indigo-300 hover:underline font-semibold",children:"Register"})]})})})]})})})]})},QD=({user:n,db:e})=>{const[t,s]=Q.useState(""),[o,u]=Q.useState([]),[c,d]=Q.useState(null),[m,g]=Q.useState("");Q.useEffect(()=>{if(!n)return;const R=aN(a1(e,"journalNotes"),oN("uid","==",n.uid),lN("updatedAt","desc")),x=pN(R,L=>{u(L.docs.map(O=>({id:O.id,...O.data()})))});return()=>x()},[n,e]);const _=async R=>{R.preventDefault(),t.trim()&&(await mN(a1(e,"journalNotes"),{uid:n.uid,text:t,createdAt:new Date,updatedAt:new Date}),s(""))},T=async R=>{await fN(Ch(e,"journalNotes",R),{text:m,updatedAt:new Date}),d(null),g("")},A=async R=>{await dN(Ch(e,"journalNotes",R))};return n?H.jsxs("div",{className:"min-h-screen w-full bg-[#181a1b] flex flex-col items-center pt-36 pb-12 px-2",children:[H.jsxs("div",{className:"w-full max-w-2xl bg-white/10 border border-white border-opacity-20 rounded-3xl shadow-2xl backdrop-blur-md p-8 mb-10",children:[H.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-2 tracking-tight drop-shadow",children:"My Journal"}),H.jsx("div",{className:"flex justify-center mb-6",children:H.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full"})}),H.jsxs("form",{onSubmit:_,className:"flex flex-col space-y-4",children:[H.jsx("textarea",{className:"w-full h-32 p-4 rounded-xl bg-[#23272e]/80 text-white border border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none shadow-inner placeholder-gray-400",placeholder:"Write your thoughts here...",value:t,onChange:R=>s(R.target.value),required:!0}),H.jsx("button",{type:"submit",className:"self-end bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-8 py-2 rounded-xl font-semibold shadow-lg hover:scale-105 hover:from-indigo-600 hover:to-purple-700 transition-all",children:"Save Note"})]})]}),H.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[o.length===0&&H.jsx("div",{className:"text-gray-400 text-center",children:"No notes yet. Start writing your first diary entry!"}),o.map(R=>H.jsx("div",{className:"bg-white/10 border border-white border-opacity-10 rounded-2xl p-6 shadow-xl backdrop-blur-md transition hover:shadow-2xl hover:bg-white/20 group",children:c===R.id?H.jsxs(H.Fragment,{children:[H.jsx("textarea",{className:"w-full h-24 p-3 rounded-xl bg-[#23272e]/80 text-white border border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none shadow-inner",value:m,onChange:x=>g(x.target.value)}),H.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[H.jsx("button",{onClick:()=>{d(null),g("")},className:"px-5 py-1.5 rounded-lg bg-gray-600/80 text-white hover:bg-gray-700/90 transition",children:"Cancel"}),H.jsx("button",{onClick:()=>T(R.id),className:"px-5 py-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold hover:from-indigo-600 hover:to-purple-700 transition",children:"Save"})]})]}):H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"whitespace-pre-wrap text-white text-lg mb-2",children:R.text}),H.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-300 mt-2",children:[H.jsxs("span",{children:["Last edited: ",R.updatedAt?.toDate?R.updatedAt.toDate().toLocaleString():""]}),H.jsxs("div",{className:"flex gap-2 opacity-80 group-hover:opacity-100 transition",children:[H.jsx("button",{onClick:()=>{d(R.id),g(R.text)},className:"px-4 py-1 rounded-lg bg-indigo-500 text-white hover:bg-indigo-600 text-xs font-semibold transition",children:"Edit"}),H.jsx("button",{onClick:()=>A(R.id),className:"px-4 py-1 rounded-lg bg-red-500 text-white hover:bg-red-600 text-xs font-semibold transition",children:"Delete"})]})]})]})},R.id))]})]}):H.jsx("div",{className:"flex items-center justify-center min-h-screen w-full bg-[#181a1b] pt-32",children:H.jsx("div",{className:"text-2xl text-white font-semibold bg-black/60 px-8 py-6 rounded-xl shadow-lg",children:"Please login first to access your personal journal."})})};var KD="firebase",$D="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(KD,$D,"app");const XD={apiKey:"AIzaSyAU6UWpw5nU7As9F7S5azpvOhzVSkksx88",authDomain:"gen-ai-596a5.firebaseapp.com",projectId:"gen-ai-596a5",storageBucket:"gen-ai-596a5.firebasestorage.app",messagingSenderId:"275734473351",appId:"1:275734473351:web:a60403485f41d2a163e622",measurementId:"G-SBSR5BT8J6"},b2=oE(XD),Rm=$I(b2),O1=$3(b2);function WD(){const[n,e]=Q.useState(null);Q.useEffect(()=>{const u=LC(Rm,c=>{e(c)});return()=>u()},[]);const t=n?n.uid:null,s=()=>UC(Rm);function o(){let c=ir().pathname.replace("/","")||"journal";return H.jsx(Ub,{currentPage:c,user:n})}return H.jsxs(vb,{children:[H.jsx(o,{}),H.jsxs(Xw,{children:[H.jsx(Dl,{path:"/login",element:H.jsx(YD,{auth:Rm,db:O1,user:n,userId:t,onLogout:s})}),H.jsx(Dl,{path:"/journal",element:H.jsx(QD,{user:n,db:O1})}),H.jsx(Dl,{path:"/chatbot",element:H.jsx(Kb,{user:n})}),H.jsx(Dl,{path:"/",element:H.jsx(Kw,{to:"/login",replace:!0})})]})]})}sw.createRoot(document.getElementById("root")).render(H.jsx(Q.StrictMode,{children:H.jsx(WD,{})}));
